(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[]]);!function(n){function e(e){for(var a,s,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(n[a]=l[a]);for(u&&u(e);p.length;)p.shift()();return r.push.apply(r,c||[]),t()}function t(){for(var n,e=0;e<r.length;e++){for(var t=r[e],a=!0,o=1;o<t.length;o++){var l=t[o];0!==i[l]&&(a=!1)}a&&(r.splice(e--,1),n=s(s.s=t[0]))}return n}var a={},i={1:0},r=[];function s(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.e=function(n){var e=[],t=i[n];if(0!==t)if(t)e.push(t[2]);else{var a=new Promise((function(e,a){t=i[n]=[e,a]}));e.push(t[2]=a);var r,o=document.createElement("script");o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.src=function(n){return s.p+"assets/js/"+({}[n]||n)+"."+{2:"06b51e28",3:"04a7b8c9",4:"23b49261",5:"cf7ce6d9",6:"de48cd74",7:"5fd9e1bc",8:"31885ab6",9:"88734d8e",10:"25ab3c87",11:"0710d907",12:"b69f61e1",13:"7c680a8f",14:"c2a530ec",15:"0344ac89",16:"8ba3e333",17:"d5aa2799",18:"220bdb83",19:"67fc625a",20:"8a296438",21:"bebe2d14",22:"a2f38cf1",23:"584f4a98",24:"b4f54e0d",25:"4e296918",26:"e9f8a341",27:"d1e12903",28:"aad73944",29:"1f69ecb2",30:"31228ad4",31:"876161e0",32:"00970883",33:"d6286171",34:"6f7f8dea",35:"61b61fb3",36:"ff818b3d",37:"3b4a7cce",38:"c3e4cbf3"}[n]+".js"}(n);var l=new Error;r=function(e){o.onerror=o.onload=null,clearTimeout(c);var t=i[n];if(0!==t){if(t){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;l.message="Loading chunk "+n+" failed.\n("+a+": "+r+")",l.name="ChunkLoadError",l.type=a,l.request=r,t[1](l)}i[n]=void 0}};var c=setTimeout((function(){r({type:"timeout",target:o})}),12e4);o.onerror=o.onload=r,document.head.appendChild(o)}return Promise.all(e)},s.m=n,s.c=a,s.d=function(n,e,t){s.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},s.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},s.t=function(n,e){if(1&e&&(n=s(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var a in n)s.d(t,a,function(e){return n[e]}.bind(null,a));return t},s.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return s.d(e,"a",e),e},s.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},s.p="/",s.oe=function(n){throw console.error(n),n};var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;r.push([103,0]),t()}([function(n,e,t){var a=t(55),i=a.all;n.exports=a.IS_HTMLDDA?function(n){return"function"==typeof n||n===i}:function(n){return"function"==typeof n}},function(n,e){var t=function(n){return n&&n.Math==Math&&n};n.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof global&&global)||function(){return this}()||Function("return this")()},function(n,e){n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,e,t){var a=t(28),i=Function.prototype,r=i.call,s=a&&i.bind.bind(r,r);n.exports=a?s:function(n){return function(){return r.apply(n,arguments)}}},function(n,e,t){var a=t(2);n.exports=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(n,e){var t=Array.isArray;n.exports=t},function(n,e,t){var a=t(69),i="object"==typeof self&&self&&self.Object===Object&&self,r=a||i||Function("return this")();n.exports=r},function(n,e,t){"use strict";function a(n,e,t,a,i,r,s,o){var l,c="function"==typeof n?n.options:n;if(e&&(c.render=e,c.staticRenderFns=t,c._compiled=!0),a&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),s?(l=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),i&&i.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(s)},c._ssrRegister=l):i&&(l=o?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(n,e){return l.call(e),u(n,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:n,options:c}}t.d(e,"a",(function(){return a}))},function(n,e,t){var a=t(3),i=t(31),r=a({}.hasOwnProperty);n.exports=Object.hasOwn||function(n,e){return r(i(n),e)}},function(n,e,t){var a=t(0),i=t(55),r=i.all;n.exports=i.IS_HTMLDDA?function(n){return"object"==typeof n?null!==n:a(n)||n===r}:function(n){return"object"==typeof n?null!==n:a(n)}},function(n,e,t){var a=t(162),i=t(165);n.exports=function(n,e){var t=i(n,e);return a(t)?t:void 0}},function(n,e,t){"use strict";t.d(e,"e",(function(){return a})),t.d(e,"b",(function(){return r})),t.d(e,"j",(function(){return s})),t.d(e,"g",(function(){return l})),t.d(e,"h",(function(){return c})),t.d(e,"i",(function(){return u})),t.d(e,"c",(function(){return d})),t.d(e,"f",(function(){return p})),t.d(e,"l",(function(){return m})),t.d(e,"m",(function(){return h})),t.d(e,"d",(function(){return f})),t.d(e,"k",(function(){return b})),t.d(e,"n",(function(){return v})),t.d(e,"a",(function(){return k}));t(13);const a=/#.*$/,i=/\.(md|html)$/,r=/\/$/,s=/^[a-z]+:/i;function o(n){return decodeURI(n).replace(a,"").replace(i,"")}function l(n){return s.test(n)}function c(n){return/^mailto:/.test(n)}function u(n){return/^tel:/.test(n)}function d(n){if(l(n))return n;if(!n)return"404";const e=n.match(a),t=e?e[0]:"",i=o(n);return r.test(i)?n:i+".html"+t}function p(n,e){const t=n.hash,i=function(n){const e=n&&n.match(a);if(e)return e[0]}(e);if(i&&t!==i)return!1;return o(n.path)===o(e)}function m(n,e,t){if(l(e))return{type:"external",path:e};t&&(e=function(n,e,t){const a=n.charAt(0);if("/"===a)return n;if("?"===a||"#"===a)return e+n;const i=e.split("/");t&&i[i.length-1]||i.pop();const r=n.replace(/^\//,"").split("/");for(let n=0;n<r.length;n++){const e=r[n];".."===e?i.pop():"."!==e&&i.push(e)}""!==i[0]&&i.unshift("");return i.join("/")}(e,t));const a=o(e);for(let e=0;e<n.length;e++)if(o(n[e].regularPath)===a)return Object.assign({},n[e],{type:"page",path:d(n[e].path)});return console.error(`[vuepress] No matching page found for sidebar item "${e}"`),{}}function h(n,e,t,a){const{pages:i,themeConfig:r}=t,s=a&&r.locales&&r.locales[a]||r;if("auto"===(n.frontmatter.sidebar||s.sidebar||r.sidebar))return g(n);const o=s.sidebar||r.sidebar;if(o){const{base:t,config:a}=function(n,e){if(Array.isArray(e))return{base:"/",config:e};for(const a in e)if(0===(t=n,/(\.html|\/)$/.test(t)?t:t+"/").indexOf(encodeURI(a)))return{base:a,config:e[a]};var t;return{}}(e,o);return"auto"===a?g(n):a?a.map(n=>function n(e,t,a,i=1){if("string"==typeof e)return m(t,e,a);if(Array.isArray(e))return Object.assign(m(t,e[0],a),{title:e[1]});{i>3&&console.error("[vuepress] detected a too deep nested sidebar group.");const r=e.children||[];return 0===r.length&&e.path?Object.assign(m(t,e.path,a),{title:e.title}):{type:"group",path:e.path,title:e.title,sidebarDepth:e.sidebarDepth,initialOpenGroupIndex:e.initialOpenGroupIndex,children:r.map(e=>n(e,t,a,i+1)),collapsable:!1!==e.collapsable}}}(n,i,t)):[]}return[]}function g(n){const e=f(n.headers||[]);return[{type:"group",collapsable:!1,title:n.title,path:null,children:e.map(e=>({type:"auto",title:e.title,basePath:n.path,path:n.path+"#"+e.slug,children:e.children||[]}))}]}function f(n){let e;return(n=n.map(n=>Object.assign({},n))).forEach(n=>{2===n.level?e=n:e&&(e.children||(e.children=[])).push(n)}),n.filter(n=>2===n.level)}function b(n){return Object.assign(n,{type:n.items&&n.items.length?"links":"link"})}function v(n){return Object.prototype.toString.call(n).match(/\[object (.*?)\]/)[1].toLowerCase()}function y(n){let e=n.frontmatter.date||n.lastUpdated||new Date,t=new Date(e);return"Invalid Date"==t&&e&&(t=new Date(e.replace(/-/g,"/"))),t.getTime()}function k(n,e){return y(e)-y(n)}},function(n,e){n.exports=function(n){return null!=n&&"object"==typeof n}},function(n,e,t){"use strict";var a=t(27),i=t(31),r=t(32),s=t(128),o=t(130),l=t(2)((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(n){return n instanceof TypeError}}();a({target:"Array",proto:!0,arity:1,forced:l||c},{push:function(n){var e=i(this),t=r(e),a=arguments.length;o(t+a);for(var l=0;l<a;l++)e[t]=arguments[l],t++;return s(e,t),t}})},function(n,e,t){var a=t(15),i=t(147),r=t(148),s=a?a.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":s&&s in Object(n)?i(n):r(n)}},function(n,e,t){var a=t(6).Symbol;n.exports=a},function(n,e,t){var a=t(4),i=t(64),r=t(99),s=t(26),o=t(54),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor;e.f=a?r?function(n,e,t){if(s(n),e=o(e),s(t),"function"==typeof n&&"prototype"===e&&"value"in t&&"writable"in t&&!t.writable){var a=u(n,e);a&&a.writable&&(n[e]=t.value,t={configurable:"configurable"in t?t.configurable:a.configurable,enumerable:"enumerable"in t?t.enumerable:a.enumerable,writable:!1})}return c(n,e,t)}:c:function(n,e,t){if(s(n),e=o(e),s(t),i)try{return c(n,e,t)}catch(n){}if("get"in t||"set"in t)throw l("Accessors not supported");return"value"in t&&(n[e]=t.value),n}},function(n,e,t){var a=t(3),i=a({}.toString),r=a("".slice);n.exports=function(n){return r(i(n),8,-1)}},function(n,e,t){var a=t(1),i=t(0),r=function(n){return i(n)?n:void 0};n.exports=function(n,e){return arguments.length<2?r(a[n]):a[n]&&a[n][e]}},function(n,e,t){var a=t(4),i=t(16),r=t(34);n.exports=a?function(n,e,t){return i.f(n,e,r(1,t))}:function(n,e,t){return n[e]=t,n}},function(n,e,t){var a=t(152),i=t(153),r=t(154),s=t(155),o=t(156);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var a=n[e];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=i,l.prototype.get=r,l.prototype.has=s,l.prototype.set=o,n.exports=l},function(n,e,t){var a=t(71);n.exports=function(n,e){for(var t=n.length;t--;)if(a(n[t][0],e))return t;return-1}},function(n,e,t){var a=t(10)(Object,"create");n.exports=a},function(n,e,t){var a=t(174);n.exports=function(n,e){var t=n.__data__;return a(e)?t["string"==typeof e?"string":"hash"]:t.map}},function(n,e,t){var a=t(44);n.exports=function(n){if("string"==typeof n||a(n))return n;var e=n+"";return"0"==e&&1/n==-1/0?"-0":e}},function(n,e,t){var a,i;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(i="function"==typeof(a=function(){var n,e,t={version:"0.2.0"},a=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function i(n,e,t){return n<e?e:n>t?t:n}function r(n){return 100*(-1+n)}t.configure=function(n){var e,t;for(e in n)void 0!==(t=n[e])&&n.hasOwnProperty(e)&&(a[e]=t);return this},t.status=null,t.set=function(n){var e=t.isStarted();n=i(n,a.minimum,1),t.status=1===n?null:n;var l=t.render(!e),c=l.querySelector(a.barSelector),u=a.speed,d=a.easing;return l.offsetWidth,s((function(e){""===a.positionUsing&&(a.positionUsing=t.getPositioningCSS()),o(c,function(n,e,t){var i;return(i="translate3d"===a.positionUsing?{transform:"translate3d("+r(n)+"%,0,0)"}:"translate"===a.positionUsing?{transform:"translate("+r(n)+"%,0)"}:{"margin-left":r(n)+"%"}).transition="all "+e+"ms "+t,i}(n,u,d)),1===n?(o(l,{transition:"none",opacity:1}),l.offsetWidth,setTimeout((function(){o(l,{transition:"all "+u+"ms linear",opacity:0}),setTimeout((function(){t.remove(),e()}),u)}),u)):setTimeout(e,u)})),this},t.isStarted=function(){return"number"==typeof t.status},t.start=function(){t.status||t.set(0);var n=function(){setTimeout((function(){t.status&&(t.trickle(),n())}),a.trickleSpeed)};return a.trickle&&n(),this},t.done=function(n){return n||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(n){var e=t.status;return e?("number"!=typeof n&&(n=(1-e)*i(Math.random()*e,.1,.95)),e=i(e+n,0,.994),t.set(e)):t.start()},t.trickle=function(){return t.inc(Math.random()*a.trickleRate)},n=0,e=0,t.promise=function(a){return a&&"resolved"!==a.state()?(0===e&&t.start(),n++,e++,a.always((function(){0==--e?(n=0,t.done()):t.set((n-e)/n)})),this):this},t.render=function(n){if(t.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=a.template;var i,s=e.querySelector(a.barSelector),l=n?"-100":r(t.status||0),u=document.querySelector(a.parent);return o(s,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),a.showSpinner||(i=e.querySelector(a.spinnerSelector))&&p(i),u!=document.body&&c(u,"nprogress-custom-parent"),u.appendChild(e),e},t.remove=function(){u(document.documentElement,"nprogress-busy"),u(document.querySelector(a.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&p(n)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var n=document.body.style,e="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return e+"Perspective"in n?"translate3d":e+"Transform"in n?"translate":"margin"};var s=function(){var n=[];function e(){var t=n.shift();t&&t(e)}return function(t){n.push(t),1==n.length&&e()}}(),o=function(){var n=["Webkit","O","Moz","ms"],e={};function t(t){return t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(n,e){return e.toUpperCase()})),e[t]||(e[t]=function(e){var t=document.body.style;if(e in t)return e;for(var a,i=n.length,r=e.charAt(0).toUpperCase()+e.slice(1);i--;)if((a=n[i]+r)in t)return a;return e}(t))}function a(n,e,a){e=t(e),n.style[e]=a}return function(n,e){var t,i,r=arguments;if(2==r.length)for(t in e)void 0!==(i=e[t])&&e.hasOwnProperty(t)&&a(n,t,i);else a(n,r[1],r[2])}}();function l(n,e){return("string"==typeof n?n:d(n)).indexOf(" "+e+" ")>=0}function c(n,e){var t=d(n),a=t+e;l(t,e)||(n.className=a.substring(1))}function u(n,e){var t,a=d(n);l(n,e)&&(t=a.replace(" "+e+" "," "),n.className=t.substring(1,t.length-1))}function d(n){return(" "+(n.className||"")+" ").replace(/\s+/gi," ")}function p(n){n&&n.parentNode&&n.parentNode.removeChild(n)}return t})?a.call(e,t,e,n):a)||(n.exports=i)},function(n,e,t){var a=t(9),i=String,r=TypeError;n.exports=function(n){if(a(n))return n;throw r(i(n)+" is not an object")}},function(n,e,t){var a=t(1),i=t(51).f,r=t(19),s=t(111),o=t(36),l=t(65),c=t(124);n.exports=function(n,e){var t,u,d,p,m,h=n.target,g=n.global,f=n.stat;if(t=g?a:f?a[h]||o(h,{}):(a[h]||{}).prototype)for(u in e){if(p=e[u],d=n.dontCallGetSet?(m=i(t,u))&&m.value:t[u],!c(g?u:h+(f?".":"#")+u,n.forced)&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(n.sham||d&&d.sham)&&r(p,"sham",!0),s(t,u,p,n)}}},function(n,e,t){var a=t(2);n.exports=!a((function(){var n=function(){}.bind();return"function"!=typeof n||n.hasOwnProperty("prototype")}))},function(n,e,t){var a=t(46),i=t(52);n.exports=function(n){return a(i(n))}},function(n,e,t){var a=t(1),i=t(61),r=t(8),s=t(63),o=t(59),l=t(58),c=i("wks"),u=a.Symbol,d=u&&u.for,p=l?u:u&&u.withoutSetter||s;n.exports=function(n){if(!r(c,n)||!o&&"string"!=typeof c[n]){var e="Symbol."+n;o&&r(u,n)?c[n]=u[n]:c[n]=l&&d?d(e):p(e)}return c[n]}},function(n,e,t){var a=t(52),i=Object;n.exports=function(n){return i(a(n))}},function(n,e,t){var a=t(122);n.exports=function(n){return a(n.length)}},function(n,e,t){var a=t(28),i=Function.prototype.call;n.exports=a?i.bind(i):function(){return i.apply(i,arguments)}},function(n,e){n.exports=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}}},function(n,e,t){var a=t(1),i=t(36),r=a["__core-js_shared__"]||i("__core-js_shared__",{});n.exports=r},function(n,e,t){var a=t(1),i=Object.defineProperty;n.exports=function(n,e){try{i(a,n,{value:e,configurable:!0,writable:!0})}catch(t){a[n]=e}return e}},function(n,e,t){var a=t(146),i=t(12),r=Object.prototype,s=r.hasOwnProperty,o=r.propertyIsEnumerable,l=a(function(){return arguments}())?a:function(n){return i(n)&&s.call(n,"callee")&&!o.call(n,"callee")};n.exports=l},function(n,e,t){var a=t(10)(t(6),"Map");n.exports=a},function(n,e){n.exports=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}},function(n,e,t){var a=t(166),i=t(173),r=t(175),s=t(176),o=t(177);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var a=n[e];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=i,l.prototype.get=r,l.prototype.has=s,l.prototype.set=o,n.exports=l},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n){t[++e]=n})),t}},function(n,e){n.exports=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991}},function(n,e,t){var a=t(5),i=t(44),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;n.exports=function(n,e){if(a(n))return!1;var t=typeof n;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=n&&!i(n))||(s.test(n)||!r.test(n)||null!=e&&n in Object(e))}},function(n,e,t){var a=t(14),i=t(12);n.exports=function(n){return"symbol"==typeof n||i(n)&&"[object Symbol]"==a(n)}},function(n,e){n.exports=function(n){return n}},function(n,e,t){var a=t(3),i=t(2),r=t(17),s=Object,o=a("".split);n.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(n){return"String"==r(n)?o(n,""):s(n)}:s},function(n,e,t){var a=t(0),i=t(109),r=TypeError;n.exports=function(n){if(a(n))return n;throw r(i(n)+" is not a function")}},function(n,e){n.exports={}},function(n,e){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,e){var t=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,r=/^0o[0-7]+$/i,s=parseInt,o="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,c=o||l||Function("return this")(),u=Object.prototype.toString,d=Math.max,p=Math.min,m=function(){return c.Date.now()};function h(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function g(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&"[object Symbol]"==u.call(n)}(n))return NaN;if(h(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=h(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(t,"");var o=i.test(n);return o||r.test(n)?s(n.slice(2),o?2:8):a.test(n)?NaN:+n}n.exports=function(n,e,t){var a,i,r,s,o,l,c=0,u=!1,f=!1,b=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function v(e){var t=a,r=i;return a=i=void 0,c=e,s=n.apply(r,t)}function y(n){return c=n,o=setTimeout(x,e),u?v(n):s}function k(n){var t=n-l;return void 0===l||t>=e||t<0||f&&n-c>=r}function x(){var n=m();if(k(n))return w(n);o=setTimeout(x,function(n){var t=e-(n-l);return f?p(t,r-(n-c)):t}(n))}function w(n){return o=void 0,b&&a?v(n):(a=i=void 0,s)}function E(){var n=m(),t=k(n);if(a=arguments,i=this,l=n,t){if(void 0===o)return y(l);if(f)return o=setTimeout(x,e),v(l)}return void 0===o&&(o=setTimeout(x,e)),s}return e=g(e)||0,h(t)&&(u=!!t.leading,r=(f="maxWait"in t)?d(g(t.maxWait)||0,e):r,b="trailing"in t?!!t.trailing:b),E.cancel=function(){void 0!==o&&clearTimeout(o),c=0,a=l=i=o=void 0},E.flush=function(){return void 0===o?s:w(m())},E}},function(n,e,t){var a=t(4),i=t(33),r=t(105),s=t(34),o=t(29),l=t(54),c=t(8),u=t(64),d=Object.getOwnPropertyDescriptor;e.f=a?d:function(n,e){if(n=o(n),e=l(e),u)try{return d(n,e)}catch(n){}if(c(n,e))return s(!i(r.f,n,e),n[e])}},function(n,e,t){var a=t(53),i=TypeError;n.exports=function(n){if(a(n))throw i("Can't call method on "+n);return n}},function(n,e){n.exports=function(n){return null==n}},function(n,e,t){var a=t(106),i=t(56);n.exports=function(n){var e=a(n,"string");return i(e)?e:e+""}},function(n,e){var t="object"==typeof document&&document.all,a=void 0===t&&void 0!==t;n.exports={all:t,IS_HTMLDDA:a}},function(n,e,t){var a=t(18),i=t(0),r=t(57),s=t(58),o=Object;n.exports=s?function(n){return"symbol"==typeof n}:function(n){var e=a("Symbol");return i(e)&&r(e.prototype,o(n))}},function(n,e,t){var a=t(3);n.exports=a({}.isPrototypeOf)},function(n,e,t){var a=t(59);n.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(n,e,t){var a=t(60),i=t(2);n.exports=!!Object.getOwnPropertySymbols&&!i((function(){var n=Symbol();return!String(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&a&&a<41}))},function(n,e,t){var a,i,r=t(1),s=t(107),o=r.process,l=r.Deno,c=o&&o.versions||l&&l.version,u=c&&c.v8;u&&(i=(a=u.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!i&&s&&(!(a=s.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=s.match(/Chrome\/(\d+)/))&&(i=+a[1]),n.exports=i},function(n,e,t){var a=t(62),i=t(35);(n.exports=function(n,e){return i[n]||(i[n]=void 0!==e?e:{})})("versions",[]).push({version:"3.26.1",mode:a?"pure":"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(n,e){n.exports=!1},function(n,e,t){var a=t(3),i=0,r=Math.random(),s=a(1..toString);n.exports=function(n){return"Symbol("+(void 0===n?"":n)+")_"+s(++i+r,36)}},function(n,e,t){var a=t(4),i=t(2),r=t(98);n.exports=!a&&!i((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},function(n,e,t){var a=t(8),i=t(117),r=t(51),s=t(16);n.exports=function(n,e,t){for(var o=i(e),l=s.f,c=r.f,u=0;u<o.length;u++){var d=o[u];a(n,d)||t&&a(t,d)||l(n,d,c(e,d))}}},function(n,e,t){var a=t(121);n.exports=function(n){var e=+n;return e!=e||0===e?0:a(e)}},function(n,e,t){var a=t(3),i=t(26),r=t(134);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,e=!1,t={};try{(n=a(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(t,[]),e=t instanceof Array}catch(n){}return function(t,a){return i(t),r(a),e?n(t,a):t.__proto__=a,t}}():void 0)},function(n,e){n.exports=function(n,e){for(var t=-1,a=e.length,i=n.length;++t<a;)n[i+t]=e[t];return n}},function(n,e){var t="object"==typeof global&&global&&global.Object===Object&&global;n.exports=t},function(n,e,t){var a=t(20),i=t(157),r=t(158),s=t(159),o=t(160),l=t(161);function c(n){var e=this.__data__=new a(n);this.size=e.size}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=s,c.prototype.has=o,c.prototype.set=l,n.exports=c},function(n,e){n.exports=function(n,e){return n===e||n!=n&&e!=e}},function(n,e,t){var a=t(14),i=t(39);n.exports=function(n){if(!i(n))return!1;var e=a(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(n,e){var t=Function.prototype.toString;n.exports=function(n){if(null!=n){try{return t.call(n)}catch(n){}try{return n+""}catch(n){}}return""}},function(n,e,t){var a=t(178),i=t(12);n.exports=function n(e,t,r,s,o){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!=e&&t!=t:a(e,t,r,s,n,o))}},function(n,e,t){var a=t(76),i=t(181),r=t(77);n.exports=function(n,e,t,s,o,l){var c=1&t,u=n.length,d=e.length;if(u!=d&&!(c&&d>u))return!1;var p=l.get(n),m=l.get(e);if(p&&m)return p==e&&m==n;var h=-1,g=!0,f=2&t?new a:void 0;for(l.set(n,e),l.set(e,n);++h<u;){var b=n[h],v=e[h];if(s)var y=c?s(v,b,h,e,n,l):s(b,v,h,n,e,l);if(void 0!==y){if(y)continue;g=!1;break}if(f){if(!i(e,(function(n,e){if(!r(f,e)&&(b===n||o(b,n,t,s,l)))return f.push(e)}))){g=!1;break}}else if(b!==v&&!o(b,v,t,s,l)){g=!1;break}}return l.delete(n),l.delete(e),g}},function(n,e,t){var a=t(40),i=t(179),r=t(180);function s(n){var e=-1,t=null==n?0:n.length;for(this.__data__=new a;++e<t;)this.add(n[e])}s.prototype.add=s.prototype.push=i,s.prototype.has=r,n.exports=s},function(n,e){n.exports=function(n,e){return n.has(e)}},function(n,e,t){var a=t(191),i=t(197),r=t(82);n.exports=function(n){return r(n)?a(n):i(n)}},function(n,e,t){(function(n){var a=t(6),i=t(193),r=e&&!e.nodeType&&e,s=r&&"object"==typeof n&&n&&!n.nodeType&&n,o=s&&s.exports===r?a.Buffer:void 0,l=(o?o.isBuffer:void 0)||i;n.exports=l}).call(this,t(49)(n))},function(n,e){var t=/^(?:0|[1-9]\d*)$/;n.exports=function(n,e){var a=typeof n;return!!(e=null==e?9007199254740991:e)&&("number"==a||"symbol"!=a&&t.test(n))&&n>-1&&n%1==0&&n<e}},function(n,e,t){var a=t(194),i=t(195),r=t(196),s=r&&r.isTypedArray,o=s?i(s):a;n.exports=o},function(n,e,t){var a=t(72),i=t(42);n.exports=function(n){return null!=n&&i(n.length)&&!a(n)}},function(n,e,t){var a=t(10)(t(6),"Set");n.exports=a},function(n,e,t){var a=t(39);n.exports=function(n){return n==n&&!a(n)}},function(n,e){n.exports=function(n,e){return function(t){return null!=t&&(t[n]===e&&(void 0!==e||n in Object(t)))}}},function(n,e,t){var a=t(87),i=t(24);n.exports=function(n,e){for(var t=0,r=(e=a(e,n)).length;null!=n&&t<r;)n=n[i(e[t++])];return t&&t==r?n:void 0}},function(n,e,t){var a=t(5),i=t(43),r=t(208),s=t(211);n.exports=function(n,e){return a(n)?n:i(n,e)?[n]:r(s(n))}},function(n,e){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){var a=t(144),i=t(149),r=t(220),s=t(228),o=t(237),l=t(102),c=r((function(n){var e=l(n);return o(e)&&(e=void 0),s(a(n,1,o,!0),i(e,2))}));n.exports=c},function(n,e,t){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var a=/["'&<>]/;n.exports=function(n){var e,t=""+n,i=a.exec(t);if(!i)return t;var r="",s=0,o=0;for(s=i.index;s<t.length;s++){switch(t.charCodeAt(s)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}o!==s&&(r+=t.substring(o,s)),o=s+1,r+=e}return o!==s?r+t.substring(o,s):r}},function(n,e,t){"use strict";t.r(e);var a={name:"CodeBlock",props:{title:{type:String,required:!0},active:{type:Boolean,default:!1}}},i=(t(240),t(7)),r=Object(i.a)(a,(function(){return(0,this._self._c)("div",{staticClass:"theme-code-block",class:{"theme-code-block__active":this.active}},[this._t("default")],2)}),[],!1,null,"4f1e9d0c",null);e.default=r.exports},function(n,e,t){"use strict";t.r(e);var a={name:"CodeGroup",data:()=>({codeTabs:[],activeCodeTabIndex:-1}),watch:{activeCodeTabIndex(n){this.codeTabs.forEach(n=>{n.elm.classList.remove("theme-code-block__active")}),this.codeTabs[n].elm.classList.add("theme-code-block__active")}},mounted(){this.codeTabs=(this.$slots.default||[]).filter(n=>Boolean(n.componentOptions)).map((n,e)=>(""===n.componentOptions.propsData.active&&(this.activeCodeTabIndex=e),{title:n.componentOptions.propsData.title,elm:n.elm})),-1===this.activeCodeTabIndex&&this.codeTabs.length>0&&(this.activeCodeTabIndex=0)},methods:{changeCodeTab(n){this.activeCodeTabIndex=n}}},i=(t(241),t(7)),r=Object(i.a)(a,(function(){var n=this,e=n._self._c;return e("div",{staticClass:"theme-code-group"},[e("div",{staticClass:"theme-code-group__nav"},[e("ul",{staticClass:"theme-code-group__ul"},n._l(n.codeTabs,(function(t,a){return e("li",{key:t.title,staticClass:"theme-code-group__li"},[e("button",{staticClass:"theme-code-group__nav-tab",class:{"theme-code-group__nav-tab-active":a===n.activeCodeTabIndex},on:{click:function(e){return n.changeCodeTab(a)}}},[n._v("\n            "+n._s(t.title)+"\n          ")])])})),0)]),n._v(" "),n._t("default"),n._v(" "),n.codeTabs.length<1?e("pre",{staticClass:"pre-blank"},[n._v("// Make sure to add code blocks to your code group")]):n._e()],2)}),[],!1,null,"2f5f1757",null);e.default=r.exports},function(n,e){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(n,e,t){var a=t(1),i=t(9),r=a.document,s=i(r)&&i(r.createElement);n.exports=function(n){return s?r.createElement(n):{}}},function(n,e,t){var a=t(4),i=t(2);n.exports=a&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(n,e,t){var a=t(61),i=t(63),r=a("keys");n.exports=function(n){return r[n]||(r[n]=i(n))}},function(n,e,t){var a=t(3),i=t(8),r=t(29),s=t(119).indexOf,o=t(48),l=a([].push);n.exports=function(n,e){var t,a=r(n),c=0,u=[];for(t in a)!i(o,t)&&i(a,t)&&l(u,t);for(;e.length>c;)i(a,t=e[c++])&&(~s(u,t)||l(u,t));return u}},function(n,e){n.exports=function(n){var e=null==n?0:n.length;return e?n[e-1]:void 0}},function(n,e,t){n.exports=t(246)},function(n,e,t){"use strict";var a=t(27),i=t(125).left,r=t(126),s=t(60),o=t(127);a({target:"Array",proto:!0,forced:!r("reduce")||!o&&s>79&&s<83},{reduce:function(n){var e=arguments.length;return i(this,n,e,e>1?arguments[1]:void 0)}})},function(n,e,t){"use strict";var a={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!a.call({1:2},1);e.f=r?function(n){var e=i(this,n);return!!e&&e.enumerable}:a},function(n,e,t){var a=t(33),i=t(9),r=t(56),s=t(108),o=t(110),l=t(30),c=TypeError,u=l("toPrimitive");n.exports=function(n,e){if(!i(n)||r(n))return n;var t,l=s(n,u);if(l){if(void 0===e&&(e="default"),t=a(l,n,e),!i(t)||r(t))return t;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),o(n,e)}},function(n,e,t){var a=t(18);n.exports=a("navigator","userAgent")||""},function(n,e,t){var a=t(47),i=t(53);n.exports=function(n,e){var t=n[e];return i(t)?void 0:a(t)}},function(n,e){var t=String;n.exports=function(n){try{return t(n)}catch(n){return"Object"}}},function(n,e,t){var a=t(33),i=t(0),r=t(9),s=TypeError;n.exports=function(n,e){var t,o;if("string"===e&&i(t=n.toString)&&!r(o=a(t,n)))return o;if(i(t=n.valueOf)&&!r(o=a(t,n)))return o;if("string"!==e&&i(t=n.toString)&&!r(o=a(t,n)))return o;throw s("Can't convert object to primitive value")}},function(n,e,t){var a=t(0),i=t(16),r=t(112),s=t(36);n.exports=function(n,e,t,o){o||(o={});var l=o.enumerable,c=void 0!==o.name?o.name:e;if(a(t)&&r(t,c,o),o.global)l?n[e]=t:s(e,t);else{try{o.unsafe?n[e]&&(l=!0):delete n[e]}catch(n){}l?n[e]=t:i.f(n,e,{value:t,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return n}},function(n,e,t){var a=t(2),i=t(0),r=t(8),s=t(4),o=t(113).CONFIGURABLE,l=t(114),c=t(115),u=c.enforce,d=c.get,p=Object.defineProperty,m=s&&!a((function(){return 8!==p((function(){}),"length",{value:8}).length})),h=String(String).split("String"),g=n.exports=function(n,e,t){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(e="get "+e),t&&t.setter&&(e="set "+e),(!r(n,"name")||o&&n.name!==e)&&(s?p(n,"name",{value:e,configurable:!0}):n.name=e),m&&t&&r(t,"arity")&&n.length!==t.arity&&p(n,"length",{value:t.arity});try{t&&r(t,"constructor")&&t.constructor?s&&p(n,"prototype",{writable:!1}):n.prototype&&(n.prototype=void 0)}catch(n){}var a=u(n);return r(a,"source")||(a.source=h.join("string"==typeof e?e:"")),n};Function.prototype.toString=g((function(){return i(this)&&d(this).source||l(this)}),"toString")},function(n,e,t){var a=t(4),i=t(8),r=Function.prototype,s=a&&Object.getOwnPropertyDescriptor,o=i(r,"name"),l=o&&"something"===function(){}.name,c=o&&(!a||a&&s(r,"name").configurable);n.exports={EXISTS:o,PROPER:l,CONFIGURABLE:c}},function(n,e,t){var a=t(3),i=t(0),r=t(35),s=a(Function.toString);i(r.inspectSource)||(r.inspectSource=function(n){return s(n)}),n.exports=r.inspectSource},function(n,e,t){var a,i,r,s=t(116),o=t(1),l=t(9),c=t(19),u=t(8),d=t(35),p=t(100),m=t(48),h=o.TypeError,g=o.WeakMap;if(s||d.state){var f=d.state||(d.state=new g);f.get=f.get,f.has=f.has,f.set=f.set,a=function(n,e){if(f.has(n))throw h("Object already initialized");return e.facade=n,f.set(n,e),e},i=function(n){return f.get(n)||{}},r=function(n){return f.has(n)}}else{var b=p("state");m[b]=!0,a=function(n,e){if(u(n,b))throw h("Object already initialized");return e.facade=n,c(n,b,e),e},i=function(n){return u(n,b)?n[b]:{}},r=function(n){return u(n,b)}}n.exports={set:a,get:i,has:r,enforce:function(n){return r(n)?i(n):a(n,{})},getterFor:function(n){return function(e){var t;if(!l(e)||(t=i(e)).type!==n)throw h("Incompatible receiver, "+n+" required");return t}}}},function(n,e,t){var a=t(1),i=t(0),r=a.WeakMap;n.exports=i(r)&&/native code/.test(String(r))},function(n,e,t){var a=t(18),i=t(3),r=t(118),s=t(123),o=t(26),l=i([].concat);n.exports=a("Reflect","ownKeys")||function(n){var e=r.f(o(n)),t=s.f;return t?l(e,t(n)):e}},function(n,e,t){var a=t(101),i=t(97).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(n){return a(n,i)}},function(n,e,t){var a=t(29),i=t(120),r=t(32),s=function(n){return function(e,t,s){var o,l=a(e),c=r(l),u=i(s,c);if(n&&t!=t){for(;c>u;)if((o=l[u++])!=o)return!0}else for(;c>u;u++)if((n||u in l)&&l[u]===t)return n||u||0;return!n&&-1}};n.exports={includes:s(!0),indexOf:s(!1)}},function(n,e,t){var a=t(66),i=Math.max,r=Math.min;n.exports=function(n,e){var t=a(n);return t<0?i(t+e,0):r(t,e)}},function(n,e){var t=Math.ceil,a=Math.floor;n.exports=Math.trunc||function(n){var e=+n;return(e>0?a:t)(e)}},function(n,e,t){var a=t(66),i=Math.min;n.exports=function(n){return n>0?i(a(n),9007199254740991):0}},function(n,e){e.f=Object.getOwnPropertySymbols},function(n,e,t){var a=t(2),i=t(0),r=/#|\.prototype\./,s=function(n,e){var t=l[o(n)];return t==u||t!=c&&(i(e)?a(e):!!e)},o=s.normalize=function(n){return String(n).replace(r,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";n.exports=s},function(n,e,t){var a=t(47),i=t(31),r=t(46),s=t(32),o=TypeError,l=function(n){return function(e,t,l,c){a(t);var u=i(e),d=r(u),p=s(u),m=n?p-1:0,h=n?-1:1;if(l<2)for(;;){if(m in d){c=d[m],m+=h;break}if(m+=h,n?m<0:p<=m)throw o("Reduce of empty array with no initial value")}for(;n?m>=0:p>m;m+=h)m in d&&(c=t(c,d[m],m,u));return c}};n.exports={left:l(!1),right:l(!0)}},function(n,e,t){"use strict";var a=t(2);n.exports=function(n,e){var t=[][n];return!!t&&a((function(){t.call(null,e||function(){return 1},1)}))}},function(n,e,t){var a=t(17),i=t(1);n.exports="process"==a(i.process)},function(n,e,t){"use strict";var a=t(4),i=t(129),r=TypeError,s=Object.getOwnPropertyDescriptor,o=a&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(n){return n instanceof TypeError}}();n.exports=o?function(n,e){if(i(n)&&!s(n,"length").writable)throw r("Cannot set read only .length");return n.length=e}:function(n,e){return n.length=e}},function(n,e,t){var a=t(17);n.exports=Array.isArray||function(n){return"Array"==a(n)}},function(n,e){var t=TypeError;n.exports=function(n){if(n>9007199254740991)throw t("Maximum allowed index exceeded");return n}},function(n,e,t){var a=t(27),i=t(1),r=t(132),s=t(133),o=i.WebAssembly,l=7!==Error("e",{cause:7}).cause,c=function(n,e){var t={};t[n]=s(n,e,l),a({global:!0,constructor:!0,arity:1,forced:l},t)},u=function(n,e){if(o&&o[n]){var t={};t[n]=s("WebAssembly."+n,e,l),a({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:l},t)}};c("Error",(function(n){return function(e){return r(n,this,arguments)}})),c("EvalError",(function(n){return function(e){return r(n,this,arguments)}})),c("RangeError",(function(n){return function(e){return r(n,this,arguments)}})),c("ReferenceError",(function(n){return function(e){return r(n,this,arguments)}})),c("SyntaxError",(function(n){return function(e){return r(n,this,arguments)}})),c("TypeError",(function(n){return function(e){return r(n,this,arguments)}})),c("URIError",(function(n){return function(e){return r(n,this,arguments)}})),u("CompileError",(function(n){return function(e){return r(n,this,arguments)}})),u("LinkError",(function(n){return function(e){return r(n,this,arguments)}})),u("RuntimeError",(function(n){return function(e){return r(n,this,arguments)}}))},function(n,e,t){var a=t(28),i=Function.prototype,r=i.apply,s=i.call;n.exports="object"==typeof Reflect&&Reflect.apply||(a?s.bind(r):function(){return s.apply(r,arguments)})},function(n,e,t){"use strict";var a=t(18),i=t(8),r=t(19),s=t(57),o=t(67),l=t(65),c=t(135),u=t(136),d=t(137),p=t(141),m=t(142),h=t(143),g=t(4),f=t(62);n.exports=function(n,e,t,b){var v=b?2:1,y=n.split("."),k=y[y.length-1],x=a.apply(null,y);if(x){var w=x.prototype;if(!f&&i(w,"cause")&&delete w.cause,!t)return x;var E=a("Error"),_=e((function(n,e){var t=d(b?e:n,void 0),a=b?new x(n):new x;return void 0!==t&&r(a,"message",t),h&&r(a,"stack",m(a.stack,2)),this&&s(w,this)&&u(a,this,_),arguments.length>v&&p(a,arguments[v]),a}));if(_.prototype=w,"Error"!==k?o?o(_,E):l(_,E,{name:!0}):g&&"stackTraceLimit"in x&&(c(_,x,"stackTraceLimit"),c(_,x,"prepareStackTrace")),l(_,x),!f)try{w.name!==k&&r(w,"name",k),w.constructor=_}catch(n){}return _}}},function(n,e,t){var a=t(0),i=String,r=TypeError;n.exports=function(n){if("object"==typeof n||a(n))return n;throw r("Can't set "+i(n)+" as a prototype")}},function(n,e,t){var a=t(16).f;n.exports=function(n,e,t){t in n||a(n,t,{configurable:!0,get:function(){return e[t]},set:function(n){e[t]=n}})}},function(n,e,t){var a=t(0),i=t(9),r=t(67);n.exports=function(n,e,t){var s,o;return r&&a(s=e.constructor)&&s!==t&&i(o=s.prototype)&&o!==t.prototype&&r(n,o),n}},function(n,e,t){var a=t(138);n.exports=function(n,e){return void 0===n?arguments.length<2?"":e:a(n)}},function(n,e,t){var a=t(139),i=String;n.exports=function(n){if("Symbol"===a(n))throw TypeError("Cannot convert a Symbol value to a string");return i(n)}},function(n,e,t){var a=t(140),i=t(0),r=t(17),s=t(30)("toStringTag"),o=Object,l="Arguments"==r(function(){return arguments}());n.exports=a?r:function(n){var e,t,a;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(t=function(n,e){try{return n[e]}catch(n){}}(e=o(n),s))?t:l?r(e):"Object"==(a=r(e))&&i(e.callee)?"Arguments":a}},function(n,e,t){var a={};a[t(30)("toStringTag")]="z",n.exports="[object z]"===String(a)},function(n,e,t){var a=t(9),i=t(19);n.exports=function(n,e){a(e)&&"cause"in e&&i(n,"cause",e.cause)}},function(n,e,t){var a=t(3),i=Error,r=a("".replace),s=String(i("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,l=o.test(s);n.exports=function(n,e){if(l&&"string"==typeof n&&!i.prepareStackTrace)for(;e--;)n=r(n,o,"");return n}},function(n,e,t){var a=t(2),i=t(34);n.exports=!a((function(){var n=Error("a");return!("stack"in n)||(Object.defineProperty(n,"stack",i(1,7)),7!==n.stack)}))},function(n,e,t){var a=t(68),i=t(145);n.exports=function n(e,t,r,s,o){var l=-1,c=e.length;for(r||(r=i),o||(o=[]);++l<c;){var u=e[l];t>0&&r(u)?t>1?n(u,t-1,r,s,o):a(o,u):s||(o[o.length]=u)}return o}},function(n,e,t){var a=t(15),i=t(37),r=t(5),s=a?a.isConcatSpreadable:void 0;n.exports=function(n){return r(n)||i(n)||!!(s&&n&&n[s])}},function(n,e,t){var a=t(14),i=t(12);n.exports=function(n){return i(n)&&"[object Arguments]"==a(n)}},function(n,e,t){var a=t(15),i=Object.prototype,r=i.hasOwnProperty,s=i.toString,o=a?a.toStringTag:void 0;n.exports=function(n){var e=r.call(n,o),t=n[o];try{n[o]=void 0;var a=!0}catch(n){}var i=s.call(n);return a&&(e?n[o]=t:delete n[o]),i}},function(n,e){var t=Object.prototype.toString;n.exports=function(n){return t.call(n)}},function(n,e,t){var a=t(150),i=t(206),r=t(45),s=t(5),o=t(217);n.exports=function(n){return"function"==typeof n?n:null==n?r:"object"==typeof n?s(n)?i(n[0],n[1]):a(n):o(n)}},function(n,e,t){var a=t(151),i=t(205),r=t(85);n.exports=function(n){var e=i(n);return 1==e.length&&e[0][2]?r(e[0][0],e[0][1]):function(t){return t===n||a(t,n,e)}}},function(n,e,t){var a=t(70),i=t(74);n.exports=function(n,e,t,r){var s=t.length,o=s,l=!r;if(null==n)return!o;for(n=Object(n);s--;){var c=t[s];if(l&&c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++s<o;){var u=(c=t[s])[0],d=n[u],p=c[1];if(l&&c[2]){if(void 0===d&&!(u in n))return!1}else{var m=new a;if(r)var h=r(d,p,u,n,e,m);if(!(void 0===h?i(p,d,3,r,m):h))return!1}}return!0}},function(n,e){n.exports=function(){this.__data__=[],this.size=0}},function(n,e,t){var a=t(21),i=Array.prototype.splice;n.exports=function(n){var e=this.__data__,t=a(e,n);return!(t<0)&&(t==e.length-1?e.pop():i.call(e,t,1),--this.size,!0)}},function(n,e,t){var a=t(21);n.exports=function(n){var e=this.__data__,t=a(e,n);return t<0?void 0:e[t][1]}},function(n,e,t){var a=t(21);n.exports=function(n){return a(this.__data__,n)>-1}},function(n,e,t){var a=t(21);n.exports=function(n,e){var t=this.__data__,i=a(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}},function(n,e,t){var a=t(20);n.exports=function(){this.__data__=new a,this.size=0}},function(n,e){n.exports=function(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}},function(n,e){n.exports=function(n){return this.__data__.get(n)}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e,t){var a=t(20),i=t(38),r=t(40);n.exports=function(n,e){var t=this.__data__;if(t instanceof a){var s=t.__data__;if(!i||s.length<199)return s.push([n,e]),this.size=++t.size,this;t=this.__data__=new r(s)}return t.set(n,e),this.size=t.size,this}},function(n,e,t){var a=t(72),i=t(163),r=t(39),s=t(73),o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(n){return!(!r(n)||i(n))&&(a(n)?p:o).test(s(n))}},function(n,e,t){var a,i=t(164),r=(a=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"";n.exports=function(n){return!!r&&r in n}},function(n,e,t){var a=t(6)["__core-js_shared__"];n.exports=a},function(n,e){n.exports=function(n,e){return null==n?void 0:n[e]}},function(n,e,t){var a=t(167),i=t(20),r=t(38);n.exports=function(){this.size=0,this.__data__={hash:new a,map:new(r||i),string:new a}}},function(n,e,t){var a=t(168),i=t(169),r=t(170),s=t(171),o=t(172);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var a=n[e];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=i,l.prototype.get=r,l.prototype.has=s,l.prototype.set=o,n.exports=l},function(n,e,t){var a=t(22);n.exports=function(){this.__data__=a?a(null):{},this.size=0}},function(n,e){n.exports=function(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}},function(n,e,t){var a=t(22),i=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;if(a){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return i.call(e,n)?e[n]:void 0}},function(n,e,t){var a=t(22),i=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;return a?void 0!==e[n]:i.call(e,n)}},function(n,e,t){var a=t(22);n.exports=function(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=a&&void 0===e?"__lodash_hash_undefined__":e,this}},function(n,e,t){var a=t(23);n.exports=function(n){var e=a(this,n).delete(n);return this.size-=e?1:0,e}},function(n,e){n.exports=function(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}},function(n,e,t){var a=t(23);n.exports=function(n){return a(this,n).get(n)}},function(n,e,t){var a=t(23);n.exports=function(n){return a(this,n).has(n)}},function(n,e,t){var a=t(23);n.exports=function(n,e){var t=a(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}},function(n,e,t){var a=t(70),i=t(75),r=t(182),s=t(185),o=t(201),l=t(5),c=t(79),u=t(81),d="[object Object]",p=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,m,h,g){var f=l(n),b=l(e),v=f?"[object Array]":o(n),y=b?"[object Array]":o(e),k=(v="[object Arguments]"==v?d:v)==d,x=(y="[object Arguments]"==y?d:y)==d,w=v==y;if(w&&c(n)){if(!c(e))return!1;f=!0,k=!1}if(w&&!k)return g||(g=new a),f||u(n)?i(n,e,t,m,h,g):r(n,e,v,t,m,h,g);if(!(1&t)){var E=k&&p.call(n,"__wrapped__"),_=x&&p.call(e,"__wrapped__");if(E||_){var S=E?n.value():n,C=_?e.value():e;return g||(g=new a),h(S,C,t,m,g)}}return!!w&&(g||(g=new a),s(n,e,t,m,h,g))}},function(n,e){n.exports=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e){n.exports=function(n,e){for(var t=-1,a=null==n?0:n.length;++t<a;)if(e(n[t],t,n))return!0;return!1}},function(n,e,t){var a=t(15),i=t(183),r=t(71),s=t(75),o=t(184),l=t(41),c=a?a.prototype:void 0,u=c?c.valueOf:void 0;n.exports=function(n,e,t,a,c,d,p){switch(t){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!d(new i(n),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var m=o;case"[object Set]":var h=1&a;if(m||(m=l),n.size!=e.size&&!h)return!1;var g=p.get(n);if(g)return g==e;a|=2,p.set(n,e);var f=s(m(n),m(e),a,c,d,p);return p.delete(n),f;case"[object Symbol]":if(u)return u.call(n)==u.call(e)}return!1}},function(n,e,t){var a=t(6).Uint8Array;n.exports=a},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n,a){t[++e]=[a,n]})),t}},function(n,e,t){var a=t(186),i=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,r,s,o){var l=1&t,c=a(n),u=c.length;if(u!=a(e).length&&!l)return!1;for(var d=u;d--;){var p=c[d];if(!(l?p in e:i.call(e,p)))return!1}var m=o.get(n),h=o.get(e);if(m&&h)return m==e&&h==n;var g=!0;o.set(n,e),o.set(e,n);for(var f=l;++d<u;){var b=n[p=c[d]],v=e[p];if(r)var y=l?r(v,b,p,e,n,o):r(b,v,p,n,e,o);if(!(void 0===y?b===v||s(b,v,t,r,o):y)){g=!1;break}f||(f="constructor"==p)}if(g&&!f){var k=n.constructor,x=e.constructor;k==x||!("constructor"in n)||!("constructor"in e)||"function"==typeof k&&k instanceof k&&"function"==typeof x&&x instanceof x||(g=!1)}return o.delete(n),o.delete(e),g}},function(n,e,t){var a=t(187),i=t(188),r=t(78);n.exports=function(n){return a(n,r,i)}},function(n,e,t){var a=t(68),i=t(5);n.exports=function(n,e,t){var r=e(n);return i(n)?r:a(r,t(n))}},function(n,e,t){var a=t(189),i=t(190),r=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,o=s?function(n){return null==n?[]:(n=Object(n),a(s(n),(function(e){return r.call(n,e)})))}:i;n.exports=o},function(n,e){n.exports=function(n,e){for(var t=-1,a=null==n?0:n.length,i=0,r=[];++t<a;){var s=n[t];e(s,t,n)&&(r[i++]=s)}return r}},function(n,e){n.exports=function(){return[]}},function(n,e,t){var a=t(192),i=t(37),r=t(5),s=t(79),o=t(80),l=t(81),c=Object.prototype.hasOwnProperty;n.exports=function(n,e){var t=r(n),u=!t&&i(n),d=!t&&!u&&s(n),p=!t&&!u&&!d&&l(n),m=t||u||d||p,h=m?a(n.length,String):[],g=h.length;for(var f in n)!e&&!c.call(n,f)||m&&("length"==f||d&&("offset"==f||"parent"==f)||p&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||o(f,g))||h.push(f);return h}},function(n,e){n.exports=function(n,e){for(var t=-1,a=Array(n);++t<n;)a[t]=e(t);return a}},function(n,e){n.exports=function(){return!1}},function(n,e,t){var a=t(14),i=t(42),r=t(12),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,n.exports=function(n){return r(n)&&i(n.length)&&!!s[a(n)]}},function(n,e){n.exports=function(n){return function(e){return n(e)}}},function(n,e,t){(function(n){var a=t(69),i=e&&!e.nodeType&&e,r=i&&"object"==typeof n&&n&&!n.nodeType&&n,s=r&&r.exports===i&&a.process,o=function(){try{var n=r&&r.require&&r.require("util").types;return n||s&&s.binding&&s.binding("util")}catch(n){}}();n.exports=o}).call(this,t(49)(n))},function(n,e,t){var a=t(198),i=t(199),r=Object.prototype.hasOwnProperty;n.exports=function(n){if(!a(n))return i(n);var e=[];for(var t in Object(n))r.call(n,t)&&"constructor"!=t&&e.push(t);return e}},function(n,e){var t=Object.prototype;n.exports=function(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||t)}},function(n,e,t){var a=t(200)(Object.keys,Object);n.exports=a},function(n,e){n.exports=function(n,e){return function(t){return n(e(t))}}},function(n,e,t){var a=t(202),i=t(38),r=t(203),s=t(83),o=t(204),l=t(14),c=t(73),u=c(a),d=c(i),p=c(r),m=c(s),h=c(o),g=l;(a&&"[object DataView]"!=g(new a(new ArrayBuffer(1)))||i&&"[object Map]"!=g(new i)||r&&"[object Promise]"!=g(r.resolve())||s&&"[object Set]"!=g(new s)||o&&"[object WeakMap]"!=g(new o))&&(g=function(n){var e=l(n),t="[object Object]"==e?n.constructor:void 0,a=t?c(t):"";if(a)switch(a){case u:return"[object DataView]";case d:return"[object Map]";case p:return"[object Promise]";case m:return"[object Set]";case h:return"[object WeakMap]"}return e}),n.exports=g},function(n,e,t){var a=t(10)(t(6),"DataView");n.exports=a},function(n,e,t){var a=t(10)(t(6),"Promise");n.exports=a},function(n,e,t){var a=t(10)(t(6),"WeakMap");n.exports=a},function(n,e,t){var a=t(84),i=t(78);n.exports=function(n){for(var e=i(n),t=e.length;t--;){var r=e[t],s=n[r];e[t]=[r,s,a(s)]}return e}},function(n,e,t){var a=t(74),i=t(207),r=t(214),s=t(43),o=t(84),l=t(85),c=t(24);n.exports=function(n,e){return s(n)&&o(e)?l(c(n),e):function(t){var s=i(t,n);return void 0===s&&s===e?r(t,n):a(e,s,3)}}},function(n,e,t){var a=t(86);n.exports=function(n,e,t){var i=null==n?void 0:a(n,e);return void 0===i?t:i}},function(n,e,t){var a=t(209),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,s=a((function(n){var e=[];return 46===n.charCodeAt(0)&&e.push(""),n.replace(i,(function(n,t,a,i){e.push(a?i.replace(r,"$1"):t||n)})),e}));n.exports=s},function(n,e,t){var a=t(210);n.exports=function(n){var e=a(n,(function(n){return 500===t.size&&t.clear(),n})),t=e.cache;return e}},function(n,e,t){var a=t(40);function i(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){var a=arguments,i=e?e.apply(this,a):a[0],r=t.cache;if(r.has(i))return r.get(i);var s=n.apply(this,a);return t.cache=r.set(i,s)||r,s};return t.cache=new(i.Cache||a),t}i.Cache=a,n.exports=i},function(n,e,t){var a=t(212);n.exports=function(n){return null==n?"":a(n)}},function(n,e,t){var a=t(15),i=t(213),r=t(5),s=t(44),o=a?a.prototype:void 0,l=o?o.toString:void 0;n.exports=function n(e){if("string"==typeof e)return e;if(r(e))return i(e,n)+"";if(s(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(n,e){n.exports=function(n,e){for(var t=-1,a=null==n?0:n.length,i=Array(a);++t<a;)i[t]=e(n[t],t,n);return i}},function(n,e,t){var a=t(215),i=t(216);n.exports=function(n,e){return null!=n&&i(n,e,a)}},function(n,e){n.exports=function(n,e){return null!=n&&e in Object(n)}},function(n,e,t){var a=t(87),i=t(37),r=t(5),s=t(80),o=t(42),l=t(24);n.exports=function(n,e,t){for(var c=-1,u=(e=a(e,n)).length,d=!1;++c<u;){var p=l(e[c]);if(!(d=null!=n&&t(n,p)))break;n=n[p]}return d||++c!=u?d:!!(u=null==n?0:n.length)&&o(u)&&s(p,u)&&(r(n)||i(n))}},function(n,e,t){var a=t(218),i=t(219),r=t(43),s=t(24);n.exports=function(n){return r(n)?a(s(n)):i(n)}},function(n,e){n.exports=function(n){return function(e){return null==e?void 0:e[n]}}},function(n,e,t){var a=t(86);n.exports=function(n){return function(e){return a(e,n)}}},function(n,e,t){var a=t(45),i=t(221),r=t(223);n.exports=function(n,e){return r(i(n,e,a),n+"")}},function(n,e,t){var a=t(222),i=Math.max;n.exports=function(n,e,t){return e=i(void 0===e?n.length-1:e,0),function(){for(var r=arguments,s=-1,o=i(r.length-e,0),l=Array(o);++s<o;)l[s]=r[e+s];s=-1;for(var c=Array(e+1);++s<e;)c[s]=r[s];return c[e]=t(l),a(n,this,c)}}},function(n,e){n.exports=function(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}},function(n,e,t){var a=t(224),i=t(227)(a);n.exports=i},function(n,e,t){var a=t(225),i=t(226),r=t(45),s=i?function(n,e){return i(n,"toString",{configurable:!0,enumerable:!1,value:a(e),writable:!0})}:r;n.exports=s},function(n,e){n.exports=function(n){return function(){return n}}},function(n,e,t){var a=t(10),i=function(){try{var n=a(Object,"defineProperty");return n({},"",{}),n}catch(n){}}();n.exports=i},function(n,e){var t=Date.now;n.exports=function(n){var e=0,a=0;return function(){var i=t(),r=16-(i-a);if(a=i,r>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}},function(n,e,t){var a=t(76),i=t(229),r=t(234),s=t(77),o=t(235),l=t(41);n.exports=function(n,e,t){var c=-1,u=i,d=n.length,p=!0,m=[],h=m;if(t)p=!1,u=r;else if(d>=200){var g=e?null:o(n);if(g)return l(g);p=!1,u=s,h=new a}else h=e?[]:m;n:for(;++c<d;){var f=n[c],b=e?e(f):f;if(f=t||0!==f?f:0,p&&b==b){for(var v=h.length;v--;)if(h[v]===b)continue n;e&&h.push(b),m.push(f)}else u(h,b,t)||(h!==m&&h.push(b),m.push(f))}return m}},function(n,e,t){var a=t(230);n.exports=function(n,e){return!!(null==n?0:n.length)&&a(n,e,0)>-1}},function(n,e,t){var a=t(231),i=t(232),r=t(233);n.exports=function(n,e,t){return e==e?r(n,e,t):a(n,i,t)}},function(n,e){n.exports=function(n,e,t,a){for(var i=n.length,r=t+(a?1:-1);a?r--:++r<i;)if(e(n[r],r,n))return r;return-1}},function(n,e){n.exports=function(n){return n!=n}},function(n,e){n.exports=function(n,e,t){for(var a=t-1,i=n.length;++a<i;)if(n[a]===e)return a;return-1}},function(n,e){n.exports=function(n,e,t){for(var a=-1,i=null==n?0:n.length;++a<i;)if(t(e,n[a]))return!0;return!1}},function(n,e,t){var a=t(83),i=t(236),r=t(41),s=a&&1/r(new a([,-0]))[1]==1/0?function(n){return new a(n)}:i;n.exports=s},function(n,e){n.exports=function(){}},function(n,e,t){var a=t(82),i=t(12);n.exports=function(n){return i(n)&&a(n)}},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t(89)},function(n,e,t){"use strict";t(90)},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t(91)},function(n,e,t){"use strict";t(92)},function(n,e,t){"use strict";t.r(e);
/*!
 * Vue.js v2.7.14
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */
var a=Object.freeze({}),i=Array.isArray;function r(n){return null==n}function s(n){return null!=n}function o(n){return!0===n}function l(n){return"string"==typeof n||"number"==typeof n||"symbol"==typeof n||"boolean"==typeof n}function c(n){return"function"==typeof n}function u(n){return null!==n&&"object"==typeof n}var d=Object.prototype.toString;function p(n){return"[object Object]"===d.call(n)}function m(n){return"[object RegExp]"===d.call(n)}function h(n){var e=parseFloat(String(n));return e>=0&&Math.floor(e)===e&&isFinite(n)}function g(n){return s(n)&&"function"==typeof n.then&&"function"==typeof n.catch}function f(n){return null==n?"":Array.isArray(n)||p(n)&&n.toString===d?JSON.stringify(n,null,2):String(n)}function b(n){var e=parseFloat(n);return isNaN(e)?n:e}function v(n,e){for(var t=Object.create(null),a=n.split(","),i=0;i<a.length;i++)t[a[i]]=!0;return e?function(n){return t[n.toLowerCase()]}:function(n){return t[n]}}v("slot,component",!0);var y=v("key,ref,slot,slot-scope,is");function k(n,e){var t=n.length;if(t){if(e===n[t-1])return void(n.length=t-1);var a=n.indexOf(e);if(a>-1)return n.splice(a,1)}}var x=Object.prototype.hasOwnProperty;function w(n,e){return x.call(n,e)}function E(n){var e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}var _=/-(\w)/g,S=E((function(n){return n.replace(_,(function(n,e){return e?e.toUpperCase():""}))})),C=E((function(n){return n.charAt(0).toUpperCase()+n.slice(1)})),j=/\B([A-Z])/g,T=E((function(n){return n.replace(j,"-$1").toLowerCase()}));var q=Function.prototype.bind?function(n,e){return n.bind(e)}:function(n,e){function t(t){var a=arguments.length;return a?a>1?n.apply(e,arguments):n.call(e,t):n.call(e)}return t._length=n.length,t};function R(n,e){e=e||0;for(var t=n.length-e,a=new Array(t);t--;)a[t]=n[t+e];return a}function M(n,e){for(var t in e)n[t]=e[t];return n}function A(n){for(var e={},t=0;t<n.length;t++)n[t]&&M(e,n[t]);return e}function z(n,e,t){}var I=function(n,e,t){return!1},B=function(n){return n};function O(n,e){if(n===e)return!0;var t=u(n),a=u(e);if(!t||!a)return!t&&!a&&String(n)===String(e);try{var i=Array.isArray(n),r=Array.isArray(e);if(i&&r)return n.length===e.length&&n.every((function(n,t){return O(n,e[t])}));if(n instanceof Date&&e instanceof Date)return n.getTime()===e.getTime();if(i||r)return!1;var s=Object.keys(n),o=Object.keys(e);return s.length===o.length&&s.every((function(t){return O(n[t],e[t])}))}catch(n){return!1}}function P(n,e){for(var t=0;t<n.length;t++)if(O(n[t],e))return t;return-1}function Q(n){var e=!1;return function(){e||(e=!0,n.apply(this,arguments))}}function D(n,e){return n===e?0===n&&1/n!=1/e:n==n||e==e}var L=["component","directive","filter"],N=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],U={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:I,isReservedAttr:I,isUnknownElement:I,getTagNamespace:z,parsePlatformTagName:B,mustUseProp:I,async:!0,_lifecycleHooks:N},$=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function J(n){var e=(n+"").charCodeAt(0);return 36===e||95===e}function F(n,e,t,a){Object.defineProperty(n,e,{value:t,enumerable:!!a,writable:!0,configurable:!0})}var G=new RegExp("[^".concat($.source,".$_\\d]"));var H="__proto__"in{},K="undefined"!=typeof window,X=K&&window.navigator.userAgent.toLowerCase(),V=X&&/msie|trident/.test(X),W=X&&X.indexOf("msie 9.0")>0,Y=X&&X.indexOf("edge/")>0;X&&X.indexOf("android");var Z=X&&/iphone|ipad|ipod|ios/.test(X);X&&/chrome\/\d+/.test(X),X&&/phantomjs/.test(X);var nn,en=X&&X.match(/firefox\/(\d+)/),tn={}.watch,an=!1;if(K)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){an=!0}}),window.addEventListener("test-passive",null,rn)}catch(n){}var sn=function(){return void 0===nn&&(nn=!K&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),nn},on=K&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ln(n){return"function"==typeof n&&/native code/.test(n.toString())}var cn,un="undefined"!=typeof Symbol&&ln(Symbol)&&"undefined"!=typeof Reflect&&ln(Reflect.ownKeys);cn="undefined"!=typeof Set&&ln(Set)?Set:function(){function n(){this.set=Object.create(null)}return n.prototype.has=function(n){return!0===this.set[n]},n.prototype.add=function(n){this.set[n]=!0},n.prototype.clear=function(){this.set=Object.create(null)},n}();var dn=null;function pn(n){void 0===n&&(n=null),n||dn&&dn._scope.off(),dn=n,n&&n._scope.on()}var mn=function(){function n(n,e,t,a,i,r,s,o){this.tag=n,this.data=e,this.children=t,this.text=a,this.elm=i,this.ns=void 0,this.context=r,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=o,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(n.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),n}(),hn=function(n){void 0===n&&(n="");var e=new mn;return e.text=n,e.isComment=!0,e};function gn(n){return new mn(void 0,void 0,void 0,String(n))}function fn(n){var e=new mn(n.tag,n.data,n.children&&n.children.slice(),n.text,n.elm,n.context,n.componentOptions,n.asyncFactory);return e.ns=n.ns,e.isStatic=n.isStatic,e.key=n.key,e.isComment=n.isComment,e.fnContext=n.fnContext,e.fnOptions=n.fnOptions,e.fnScopeId=n.fnScopeId,e.asyncMeta=n.asyncMeta,e.isCloned=!0,e}var bn=0,vn=[],yn=function(){function n(){this._pending=!1,this.id=bn++,this.subs=[]}return n.prototype.addSub=function(n){this.subs.push(n)},n.prototype.removeSub=function(n){this.subs[this.subs.indexOf(n)]=null,this._pending||(this._pending=!0,vn.push(this))},n.prototype.depend=function(e){n.target&&n.target.addDep(this)},n.prototype.notify=function(n){var e=this.subs.filter((function(n){return n}));for(var t=0,a=e.length;t<a;t++){0,e[t].update()}},n}();yn.target=null;var kn=[];function xn(n){kn.push(n),yn.target=n}function wn(){kn.pop(),yn.target=kn[kn.length-1]}var En=Array.prototype,_n=Object.create(En);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(n){var e=En[n];F(_n,n,(function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var i,r=e.apply(this,t),s=this.__ob__;switch(n){case"push":case"unshift":i=t;break;case"splice":i=t.slice(2)}return i&&s.observeArray(i),s.dep.notify(),r}))}));var Sn=Object.getOwnPropertyNames(_n),Cn={},jn=!0;function Tn(n){jn=n}var qn={notify:z,depend:z,addSub:z,removeSub:z},Rn=function(){function n(n,e,t){if(void 0===e&&(e=!1),void 0===t&&(t=!1),this.value=n,this.shallow=e,this.mock=t,this.dep=t?qn:new yn,this.vmCount=0,F(n,"__ob__",this),i(n)){if(!t)if(H)n.__proto__=_n;else for(var a=0,r=Sn.length;a<r;a++){F(n,o=Sn[a],_n[o])}e||this.observeArray(n)}else{var s=Object.keys(n);for(a=0;a<s.length;a++){var o;An(n,o=s[a],Cn,void 0,e,t)}}}return n.prototype.observeArray=function(n){for(var e=0,t=n.length;e<t;e++)Mn(n[e],!1,this.mock)},n}();function Mn(n,e,t){return n&&w(n,"__ob__")&&n.__ob__ instanceof Rn?n.__ob__:!jn||!t&&sn()||!i(n)&&!p(n)||!Object.isExtensible(n)||n.__v_skip||Dn(n)||n instanceof mn?void 0:new Rn(n,e,t)}function An(n,e,t,a,r,s){var o=new yn,l=Object.getOwnPropertyDescriptor(n,e);if(!l||!1!==l.configurable){var c=l&&l.get,u=l&&l.set;c&&!u||t!==Cn&&2!==arguments.length||(t=n[e]);var d=!r&&Mn(t,!1,s);return Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){var e=c?c.call(n):t;return yn.target&&(o.depend(),d&&(d.dep.depend(),i(e)&&Bn(e))),Dn(e)&&!r?e.value:e},set:function(e){var a=c?c.call(n):t;if(D(a,e)){if(u)u.call(n,e);else{if(c)return;if(!r&&Dn(a)&&!Dn(e))return void(a.value=e);t=e}d=!r&&Mn(e,!1,s),o.notify()}}}),o}}function zn(n,e,t){if(!Qn(n)){var a=n.__ob__;return i(n)&&h(e)?(n.length=Math.max(n.length,e),n.splice(e,1,t),a&&!a.shallow&&a.mock&&Mn(t,!1,!0),t):e in n&&!(e in Object.prototype)?(n[e]=t,t):n._isVue||a&&a.vmCount?t:a?(An(a.value,e,t,void 0,a.shallow,a.mock),a.dep.notify(),t):(n[e]=t,t)}}function In(n,e){if(i(n)&&h(e))n.splice(e,1);else{var t=n.__ob__;n._isVue||t&&t.vmCount||Qn(n)||w(n,e)&&(delete n[e],t&&t.dep.notify())}}function Bn(n){for(var e=void 0,t=0,a=n.length;t<a;t++)(e=n[t])&&e.__ob__&&e.__ob__.dep.depend(),i(e)&&Bn(e)}function On(n){return Pn(n,!0),F(n,"__v_isShallow",!0),n}function Pn(n,e){if(!Qn(n)){Mn(n,e,sn());0}}function Qn(n){return!(!n||!n.__v_isReadonly)}function Dn(n){return!(!n||!0!==n.__v_isRef)}function Ln(n,e,t){Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:function(){var n=e[t];if(Dn(n))return n.value;var a=n&&n.__ob__;return a&&a.dep.depend(),n},set:function(n){var a=e[t];Dn(a)&&!Dn(n)?a.value=n:e[t]=n}})}"".concat("watcher"," callback"),"".concat("watcher"," getter"),"".concat("watcher"," cleanup");var Nn;var Un=function(){function n(n){void 0===n&&(n=!1),this.detached=n,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Nn,!n&&Nn&&(this.index=(Nn.scopes||(Nn.scopes=[])).push(this)-1)}return n.prototype.run=function(n){if(this.active){var e=Nn;try{return Nn=this,n()}finally{Nn=e}}else 0},n.prototype.on=function(){Nn=this},n.prototype.off=function(){Nn=this.parent},n.prototype.stop=function(n){if(this.active){var e=void 0,t=void 0;for(e=0,t=this.effects.length;e<t;e++)this.effects[e].teardown();for(e=0,t=this.cleanups.length;e<t;e++)this.cleanups[e]();if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!n){var a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this.active=!1}},n}();function $n(n){var e=n._provided,t=n.$parent&&n.$parent._provided;return t===e?n._provided=Object.create(t):e}var Jn=E((function(n){var e="&"===n.charAt(0),t="~"===(n=e?n.slice(1):n).charAt(0),a="!"===(n=t?n.slice(1):n).charAt(0);return{name:n=a?n.slice(1):n,once:t,capture:a,passive:e}}));function Fn(n,e){function t(){var n=t.fns;if(!i(n))return je(n,null,arguments,e,"v-on handler");for(var a=n.slice(),r=0;r<a.length;r++)je(a[r],null,arguments,e,"v-on handler")}return t.fns=n,t}function Gn(n,e,t,a,i,s){var l,c,u,d;for(l in n)c=n[l],u=e[l],d=Jn(l),r(c)||(r(u)?(r(c.fns)&&(c=n[l]=Fn(c,s)),o(d.once)&&(c=n[l]=i(d.name,c,d.capture)),t(d.name,c,d.capture,d.passive,d.params)):c!==u&&(u.fns=c,n[l]=u));for(l in e)r(n[l])&&a((d=Jn(l)).name,e[l],d.capture)}function Hn(n,e,t){var a;n instanceof mn&&(n=n.data.hook||(n.data.hook={}));var i=n[e];function l(){t.apply(this,arguments),k(a.fns,l)}r(i)?a=Fn([l]):s(i.fns)&&o(i.merged)?(a=i).fns.push(l):a=Fn([i,l]),a.merged=!0,n[e]=a}function Kn(n,e,t,a,i){if(s(e)){if(w(e,t))return n[t]=e[t],i||delete e[t],!0;if(w(e,a))return n[t]=e[a],i||delete e[a],!0}return!1}function Xn(n){return l(n)?[gn(n)]:i(n)?function n(e,t){var a,c,u,d,p=[];for(a=0;a<e.length;a++)r(c=e[a])||"boolean"==typeof c||(u=p.length-1,d=p[u],i(c)?c.length>0&&(Vn((c=n(c,"".concat(t||"","_").concat(a)))[0])&&Vn(d)&&(p[u]=gn(d.text+c[0].text),c.shift()),p.push.apply(p,c)):l(c)?Vn(d)?p[u]=gn(d.text+c):""!==c&&p.push(gn(c)):Vn(c)&&Vn(d)?p[u]=gn(d.text+c.text):(o(e._isVList)&&s(c.tag)&&r(c.key)&&s(t)&&(c.key="__vlist".concat(t,"_").concat(a,"__")),p.push(c)));return p}(n):void 0}function Vn(n){return s(n)&&s(n.text)&&!1===n.isComment}function Wn(n,e){var t,a,r,o,l=null;if(i(n)||"string"==typeof n)for(l=new Array(n.length),t=0,a=n.length;t<a;t++)l[t]=e(n[t],t);else if("number"==typeof n)for(l=new Array(n),t=0;t<n;t++)l[t]=e(t+1,t);else if(u(n))if(un&&n[Symbol.iterator]){l=[];for(var c=n[Symbol.iterator](),d=c.next();!d.done;)l.push(e(d.value,l.length)),d=c.next()}else for(r=Object.keys(n),l=new Array(r.length),t=0,a=r.length;t<a;t++)o=r[t],l[t]=e(n[o],o,t);return s(l)||(l=[]),l._isVList=!0,l}function Yn(n,e,t,a){var i,r=this.$scopedSlots[n];r?(t=t||{},a&&(t=M(M({},a),t)),i=r(t)||(c(e)?e():e)):i=this.$slots[n]||(c(e)?e():e);var s=t&&t.slot;return s?this.$createElement("template",{slot:s},i):i}function Zn(n){return Rt(this.$options,"filters",n,!0)||B}function ne(n,e){return i(n)?-1===n.indexOf(e):n!==e}function ee(n,e,t,a,i){var r=U.keyCodes[e]||t;return i&&a&&!U.keyCodes[e]?ne(i,a):r?ne(r,n):a?T(a)!==e:void 0===n}function te(n,e,t,a,r){if(t)if(u(t)){i(t)&&(t=A(t));var s=void 0,o=function(i){if("class"===i||"style"===i||y(i))s=n;else{var o=n.attrs&&n.attrs.type;s=a||U.mustUseProp(e,o,i)?n.domProps||(n.domProps={}):n.attrs||(n.attrs={})}var l=S(i),c=T(i);l in s||c in s||(s[i]=t[i],r&&((n.on||(n.on={}))["update:".concat(i)]=function(n){t[i]=n}))};for(var l in t)o(l)}else;return n}function ae(n,e){var t=this._staticTrees||(this._staticTrees=[]),a=t[n];return a&&!e||re(a=t[n]=this.$options.staticRenderFns[n].call(this._renderProxy,this._c,this),"__static__".concat(n),!1),a}function ie(n,e,t){return re(n,"__once__".concat(e).concat(t?"_".concat(t):""),!0),n}function re(n,e,t){if(i(n))for(var a=0;a<n.length;a++)n[a]&&"string"!=typeof n[a]&&se(n[a],"".concat(e,"_").concat(a),t);else se(n,e,t)}function se(n,e,t){n.isStatic=!0,n.key=e,n.isOnce=t}function oe(n,e){if(e)if(p(e)){var t=n.on=n.on?M({},n.on):{};for(var a in e){var i=t[a],r=e[a];t[a]=i?[].concat(i,r):r}}else;return n}function le(n,e,t,a){e=e||{$stable:!t};for(var r=0;r<n.length;r++){var s=n[r];i(s)?le(s,e,t):s&&(s.proxy&&(s.fn.proxy=!0),e[s.key]=s.fn)}return a&&(e.$key=a),e}function ce(n,e){for(var t=0;t<e.length;t+=2){var a=e[t];"string"==typeof a&&a&&(n[e[t]]=e[t+1])}return n}function ue(n,e){return"string"==typeof n?e+n:n}function de(n){n._o=ie,n._n=b,n._s=f,n._l=Wn,n._t=Yn,n._q=O,n._i=P,n._m=ae,n._f=Zn,n._k=ee,n._b=te,n._v=gn,n._e=hn,n._u=le,n._g=oe,n._d=ce,n._p=ue}function pe(n,e){if(!n||!n.length)return{};for(var t={},a=0,i=n.length;a<i;a++){var r=n[a],s=r.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,r.context!==e&&r.fnContext!==e||!s||null==s.slot)(t.default||(t.default=[])).push(r);else{var o=s.slot,l=t[o]||(t[o]=[]);"template"===r.tag?l.push.apply(l,r.children||[]):l.push(r)}}for(var c in t)t[c].every(me)&&delete t[c];return t}function me(n){return n.isComment&&!n.asyncFactory||" "===n.text}function he(n){return n.isComment&&n.asyncFactory}function ge(n,e,t,i){var r,s=Object.keys(t).length>0,o=e?!!e.$stable:!s,l=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(o&&i&&i!==a&&l===i.$key&&!s&&!i.$hasNormal)return i;for(var c in r={},e)e[c]&&"$"!==c[0]&&(r[c]=fe(n,t,c,e[c]))}else r={};for(var u in t)u in r||(r[u]=be(t,u));return e&&Object.isExtensible(e)&&(e._normalized=r),F(r,"$stable",o),F(r,"$key",l),F(r,"$hasNormal",s),r}function fe(n,e,t,a){var r=function(){var e=dn;pn(n);var t=arguments.length?a.apply(null,arguments):a({}),r=(t=t&&"object"==typeof t&&!i(t)?[t]:Xn(t))&&t[0];return pn(e),t&&(!r||1===t.length&&r.isComment&&!he(r))?void 0:t};return a.proxy&&Object.defineProperty(e,t,{get:r,enumerable:!0,configurable:!0}),r}function be(n,e){return function(){return n[e]}}function ve(n){return{get attrs(){if(!n._attrsProxy){var e=n._attrsProxy={};F(e,"_v_attr_proxy",!0),ye(e,n.$attrs,a,n,"$attrs")}return n._attrsProxy},get listeners(){n._listenersProxy||ye(n._listenersProxy={},n.$listeners,a,n,"$listeners");return n._listenersProxy},get slots(){return function(n){n._slotsProxy||xe(n._slotsProxy={},n.$scopedSlots);return n._slotsProxy}(n)},emit:q(n.$emit,n),expose:function(e){e&&Object.keys(e).forEach((function(t){return Ln(n,e,t)}))}}}function ye(n,e,t,a,i){var r=!1;for(var s in e)s in n?e[s]!==t[s]&&(r=!0):(r=!0,ke(n,s,a,i));for(var s in n)s in e||(r=!0,delete n[s]);return r}function ke(n,e,t,a){Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){return t[a][e]}})}function xe(n,e){for(var t in e)n[t]=e[t];for(var t in n)t in e||delete n[t]}var we=null;function Ee(n,e){return(n.__esModule||un&&"Module"===n[Symbol.toStringTag])&&(n=n.default),u(n)?e.extend(n):n}function _e(n){if(i(n))for(var e=0;e<n.length;e++){var t=n[e];if(s(t)&&(s(t.componentOptions)||he(t)))return t}}function Se(n,e,t,a,d,p){return(i(t)||l(t))&&(d=a,a=t,t=void 0),o(p)&&(d=2),function(n,e,t,a,l){if(s(t)&&s(t.__ob__))return hn();s(t)&&s(t.is)&&(e=t.is);if(!e)return hn();0;i(a)&&c(a[0])&&((t=t||{}).scopedSlots={default:a[0]},a.length=0);2===l?a=Xn(a):1===l&&(a=function(n){for(var e=0;e<n.length;e++)if(i(n[e]))return Array.prototype.concat.apply([],n);return n}(a));var d,p;if("string"==typeof e){var m=void 0;p=n.$vnode&&n.$vnode.ns||U.getTagNamespace(e),d=U.isReservedTag(e)?new mn(U.parsePlatformTagName(e),t,a,void 0,void 0,n):t&&t.pre||!s(m=Rt(n.$options,"components",e))?new mn(e,t,a,void 0,void 0,n):kt(m,t,n,a,e)}else d=kt(e,t,n,a);return i(d)?d:s(d)?(s(p)&&function n(e,t,a){e.ns=t,"foreignObject"===e.tag&&(t=void 0,a=!0);if(s(e.children))for(var i=0,l=e.children.length;i<l;i++){var c=e.children[i];s(c.tag)&&(r(c.ns)||o(a)&&"svg"!==c.tag)&&n(c,t,a)}}(d,p),s(t)&&function(n){u(n.style)&&Ue(n.style);u(n.class)&&Ue(n.class)}(t),d):hn()}(n,e,t,a,d)}function Ce(n,e,t){xn();try{if(e)for(var a=e;a=a.$parent;){var i=a.$options.errorCaptured;if(i)for(var r=0;r<i.length;r++)try{if(!1===i[r].call(a,n,e,t))return}catch(n){Te(n,a,"errorCaptured hook")}}Te(n,e,t)}finally{wn()}}function je(n,e,t,a,i){var r;try{(r=t?n.apply(e,t):n.call(e))&&!r._isVue&&g(r)&&!r._handled&&(r.catch((function(n){return Ce(n,a,i+" (Promise/async)")})),r._handled=!0)}catch(n){Ce(n,a,i)}return r}function Te(n,e,t){if(U.errorHandler)try{return U.errorHandler.call(null,n,e,t)}catch(e){e!==n&&qe(e,null,"config.errorHandler")}qe(n,e,t)}function qe(n,e,t){if(!K||"undefined"==typeof console)throw n;console.error(n)}var Re,Me=!1,Ae=[],ze=!1;function Ie(){ze=!1;var n=Ae.slice(0);Ae.length=0;for(var e=0;e<n.length;e++)n[e]()}if("undefined"!=typeof Promise&&ln(Promise)){var Be=Promise.resolve();Re=function(){Be.then(Ie),Z&&setTimeout(z)},Me=!0}else if(V||"undefined"==typeof MutationObserver||!ln(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Re="undefined"!=typeof setImmediate&&ln(setImmediate)?function(){setImmediate(Ie)}:function(){setTimeout(Ie,0)};else{var Oe=1,Pe=new MutationObserver(Ie),Qe=document.createTextNode(String(Oe));Pe.observe(Qe,{characterData:!0}),Re=function(){Oe=(Oe+1)%2,Qe.data=String(Oe)},Me=!0}function De(n,e){var t;if(Ae.push((function(){if(n)try{n.call(e)}catch(n){Ce(n,e,"nextTick")}else t&&t(e)})),ze||(ze=!0,Re()),!n&&"undefined"!=typeof Promise)return new Promise((function(n){t=n}))}function Le(n){return function(e,t){if(void 0===t&&(t=dn),t)return function(n,e,t){var a=n.$options;a[e]=Ct(a[e],t)}(t,n,e)}}Le("beforeMount"),Le("mounted"),Le("beforeUpdate"),Le("updated"),Le("beforeDestroy"),Le("destroyed"),Le("activated"),Le("deactivated"),Le("serverPrefetch"),Le("renderTracked"),Le("renderTriggered"),Le("errorCaptured");var Ne=new cn;function Ue(n){return function n(e,t){var a,r,s=i(e);if(!s&&!u(e)||e.__v_skip||Object.isFrozen(e)||e instanceof mn)return;if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(s)for(a=e.length;a--;)n(e[a],t);else if(Dn(e))n(e.value,t);else for(r=Object.keys(e),a=r.length;a--;)n(e[r[a]],t)}(n,Ne),Ne.clear(),n}var $e,Je=0,Fe=function(){function n(n,e,t,a,i){var r,s;r=this,void 0===(s=Nn&&!Nn._vm?Nn:n?n._scope:void 0)&&(s=Nn),s&&s.active&&s.effects.push(r),(this.vm=n)&&i&&(n._watcher=this),a?(this.deep=!!a.deep,this.user=!!a.user,this.lazy=!!a.lazy,this.sync=!!a.sync,this.before=a.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=t,this.id=++Je,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new cn,this.newDepIds=new cn,this.expression="",c(e)?this.getter=e:(this.getter=function(n){if(!G.test(n)){var e=n.split(".");return function(n){for(var t=0;t<e.length;t++){if(!n)return;n=n[e[t]]}return n}}}(e),this.getter||(this.getter=z)),this.value=this.lazy?void 0:this.get()}return n.prototype.get=function(){var n;xn(this);var e=this.vm;try{n=this.getter.call(e,e)}catch(n){if(!this.user)throw n;Ce(n,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&Ue(n),wn(),this.cleanupDeps()}return n},n.prototype.addDep=function(n){var e=n.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(n),this.depIds.has(e)||n.addSub(this))},n.prototype.cleanupDeps=function(){for(var n=this.deps.length;n--;){var e=this.deps[n];this.newDepIds.has(e.id)||e.removeSub(this)}var t=this.depIds;this.depIds=this.newDepIds,this.newDepIds=t,this.newDepIds.clear(),t=this.deps,this.deps=this.newDeps,this.newDeps=t,this.newDeps.length=0},n.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():pt(this)},n.prototype.run=function(){if(this.active){var n=this.get();if(n!==this.value||u(n)||this.deep){var e=this.value;if(this.value=n,this.user){var t='callback for watcher "'.concat(this.expression,'"');je(this.cb,this.vm,[n,e],this.vm,t)}else this.cb.call(this.vm,n,e)}}},n.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},n.prototype.depend=function(){for(var n=this.deps.length;n--;)this.deps[n].depend()},n.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&k(this.vm._scope.effects,this),this.active){for(var n=this.deps.length;n--;)this.deps[n].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},n}();function Ge(n,e){$e.$on(n,e)}function He(n,e){$e.$off(n,e)}function Ke(n,e){var t=$e;return function a(){var i=e.apply(null,arguments);null!==i&&t.$off(n,a)}}function Xe(n,e,t){$e=n,Gn(e,t||{},Ge,He,Ke,n),$e=void 0}var Ve=null;function We(n){var e=Ve;return Ve=n,function(){Ve=e}}function Ye(n){for(;n&&(n=n.$parent);)if(n._inactive)return!0;return!1}function Ze(n,e){if(e){if(n._directInactive=!1,Ye(n))return}else if(n._directInactive)return;if(n._inactive||null===n._inactive){n._inactive=!1;for(var t=0;t<n.$children.length;t++)Ze(n.$children[t]);nt(n,"activated")}}function nt(n,e,t,a){void 0===a&&(a=!0),xn();var i=dn;a&&pn(n);var r=n.$options[e],s="".concat(e," hook");if(r)for(var o=0,l=r.length;o<l;o++)je(r[o],n,t||null,n,s);n._hasHookEvent&&n.$emit("hook:"+e),a&&pn(i),wn()}var et=[],tt=[],at={},it=!1,rt=!1,st=0;var ot=0,lt=Date.now;if(K&&!V){var ct=window.performance;ct&&"function"==typeof ct.now&&lt()>document.createEvent("Event").timeStamp&&(lt=function(){return ct.now()})}var ut=function(n,e){if(n.post){if(!e.post)return 1}else if(e.post)return-1;return n.id-e.id};function dt(){var n,e;for(ot=lt(),rt=!0,et.sort(ut),st=0;st<et.length;st++)(n=et[st]).before&&n.before(),e=n.id,at[e]=null,n.run();var t=tt.slice(),a=et.slice();st=et.length=tt.length=0,at={},it=rt=!1,function(n){for(var e=0;e<n.length;e++)n[e]._inactive=!0,Ze(n[e],!0)}(t),function(n){var e=n.length;for(;e--;){var t=n[e],a=t.vm;a&&a._watcher===t&&a._isMounted&&!a._isDestroyed&&nt(a,"updated")}}(a),function(){for(var n=0;n<vn.length;n++){var e=vn[n];e.subs=e.subs.filter((function(n){return n})),e._pending=!1}vn.length=0}(),on&&U.devtools&&on.emit("flush")}function pt(n){var e=n.id;if(null==at[e]&&(n!==yn.target||!n.noRecurse)){if(at[e]=!0,rt){for(var t=et.length-1;t>st&&et[t].id>n.id;)t--;et.splice(t+1,0,n)}else et.push(n);it||(it=!0,De(dt))}}function mt(n,e){if(n){for(var t=Object.create(null),a=un?Reflect.ownKeys(n):Object.keys(n),i=0;i<a.length;i++){var r=a[i];if("__ob__"!==r){var s=n[r].from;if(s in e._provided)t[r]=e._provided[s];else if("default"in n[r]){var o=n[r].default;t[r]=c(o)?o.call(e):o}else 0}}return t}}function ht(n,e,t,r,s){var l,c=this,u=s.options;w(r,"_uid")?(l=Object.create(r))._original=r:(l=r,r=r._original);var d=o(u._compiled),p=!d;this.data=n,this.props=e,this.children=t,this.parent=r,this.listeners=n.on||a,this.injections=mt(u.inject,r),this.slots=function(){return c.$slots||ge(r,n.scopedSlots,c.$slots=pe(t,r)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return ge(r,n.scopedSlots,this.slots())}}),d&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=ge(r,n.scopedSlots,this.$slots)),u._scopeId?this._c=function(n,e,t,a){var s=Se(l,n,e,t,a,p);return s&&!i(s)&&(s.fnScopeId=u._scopeId,s.fnContext=r),s}:this._c=function(n,e,t,a){return Se(l,n,e,t,a,p)}}function gt(n,e,t,a,i){var r=fn(n);return r.fnContext=t,r.fnOptions=a,e.slot&&((r.data||(r.data={})).slot=e.slot),r}function ft(n,e){for(var t in e)n[S(t)]=e[t]}function bt(n){return n.name||n.__name||n._componentTag}de(ht.prototype);var vt={init:function(n,e){if(n.componentInstance&&!n.componentInstance._isDestroyed&&n.data.keepAlive){var t=n;vt.prepatch(t,t)}else{(n.componentInstance=function(n,e){var t={_isComponent:!0,_parentVnode:n,parent:e},a=n.data.inlineTemplate;s(a)&&(t.render=a.render,t.staticRenderFns=a.staticRenderFns);return new n.componentOptions.Ctor(t)}(n,Ve)).$mount(e?n.elm:void 0,e)}},prepatch:function(n,e){var t=e.componentOptions;!function(n,e,t,i,r){var s=i.data.scopedSlots,o=n.$scopedSlots,l=!!(s&&!s.$stable||o!==a&&!o.$stable||s&&n.$scopedSlots.$key!==s.$key||!s&&n.$scopedSlots.$key),c=!!(r||n.$options._renderChildren||l),u=n.$vnode;n.$options._parentVnode=i,n.$vnode=i,n._vnode&&(n._vnode.parent=i),n.$options._renderChildren=r;var d=i.data.attrs||a;n._attrsProxy&&ye(n._attrsProxy,d,u.data&&u.data.attrs||a,n,"$attrs")&&(c=!0),n.$attrs=d,t=t||a;var p=n.$options._parentListeners;if(n._listenersProxy&&ye(n._listenersProxy,t,p||a,n,"$listeners"),n.$listeners=n.$options._parentListeners=t,Xe(n,t,p),e&&n.$options.props){Tn(!1);for(var m=n._props,h=n.$options._propKeys||[],g=0;g<h.length;g++){var f=h[g],b=n.$options.props;m[f]=Mt(f,b,e,n)}Tn(!0),n.$options.propsData=e}c&&(n.$slots=pe(r,i.context),n.$forceUpdate())}(e.componentInstance=n.componentInstance,t.propsData,t.listeners,e,t.children)},insert:function(n){var e,t=n.context,a=n.componentInstance;a._isMounted||(a._isMounted=!0,nt(a,"mounted")),n.data.keepAlive&&(t._isMounted?((e=a)._inactive=!1,tt.push(e)):Ze(a,!0))},destroy:function(n){var e=n.componentInstance;e._isDestroyed||(n.data.keepAlive?function n(e,t){if(!(t&&(e._directInactive=!0,Ye(e))||e._inactive)){e._inactive=!0;for(var a=0;a<e.$children.length;a++)n(e.$children[a]);nt(e,"deactivated")}}(e,!0):e.$destroy())}},yt=Object.keys(vt);function kt(n,e,t,l,c){if(!r(n)){var d=t.$options._base;if(u(n)&&(n=d.extend(n)),"function"==typeof n){var p;if(r(n.cid)&&void 0===(n=function(n,e){if(o(n.error)&&s(n.errorComp))return n.errorComp;if(s(n.resolved))return n.resolved;var t=we;if(t&&s(n.owners)&&-1===n.owners.indexOf(t)&&n.owners.push(t),o(n.loading)&&s(n.loadingComp))return n.loadingComp;if(t&&!s(n.owners)){var a=n.owners=[t],i=!0,l=null,c=null;t.$on("hook:destroyed",(function(){return k(a,t)}));var d=function(n){for(var e=0,t=a.length;e<t;e++)a[e].$forceUpdate();n&&(a.length=0,null!==l&&(clearTimeout(l),l=null),null!==c&&(clearTimeout(c),c=null))},p=Q((function(t){n.resolved=Ee(t,e),i?a.length=0:d(!0)})),m=Q((function(e){s(n.errorComp)&&(n.error=!0,d(!0))})),h=n(p,m);return u(h)&&(g(h)?r(n.resolved)&&h.then(p,m):g(h.component)&&(h.component.then(p,m),s(h.error)&&(n.errorComp=Ee(h.error,e)),s(h.loading)&&(n.loadingComp=Ee(h.loading,e),0===h.delay?n.loading=!0:l=setTimeout((function(){l=null,r(n.resolved)&&r(n.error)&&(n.loading=!0,d(!1))}),h.delay||200)),s(h.timeout)&&(c=setTimeout((function(){c=null,r(n.resolved)&&m(null)}),h.timeout)))),i=!1,n.loading?n.loadingComp:n.resolved}}(p=n,d)))return function(n,e,t,a,i){var r=hn();return r.asyncFactory=n,r.asyncMeta={data:e,context:t,children:a,tag:i},r}(p,e,t,l,c);e=e||{},Ft(n),s(e.model)&&function(n,e){var t=n.model&&n.model.prop||"value",a=n.model&&n.model.event||"input";(e.attrs||(e.attrs={}))[t]=e.model.value;var r=e.on||(e.on={}),o=r[a],l=e.model.callback;s(o)?(i(o)?-1===o.indexOf(l):o!==l)&&(r[a]=[l].concat(o)):r[a]=l}(n.options,e);var m=function(n,e,t){var a=e.options.props;if(!r(a)){var i={},o=n.attrs,l=n.props;if(s(o)||s(l))for(var c in a){var u=T(c);Kn(i,l,c,u,!0)||Kn(i,o,c,u,!1)}return i}}(e,n);if(o(n.options.functional))return function(n,e,t,r,o){var l=n.options,c={},u=l.props;if(s(u))for(var d in u)c[d]=Mt(d,u,e||a);else s(t.attrs)&&ft(c,t.attrs),s(t.props)&&ft(c,t.props);var p=new ht(t,c,o,r,n),m=l.render.call(null,p._c,p);if(m instanceof mn)return gt(m,t,p.parent,l,p);if(i(m)){for(var h=Xn(m)||[],g=new Array(h.length),f=0;f<h.length;f++)g[f]=gt(h[f],t,p.parent,l,p);return g}}(n,m,e,t,l);var h=e.on;if(e.on=e.nativeOn,o(n.options.abstract)){var f=e.slot;e={},f&&(e.slot=f)}!function(n){for(var e=n.hook||(n.hook={}),t=0;t<yt.length;t++){var a=yt[t],i=e[a],r=vt[a];i===r||i&&i._merged||(e[a]=i?xt(r,i):r)}}(e);var b=bt(n.options)||c;return new mn("vue-component-".concat(n.cid).concat(b?"-".concat(b):""),e,void 0,void 0,void 0,t,{Ctor:n,propsData:m,listeners:h,tag:c,children:l},p)}}}function xt(n,e){var t=function(t,a){n(t,a),e(t,a)};return t._merged=!0,t}var wt=z,Et=U.optionMergeStrategies;function _t(n,e,t){if(void 0===t&&(t=!0),!e)return n;for(var a,i,r,s=un?Reflect.ownKeys(e):Object.keys(e),o=0;o<s.length;o++)"__ob__"!==(a=s[o])&&(i=n[a],r=e[a],t&&w(n,a)?i!==r&&p(i)&&p(r)&&_t(i,r):zn(n,a,r));return n}function St(n,e,t){return t?function(){var a=c(e)?e.call(t,t):e,i=c(n)?n.call(t,t):n;return a?_t(a,i):i}:e?n?function(){return _t(c(e)?e.call(this,this):e,c(n)?n.call(this,this):n)}:e:n}function Ct(n,e){var t=e?n?n.concat(e):i(e)?e:[e]:n;return t?function(n){for(var e=[],t=0;t<n.length;t++)-1===e.indexOf(n[t])&&e.push(n[t]);return e}(t):t}function jt(n,e,t,a){var i=Object.create(n||null);return e?M(i,e):i}Et.data=function(n,e,t){return t?St(n,e,t):e&&"function"!=typeof e?n:St(n,e)},N.forEach((function(n){Et[n]=Ct})),L.forEach((function(n){Et[n+"s"]=jt})),Et.watch=function(n,e,t,a){if(n===tn&&(n=void 0),e===tn&&(e=void 0),!e)return Object.create(n||null);if(!n)return e;var r={};for(var s in M(r,n),e){var o=r[s],l=e[s];o&&!i(o)&&(o=[o]),r[s]=o?o.concat(l):i(l)?l:[l]}return r},Et.props=Et.methods=Et.inject=Et.computed=function(n,e,t,a){if(!n)return e;var i=Object.create(null);return M(i,n),e&&M(i,e),i},Et.provide=function(n,e){return n?function(){var t=Object.create(null);return _t(t,c(n)?n.call(this):n),e&&_t(t,c(e)?e.call(this):e,!1),t}:e};var Tt=function(n,e){return void 0===e?n:e};function qt(n,e,t){if(c(e)&&(e=e.options),function(n,e){var t=n.props;if(t){var a,r,s={};if(i(t))for(a=t.length;a--;)"string"==typeof(r=t[a])&&(s[S(r)]={type:null});else if(p(t))for(var o in t)r=t[o],s[S(o)]=p(r)?r:{type:r};else 0;n.props=s}}(e),function(n,e){var t=n.inject;if(t){var a=n.inject={};if(i(t))for(var r=0;r<t.length;r++)a[t[r]]={from:t[r]};else if(p(t))for(var s in t){var o=t[s];a[s]=p(o)?M({from:s},o):{from:o}}else 0}}(e),function(n){var e=n.directives;if(e)for(var t in e){var a=e[t];c(a)&&(e[t]={bind:a,update:a})}}(e),!e._base&&(e.extends&&(n=qt(n,e.extends,t)),e.mixins))for(var a=0,r=e.mixins.length;a<r;a++)n=qt(n,e.mixins[a],t);var s,o={};for(s in n)l(s);for(s in e)w(n,s)||l(s);function l(a){var i=Et[a]||Tt;o[a]=i(n[a],e[a],t,a)}return o}function Rt(n,e,t,a){if("string"==typeof t){var i=n[e];if(w(i,t))return i[t];var r=S(t);if(w(i,r))return i[r];var s=C(r);return w(i,s)?i[s]:i[t]||i[r]||i[s]}}function Mt(n,e,t,a){var i=e[n],r=!w(t,n),s=t[n],o=Bt(Boolean,i.type);if(o>-1)if(r&&!w(i,"default"))s=!1;else if(""===s||s===T(n)){var l=Bt(String,i.type);(l<0||o<l)&&(s=!0)}if(void 0===s){s=function(n,e,t){if(!w(e,"default"))return;var a=e.default;0;if(n&&n.$options.propsData&&void 0===n.$options.propsData[t]&&void 0!==n._props[t])return n._props[t];return c(a)&&"Function"!==zt(e.type)?a.call(n):a}(a,i,n);var u=jn;Tn(!0),Mn(s),Tn(u)}return s}var At=/^\s*function (\w+)/;function zt(n){var e=n&&n.toString().match(At);return e?e[1]:""}function It(n,e){return zt(n)===zt(e)}function Bt(n,e){if(!i(e))return It(e,n)?0:-1;for(var t=0,a=e.length;t<a;t++)if(It(e[t],n))return t;return-1}var Ot={enumerable:!0,configurable:!0,get:z,set:z};function Pt(n,e,t){Ot.get=function(){return this[e][t]},Ot.set=function(n){this[e][t]=n},Object.defineProperty(n,t,Ot)}function Qt(n){var e=n.$options;if(e.props&&function(n,e){var t=n.$options.propsData||{},a=n._props=On({}),i=n.$options._propKeys=[];n.$parent&&Tn(!1);var r=function(r){i.push(r);var s=Mt(r,e,t,n);An(a,r,s),r in n||Pt(n,"_props",r)};for(var s in e)r(s);Tn(!0)}(n,e.props),function(n){var e=n.$options,t=e.setup;if(t){var a=n._setupContext=ve(n);pn(n),xn();var i=je(t,null,[n._props||On({}),a],n,"setup");if(wn(),pn(),c(i))e.render=i;else if(u(i))if(n._setupState=i,i.__sfc){var r=n._setupProxy={};for(var s in i)"__sfc"!==s&&Ln(r,i,s)}else for(var s in i)J(s)||Ln(n,i,s);else 0}}(n),e.methods&&function(n,e){n.$options.props;for(var t in e)n[t]="function"!=typeof e[t]?z:q(e[t],n)}(n,e.methods),e.data)!function(n){var e=n.$options.data;p(e=n._data=c(e)?function(n,e){xn();try{return n.call(e,e)}catch(n){return Ce(n,e,"data()"),{}}finally{wn()}}(e,n):e||{})||(e={});var t=Object.keys(e),a=n.$options.props,i=(n.$options.methods,t.length);for(;i--;){var r=t[i];0,a&&w(a,r)||J(r)||Pt(n,"_data",r)}var s=Mn(e);s&&s.vmCount++}(n);else{var t=Mn(n._data={});t&&t.vmCount++}e.computed&&function(n,e){var t=n._computedWatchers=Object.create(null),a=sn();for(var i in e){var r=e[i],s=c(r)?r:r.get;0,a||(t[i]=new Fe(n,s||z,z,Dt)),i in n||Lt(n,i,r)}}(n,e.computed),e.watch&&e.watch!==tn&&function(n,e){for(var t in e){var a=e[t];if(i(a))for(var r=0;r<a.length;r++)$t(n,t,a[r]);else $t(n,t,a)}}(n,e.watch)}var Dt={lazy:!0};function Lt(n,e,t){var a=!sn();c(t)?(Ot.get=a?Nt(e):Ut(t),Ot.set=z):(Ot.get=t.get?a&&!1!==t.cache?Nt(e):Ut(t.get):z,Ot.set=t.set||z),Object.defineProperty(n,e,Ot)}function Nt(n){return function(){var e=this._computedWatchers&&this._computedWatchers[n];if(e)return e.dirty&&e.evaluate(),yn.target&&e.depend(),e.value}}function Ut(n){return function(){return n.call(this,this)}}function $t(n,e,t,a){return p(t)&&(a=t,t=t.handler),"string"==typeof t&&(t=n[t]),n.$watch(e,t,a)}var Jt=0;function Ft(n){var e=n.options;if(n.super){var t=Ft(n.super);if(t!==n.superOptions){n.superOptions=t;var a=function(n){var e,t=n.options,a=n.sealedOptions;for(var i in t)t[i]!==a[i]&&(e||(e={}),e[i]=t[i]);return e}(n);a&&M(n.extendOptions,a),(e=n.options=qt(t,n.extendOptions)).name&&(e.components[e.name]=n)}}return e}function Gt(n){this._init(n)}function Ht(n){n.cid=0;var e=1;n.extend=function(n){n=n||{};var t=this,a=t.cid,i=n._Ctor||(n._Ctor={});if(i[a])return i[a];var r=bt(n)||bt(t.options);var s=function(n){this._init(n)};return(s.prototype=Object.create(t.prototype)).constructor=s,s.cid=e++,s.options=qt(t.options,n),s.super=t,s.options.props&&function(n){var e=n.options.props;for(var t in e)Pt(n.prototype,"_props",t)}(s),s.options.computed&&function(n){var e=n.options.computed;for(var t in e)Lt(n.prototype,t,e[t])}(s),s.extend=t.extend,s.mixin=t.mixin,s.use=t.use,L.forEach((function(n){s[n]=t[n]})),r&&(s.options.components[r]=s),s.superOptions=t.options,s.extendOptions=n,s.sealedOptions=M({},s.options),i[a]=s,s}}function Kt(n){return n&&(bt(n.Ctor.options)||n.tag)}function Xt(n,e){return i(n)?n.indexOf(e)>-1:"string"==typeof n?n.split(",").indexOf(e)>-1:!!m(n)&&n.test(e)}function Vt(n,e){var t=n.cache,a=n.keys,i=n._vnode;for(var r in t){var s=t[r];if(s){var o=s.name;o&&!e(o)&&Wt(t,r,a,i)}}}function Wt(n,e,t,a){var i=n[e];!i||a&&i.tag===a.tag||i.componentInstance.$destroy(),n[e]=null,k(t,e)}Gt.prototype._init=function(n){var e=this;e._uid=Jt++,e._isVue=!0,e.__v_skip=!0,e._scope=new Un(!0),e._scope._vm=!0,n&&n._isComponent?function(n,e){var t=n.$options=Object.create(n.constructor.options),a=e._parentVnode;t.parent=e.parent,t._parentVnode=a;var i=a.componentOptions;t.propsData=i.propsData,t._parentListeners=i.listeners,t._renderChildren=i.children,t._componentTag=i.tag,e.render&&(t.render=e.render,t.staticRenderFns=e.staticRenderFns)}(e,n):e.$options=qt(Ft(e.constructor),n||{},e),e._renderProxy=e,e._self=e,function(n){var e=n.$options,t=e.parent;if(t&&!e.abstract){for(;t.$options.abstract&&t.$parent;)t=t.$parent;t.$children.push(n)}n.$parent=t,n.$root=t?t.$root:n,n.$children=[],n.$refs={},n._provided=t?t._provided:Object.create(null),n._watcher=null,n._inactive=null,n._directInactive=!1,n._isMounted=!1,n._isDestroyed=!1,n._isBeingDestroyed=!1}(e),function(n){n._events=Object.create(null),n._hasHookEvent=!1;var e=n.$options._parentListeners;e&&Xe(n,e)}(e),function(n){n._vnode=null,n._staticTrees=null;var e=n.$options,t=n.$vnode=e._parentVnode,i=t&&t.context;n.$slots=pe(e._renderChildren,i),n.$scopedSlots=t?ge(n.$parent,t.data.scopedSlots,n.$slots):a,n._c=function(e,t,a,i){return Se(n,e,t,a,i,!1)},n.$createElement=function(e,t,a,i){return Se(n,e,t,a,i,!0)};var r=t&&t.data;An(n,"$attrs",r&&r.attrs||a,null,!0),An(n,"$listeners",e._parentListeners||a,null,!0)}(e),nt(e,"beforeCreate",void 0,!1),function(n){var e=mt(n.$options.inject,n);e&&(Tn(!1),Object.keys(e).forEach((function(t){An(n,t,e[t])})),Tn(!0))}(e),Qt(e),function(n){var e=n.$options.provide;if(e){var t=c(e)?e.call(n):e;if(!u(t))return;for(var a=$n(n),i=un?Reflect.ownKeys(t):Object.keys(t),r=0;r<i.length;r++){var s=i[r];Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(t,s))}}}(e),nt(e,"created"),e.$options.el&&e.$mount(e.$options.el)},function(n){var e={get:function(){return this._data}},t={get:function(){return this._props}};Object.defineProperty(n.prototype,"$data",e),Object.defineProperty(n.prototype,"$props",t),n.prototype.$set=zn,n.prototype.$delete=In,n.prototype.$watch=function(n,e,t){if(p(e))return $t(this,n,e,t);(t=t||{}).user=!0;var a=new Fe(this,n,e,t);if(t.immediate){var i='callback for immediate watcher "'.concat(a.expression,'"');xn(),je(e,this,[a.value],this,i),wn()}return function(){a.teardown()}}}(Gt),function(n){var e=/^hook:/;n.prototype.$on=function(n,t){var a=this;if(i(n))for(var r=0,s=n.length;r<s;r++)a.$on(n[r],t);else(a._events[n]||(a._events[n]=[])).push(t),e.test(n)&&(a._hasHookEvent=!0);return a},n.prototype.$once=function(n,e){var t=this;function a(){t.$off(n,a),e.apply(t,arguments)}return a.fn=e,t.$on(n,a),t},n.prototype.$off=function(n,e){var t=this;if(!arguments.length)return t._events=Object.create(null),t;if(i(n)){for(var a=0,r=n.length;a<r;a++)t.$off(n[a],e);return t}var s,o=t._events[n];if(!o)return t;if(!e)return t._events[n]=null,t;for(var l=o.length;l--;)if((s=o[l])===e||s.fn===e){o.splice(l,1);break}return t},n.prototype.$emit=function(n){var e=this,t=e._events[n];if(t){t=t.length>1?R(t):t;for(var a=R(arguments,1),i='event handler for "'.concat(n,'"'),r=0,s=t.length;r<s;r++)je(t[r],e,a,e,i)}return e}}(Gt),function(n){n.prototype._update=function(n,e){var t=this,a=t.$el,i=t._vnode,r=We(t);t._vnode=n,t.$el=i?t.__patch__(i,n):t.__patch__(t.$el,n,e,!1),r(),a&&(a.__vue__=null),t.$el&&(t.$el.__vue__=t);for(var s=t;s&&s.$vnode&&s.$parent&&s.$vnode===s.$parent._vnode;)s.$parent.$el=s.$el,s=s.$parent},n.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},n.prototype.$destroy=function(){var n=this;if(!n._isBeingDestroyed){nt(n,"beforeDestroy"),n._isBeingDestroyed=!0;var e=n.$parent;!e||e._isBeingDestroyed||n.$options.abstract||k(e.$children,n),n._scope.stop(),n._data.__ob__&&n._data.__ob__.vmCount--,n._isDestroyed=!0,n.__patch__(n._vnode,null),nt(n,"destroyed"),n.$off(),n.$el&&(n.$el.__vue__=null),n.$vnode&&(n.$vnode.parent=null)}}}(Gt),function(n){de(n.prototype),n.prototype.$nextTick=function(n){return De(n,this)},n.prototype._render=function(){var n,e=this,t=e.$options,a=t.render,r=t._parentVnode;r&&e._isMounted&&(e.$scopedSlots=ge(e.$parent,r.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&xe(e._slotsProxy,e.$scopedSlots)),e.$vnode=r;try{pn(e),we=e,n=a.call(e._renderProxy,e.$createElement)}catch(t){Ce(t,e,"render"),n=e._vnode}finally{we=null,pn()}return i(n)&&1===n.length&&(n=n[0]),n instanceof mn||(n=hn()),n.parent=r,n}}(Gt);var Yt=[String,RegExp,Array],Zt={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Yt,exclude:Yt,max:[String,Number]},methods:{cacheVNode:function(){var n=this.cache,e=this.keys,t=this.vnodeToCache,a=this.keyToCache;if(t){var i=t.tag,r=t.componentInstance,s=t.componentOptions;n[a]={name:Kt(s),tag:i,componentInstance:r},e.push(a),this.max&&e.length>parseInt(this.max)&&Wt(n,e[0],e,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var n in this.cache)Wt(this.cache,n,this.keys)},mounted:function(){var n=this;this.cacheVNode(),this.$watch("include",(function(e){Vt(n,(function(n){return Xt(e,n)}))})),this.$watch("exclude",(function(e){Vt(n,(function(n){return!Xt(e,n)}))}))},updated:function(){this.cacheVNode()},render:function(){var n=this.$slots.default,e=_e(n),t=e&&e.componentOptions;if(t){var a=Kt(t),i=this.include,r=this.exclude;if(i&&(!a||!Xt(i,a))||r&&a&&Xt(r,a))return e;var s=this.cache,o=this.keys,l=null==e.key?t.Ctor.cid+(t.tag?"::".concat(t.tag):""):e.key;s[l]?(e.componentInstance=s[l].componentInstance,k(o,l),o.push(l)):(this.vnodeToCache=e,this.keyToCache=l),e.data.keepAlive=!0}return e||n&&n[0]}}};!function(n){var e={get:function(){return U}};Object.defineProperty(n,"config",e),n.util={warn:wt,extend:M,mergeOptions:qt,defineReactive:An},n.set=zn,n.delete=In,n.nextTick=De,n.observable=function(n){return Mn(n),n},n.options=Object.create(null),L.forEach((function(e){n.options[e+"s"]=Object.create(null)})),n.options._base=n,M(n.options.components,Zt),function(n){n.use=function(n){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(n)>-1)return this;var t=R(arguments,1);return t.unshift(this),c(n.install)?n.install.apply(n,t):c(n)&&n.apply(null,t),e.push(n),this}}(n),function(n){n.mixin=function(n){return this.options=qt(this.options,n),this}}(n),Ht(n),function(n){L.forEach((function(e){n[e]=function(n,t){return t?("component"===e&&p(t)&&(t.name=t.name||n,t=this.options._base.extend(t)),"directive"===e&&c(t)&&(t={bind:t,update:t}),this.options[e+"s"][n]=t,t):this.options[e+"s"][n]}}))}(n)}(Gt),Object.defineProperty(Gt.prototype,"$isServer",{get:sn}),Object.defineProperty(Gt.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Gt,"FunctionalRenderContext",{value:ht}),Gt.version="2.7.14";var na=v("style,class"),ea=v("input,textarea,option,select,progress"),ta=v("contenteditable,draggable,spellcheck"),aa=v("events,caret,typing,plaintext-only"),ia=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),ra="http://www.w3.org/1999/xlink",sa=function(n){return":"===n.charAt(5)&&"xlink"===n.slice(0,5)},oa=function(n){return sa(n)?n.slice(6,n.length):""},la=function(n){return null==n||!1===n};function ca(n){for(var e=n.data,t=n,a=n;s(a.componentInstance);)(a=a.componentInstance._vnode)&&a.data&&(e=ua(a.data,e));for(;s(t=t.parent);)t&&t.data&&(e=ua(e,t.data));return function(n,e){if(s(n)||s(e))return da(n,pa(e));return""}(e.staticClass,e.class)}function ua(n,e){return{staticClass:da(n.staticClass,e.staticClass),class:s(n.class)?[n.class,e.class]:e.class}}function da(n,e){return n?e?n+" "+e:n:e||""}function pa(n){return Array.isArray(n)?function(n){for(var e,t="",a=0,i=n.length;a<i;a++)s(e=pa(n[a]))&&""!==e&&(t&&(t+=" "),t+=e);return t}(n):u(n)?function(n){var e="";for(var t in n)n[t]&&(e&&(e+=" "),e+=t);return e}(n):"string"==typeof n?n:""}var ma={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ha=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ga=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),fa=function(n){return ha(n)||ga(n)};var ba=Object.create(null);var va=v("text,number,password,search,email,tel,url");var ya=Object.freeze({__proto__:null,createElement:function(n,e){var t=document.createElement(n);return"select"!==n||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&t.setAttribute("multiple","multiple"),t},createElementNS:function(n,e){return document.createElementNS(ma[n],e)},createTextNode:function(n){return document.createTextNode(n)},createComment:function(n){return document.createComment(n)},insertBefore:function(n,e,t){n.insertBefore(e,t)},removeChild:function(n,e){n.removeChild(e)},appendChild:function(n,e){n.appendChild(e)},parentNode:function(n){return n.parentNode},nextSibling:function(n){return n.nextSibling},tagName:function(n){return n.tagName},setTextContent:function(n,e){n.textContent=e},setStyleScope:function(n,e){n.setAttribute(e,"")}}),ka={create:function(n,e){xa(e)},update:function(n,e){n.data.ref!==e.data.ref&&(xa(n,!0),xa(e))},destroy:function(n){xa(n,!0)}};function xa(n,e){var t=n.data.ref;if(s(t)){var a=n.context,r=n.componentInstance||n.elm,o=e?null:r,l=e?void 0:r;if(c(t))je(t,a,[o],a,"template ref function");else{var u=n.data.refInFor,d="string"==typeof t||"number"==typeof t,p=Dn(t),m=a.$refs;if(d||p)if(u){var h=d?m[t]:t.value;e?i(h)&&k(h,r):i(h)?h.includes(r)||h.push(r):d?(m[t]=[r],wa(a,t,m[t])):t.value=[r]}else if(d){if(e&&m[t]!==r)return;m[t]=l,wa(a,t,o)}else if(p){if(e&&t.value!==r)return;t.value=o}else 0}}}function wa(n,e,t){var a=n._setupState;a&&w(a,e)&&(Dn(a[e])?a[e].value=t:a[e]=t)}var Ea=new mn("",{},[]),_a=["create","activate","update","remove","destroy"];function Sa(n,e){return n.key===e.key&&n.asyncFactory===e.asyncFactory&&(n.tag===e.tag&&n.isComment===e.isComment&&s(n.data)===s(e.data)&&function(n,e){if("input"!==n.tag)return!0;var t,a=s(t=n.data)&&s(t=t.attrs)&&t.type,i=s(t=e.data)&&s(t=t.attrs)&&t.type;return a===i||va(a)&&va(i)}(n,e)||o(n.isAsyncPlaceholder)&&r(e.asyncFactory.error))}function Ca(n,e,t){var a,i,r={};for(a=e;a<=t;++a)s(i=n[a].key)&&(r[i]=a);return r}var ja={create:Ta,update:Ta,destroy:function(n){Ta(n,Ea)}};function Ta(n,e){(n.data.directives||e.data.directives)&&function(n,e){var t,a,i,r=n===Ea,s=e===Ea,o=Ra(n.data.directives,n.context),l=Ra(e.data.directives,e.context),c=[],u=[];for(t in l)a=o[t],i=l[t],a?(i.oldValue=a.value,i.oldArg=a.arg,Aa(i,"update",e,n),i.def&&i.def.componentUpdated&&u.push(i)):(Aa(i,"bind",e,n),i.def&&i.def.inserted&&c.push(i));if(c.length){var d=function(){for(var t=0;t<c.length;t++)Aa(c[t],"inserted",e,n)};r?Hn(e,"insert",d):d()}u.length&&Hn(e,"postpatch",(function(){for(var t=0;t<u.length;t++)Aa(u[t],"componentUpdated",e,n)}));if(!r)for(t in o)l[t]||Aa(o[t],"unbind",n,n,s)}(n,e)}var qa=Object.create(null);function Ra(n,e){var t,a,i=Object.create(null);if(!n)return i;for(t=0;t<n.length;t++){if((a=n[t]).modifiers||(a.modifiers=qa),i[Ma(a)]=a,e._setupState&&e._setupState.__sfc){var r=a.def||Rt(e,"_setupState","v-"+a.name);a.def="function"==typeof r?{bind:r,update:r}:r}a.def=a.def||Rt(e.$options,"directives",a.name)}return i}function Ma(n){return n.rawName||"".concat(n.name,".").concat(Object.keys(n.modifiers||{}).join("."))}function Aa(n,e,t,a,i){var r=n.def&&n.def[e];if(r)try{r(t.elm,n,t,a,i)}catch(a){Ce(a,t.context,"directive ".concat(n.name," ").concat(e," hook"))}}var za=[ka,ja];function Ia(n,e){var t=e.componentOptions;if(!(s(t)&&!1===t.Ctor.options.inheritAttrs||r(n.data.attrs)&&r(e.data.attrs))){var a,i,l=e.elm,c=n.data.attrs||{},u=e.data.attrs||{};for(a in(s(u.__ob__)||o(u._v_attr_proxy))&&(u=e.data.attrs=M({},u)),u)i=u[a],c[a]!==i&&Ba(l,a,i,e.data.pre);for(a in(V||Y)&&u.value!==c.value&&Ba(l,"value",u.value),c)r(u[a])&&(sa(a)?l.removeAttributeNS(ra,oa(a)):ta(a)||l.removeAttribute(a))}}function Ba(n,e,t,a){a||n.tagName.indexOf("-")>-1?Oa(n,e,t):ia(e)?la(t)?n.removeAttribute(e):(t="allowfullscreen"===e&&"EMBED"===n.tagName?"true":e,n.setAttribute(e,t)):ta(e)?n.setAttribute(e,function(n,e){return la(e)||"false"===e?"false":"contenteditable"===n&&aa(e)?e:"true"}(e,t)):sa(e)?la(t)?n.removeAttributeNS(ra,oa(e)):n.setAttributeNS(ra,e,t):Oa(n,e,t)}function Oa(n,e,t){if(la(t))n.removeAttribute(e);else{if(V&&!W&&"TEXTAREA"===n.tagName&&"placeholder"===e&&""!==t&&!n.__ieph){var a=function(e){e.stopImmediatePropagation(),n.removeEventListener("input",a)};n.addEventListener("input",a),n.__ieph=!0}n.setAttribute(e,t)}}var Pa={create:Ia,update:Ia};function Qa(n,e){var t=e.elm,a=e.data,i=n.data;if(!(r(a.staticClass)&&r(a.class)&&(r(i)||r(i.staticClass)&&r(i.class)))){var o=ca(e),l=t._transitionClasses;s(l)&&(o=da(o,pa(l))),o!==t._prevClass&&(t.setAttribute("class",o),t._prevClass=o)}}var Da,La={create:Qa,update:Qa};function Na(n,e,t){var a=Da;return function i(){var r=e.apply(null,arguments);null!==r&&Ja(n,i,t,a)}}var Ua=Me&&!(en&&Number(en[1])<=53);function $a(n,e,t,a){if(Ua){var i=ot,r=e;e=r._wrapper=function(n){if(n.target===n.currentTarget||n.timeStamp>=i||n.timeStamp<=0||n.target.ownerDocument!==document)return r.apply(this,arguments)}}Da.addEventListener(n,e,an?{capture:t,passive:a}:t)}function Ja(n,e,t,a){(a||Da).removeEventListener(n,e._wrapper||e,t)}function Fa(n,e){if(!r(n.data.on)||!r(e.data.on)){var t=e.data.on||{},a=n.data.on||{};Da=e.elm||n.elm,function(n){if(s(n.__r)){var e=V?"change":"input";n[e]=[].concat(n.__r,n[e]||[]),delete n.__r}s(n.__c)&&(n.change=[].concat(n.__c,n.change||[]),delete n.__c)}(t),Gn(t,a,$a,Ja,Na,e.context),Da=void 0}}var Ga,Ha={create:Fa,update:Fa,destroy:function(n){return Fa(n,Ea)}};function Ka(n,e){if(!r(n.data.domProps)||!r(e.data.domProps)){var t,a,i=e.elm,l=n.data.domProps||{},c=e.data.domProps||{};for(t in(s(c.__ob__)||o(c._v_attr_proxy))&&(c=e.data.domProps=M({},c)),l)t in c||(i[t]="");for(t in c){if(a=c[t],"textContent"===t||"innerHTML"===t){if(e.children&&(e.children.length=0),a===l[t])continue;1===i.childNodes.length&&i.removeChild(i.childNodes[0])}if("value"===t&&"PROGRESS"!==i.tagName){i._value=a;var u=r(a)?"":String(a);Xa(i,u)&&(i.value=u)}else if("innerHTML"===t&&ga(i.tagName)&&r(i.innerHTML)){(Ga=Ga||document.createElement("div")).innerHTML="<svg>".concat(a,"</svg>");for(var d=Ga.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;d.firstChild;)i.appendChild(d.firstChild)}else if(a!==l[t])try{i[t]=a}catch(n){}}}}function Xa(n,e){return!n.composing&&("OPTION"===n.tagName||function(n,e){var t=!0;try{t=document.activeElement!==n}catch(n){}return t&&n.value!==e}(n,e)||function(n,e){var t=n.value,a=n._vModifiers;if(s(a)){if(a.number)return b(t)!==b(e);if(a.trim)return t.trim()!==e.trim()}return t!==e}(n,e))}var Va={create:Ka,update:Ka},Wa=E((function(n){var e={},t=/:(.+)/;return n.split(/;(?![^(]*\))/g).forEach((function(n){if(n){var a=n.split(t);a.length>1&&(e[a[0].trim()]=a[1].trim())}})),e}));function Ya(n){var e=Za(n.style);return n.staticStyle?M(n.staticStyle,e):e}function Za(n){return Array.isArray(n)?A(n):"string"==typeof n?Wa(n):n}var ni,ei=/^--/,ti=/\s*!important$/,ai=function(n,e,t){if(ei.test(e))n.style.setProperty(e,t);else if(ti.test(t))n.style.setProperty(T(e),t.replace(ti,""),"important");else{var a=ri(e);if(Array.isArray(t))for(var i=0,r=t.length;i<r;i++)n.style[a]=t[i];else n.style[a]=t}},ii=["Webkit","Moz","ms"],ri=E((function(n){if(ni=ni||document.createElement("div").style,"filter"!==(n=S(n))&&n in ni)return n;for(var e=n.charAt(0).toUpperCase()+n.slice(1),t=0;t<ii.length;t++){var a=ii[t]+e;if(a in ni)return a}}));function si(n,e){var t=e.data,a=n.data;if(!(r(t.staticStyle)&&r(t.style)&&r(a.staticStyle)&&r(a.style))){var i,o,l=e.elm,c=a.staticStyle,u=a.normalizedStyle||a.style||{},d=c||u,p=Za(e.data.style)||{};e.data.normalizedStyle=s(p.__ob__)?M({},p):p;var m=function(n,e){var t,a={};if(e)for(var i=n;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(t=Ya(i.data))&&M(a,t);(t=Ya(n.data))&&M(a,t);for(var r=n;r=r.parent;)r.data&&(t=Ya(r.data))&&M(a,t);return a}(e,!0);for(o in d)r(m[o])&&ai(l,o,"");for(o in m)(i=m[o])!==d[o]&&ai(l,o,null==i?"":i)}}var oi={create:si,update:si},li=/\s+/;function ci(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(li).forEach((function(e){return n.classList.add(e)})):n.classList.add(e);else{var t=" ".concat(n.getAttribute("class")||""," ");t.indexOf(" "+e+" ")<0&&n.setAttribute("class",(t+e).trim())}}function ui(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(li).forEach((function(e){return n.classList.remove(e)})):n.classList.remove(e),n.classList.length||n.removeAttribute("class");else{for(var t=" ".concat(n.getAttribute("class")||""," "),a=" "+e+" ";t.indexOf(a)>=0;)t=t.replace(a," ");(t=t.trim())?n.setAttribute("class",t):n.removeAttribute("class")}}function di(n){if(n){if("object"==typeof n){var e={};return!1!==n.css&&M(e,pi(n.name||"v")),M(e,n),e}return"string"==typeof n?pi(n):void 0}}var pi=E((function(n){return{enterClass:"".concat(n,"-enter"),enterToClass:"".concat(n,"-enter-to"),enterActiveClass:"".concat(n,"-enter-active"),leaveClass:"".concat(n,"-leave"),leaveToClass:"".concat(n,"-leave-to"),leaveActiveClass:"".concat(n,"-leave-active")}})),mi=K&&!W,hi="transition",gi="transitionend",fi="animation",bi="animationend";mi&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(hi="WebkitTransition",gi="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(fi="WebkitAnimation",bi="webkitAnimationEnd"));var vi=K?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(n){return n()};function yi(n){vi((function(){vi(n)}))}function ki(n,e){var t=n._transitionClasses||(n._transitionClasses=[]);t.indexOf(e)<0&&(t.push(e),ci(n,e))}function xi(n,e){n._transitionClasses&&k(n._transitionClasses,e),ui(n,e)}function wi(n,e,t){var a=_i(n,e),i=a.type,r=a.timeout,s=a.propCount;if(!i)return t();var o="transition"===i?gi:bi,l=0,c=function(){n.removeEventListener(o,u),t()},u=function(e){e.target===n&&++l>=s&&c()};setTimeout((function(){l<s&&c()}),r+1),n.addEventListener(o,u)}var Ei=/\b(transform|all)(,|$)/;function _i(n,e){var t,a=window.getComputedStyle(n),i=(a[hi+"Delay"]||"").split(", "),r=(a[hi+"Duration"]||"").split(", "),s=Si(i,r),o=(a[fi+"Delay"]||"").split(", "),l=(a[fi+"Duration"]||"").split(", "),c=Si(o,l),u=0,d=0;return"transition"===e?s>0&&(t="transition",u=s,d=r.length):"animation"===e?c>0&&(t="animation",u=c,d=l.length):d=(t=(u=Math.max(s,c))>0?s>c?"transition":"animation":null)?"transition"===t?r.length:l.length:0,{type:t,timeout:u,propCount:d,hasTransform:"transition"===t&&Ei.test(a[hi+"Property"])}}function Si(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max.apply(null,e.map((function(e,t){return Ci(e)+Ci(n[t])})))}function Ci(n){return 1e3*Number(n.slice(0,-1).replace(",","."))}function ji(n,e){var t=n.elm;s(t._leaveCb)&&(t._leaveCb.cancelled=!0,t._leaveCb());var a=di(n.data.transition);if(!r(a)&&!s(t._enterCb)&&1===t.nodeType){for(var i=a.css,o=a.type,l=a.enterClass,d=a.enterToClass,p=a.enterActiveClass,m=a.appearClass,h=a.appearToClass,g=a.appearActiveClass,f=a.beforeEnter,v=a.enter,y=a.afterEnter,k=a.enterCancelled,x=a.beforeAppear,w=a.appear,E=a.afterAppear,_=a.appearCancelled,S=a.duration,C=Ve,j=Ve.$vnode;j&&j.parent;)C=j.context,j=j.parent;var T=!C._isMounted||!n.isRootInsert;if(!T||w||""===w){var q=T&&m?m:l,R=T&&g?g:p,M=T&&h?h:d,A=T&&x||f,z=T&&c(w)?w:v,I=T&&E||y,B=T&&_||k,O=b(u(S)?S.enter:S);0;var P=!1!==i&&!W,D=Ri(z),L=t._enterCb=Q((function(){P&&(xi(t,M),xi(t,R)),L.cancelled?(P&&xi(t,q),B&&B(t)):I&&I(t),t._enterCb=null}));n.data.show||Hn(n,"insert",(function(){var e=t.parentNode,a=e&&e._pending&&e._pending[n.key];a&&a.tag===n.tag&&a.elm._leaveCb&&a.elm._leaveCb(),z&&z(t,L)})),A&&A(t),P&&(ki(t,q),ki(t,R),yi((function(){xi(t,q),L.cancelled||(ki(t,M),D||(qi(O)?setTimeout(L,O):wi(t,o,L)))}))),n.data.show&&(e&&e(),z&&z(t,L)),P||D||L()}}}function Ti(n,e){var t=n.elm;s(t._enterCb)&&(t._enterCb.cancelled=!0,t._enterCb());var a=di(n.data.transition);if(r(a)||1!==t.nodeType)return e();if(!s(t._leaveCb)){var i=a.css,o=a.type,l=a.leaveClass,c=a.leaveToClass,d=a.leaveActiveClass,p=a.beforeLeave,m=a.leave,h=a.afterLeave,g=a.leaveCancelled,f=a.delayLeave,v=a.duration,y=!1!==i&&!W,k=Ri(m),x=b(u(v)?v.leave:v);0;var w=t._leaveCb=Q((function(){t.parentNode&&t.parentNode._pending&&(t.parentNode._pending[n.key]=null),y&&(xi(t,c),xi(t,d)),w.cancelled?(y&&xi(t,l),g&&g(t)):(e(),h&&h(t)),t._leaveCb=null}));f?f(E):E()}function E(){w.cancelled||(!n.data.show&&t.parentNode&&((t.parentNode._pending||(t.parentNode._pending={}))[n.key]=n),p&&p(t),y&&(ki(t,l),ki(t,d),yi((function(){xi(t,l),w.cancelled||(ki(t,c),k||(qi(x)?setTimeout(w,x):wi(t,o,w)))}))),m&&m(t,w),y||k||w())}}function qi(n){return"number"==typeof n&&!isNaN(n)}function Ri(n){if(r(n))return!1;var e=n.fns;return s(e)?Ri(Array.isArray(e)?e[0]:e):(n._length||n.length)>1}function Mi(n,e){!0!==e.data.show&&ji(e)}var Ai=function(n){var e,t,a={},c=n.modules,u=n.nodeOps;for(e=0;e<_a.length;++e)for(a[_a[e]]=[],t=0;t<c.length;++t)s(c[t][_a[e]])&&a[_a[e]].push(c[t][_a[e]]);function d(n){var e=u.parentNode(n);s(e)&&u.removeChild(e,n)}function p(n,e,t,i,r,l,c){if(s(n.elm)&&s(l)&&(n=l[c]=fn(n)),n.isRootInsert=!r,!function(n,e,t,i){var r=n.data;if(s(r)){var l=s(n.componentInstance)&&r.keepAlive;if(s(r=r.hook)&&s(r=r.init)&&r(n,!1),s(n.componentInstance))return m(n,e),h(t,n.elm,i),o(l)&&function(n,e,t,i){var r,o=n;for(;o.componentInstance;)if(o=o.componentInstance._vnode,s(r=o.data)&&s(r=r.transition)){for(r=0;r<a.activate.length;++r)a.activate[r](Ea,o);e.push(o);break}h(t,n.elm,i)}(n,e,t,i),!0}}(n,e,t,i)){var d=n.data,p=n.children,f=n.tag;s(f)?(n.elm=n.ns?u.createElementNS(n.ns,f):u.createElement(f,n),y(n),g(n,p,e),s(d)&&b(n,e),h(t,n.elm,i)):o(n.isComment)?(n.elm=u.createComment(n.text),h(t,n.elm,i)):(n.elm=u.createTextNode(n.text),h(t,n.elm,i))}}function m(n,e){s(n.data.pendingInsert)&&(e.push.apply(e,n.data.pendingInsert),n.data.pendingInsert=null),n.elm=n.componentInstance.$el,f(n)?(b(n,e),y(n)):(xa(n),e.push(n))}function h(n,e,t){s(n)&&(s(t)?u.parentNode(t)===n&&u.insertBefore(n,e,t):u.appendChild(n,e))}function g(n,e,t){if(i(e)){0;for(var a=0;a<e.length;++a)p(e[a],t,n.elm,null,!0,e,a)}else l(n.text)&&u.appendChild(n.elm,u.createTextNode(String(n.text)))}function f(n){for(;n.componentInstance;)n=n.componentInstance._vnode;return s(n.tag)}function b(n,t){for(var i=0;i<a.create.length;++i)a.create[i](Ea,n);s(e=n.data.hook)&&(s(e.create)&&e.create(Ea,n),s(e.insert)&&t.push(n))}function y(n){var e;if(s(e=n.fnScopeId))u.setStyleScope(n.elm,e);else for(var t=n;t;)s(e=t.context)&&s(e=e.$options._scopeId)&&u.setStyleScope(n.elm,e),t=t.parent;s(e=Ve)&&e!==n.context&&e!==n.fnContext&&s(e=e.$options._scopeId)&&u.setStyleScope(n.elm,e)}function k(n,e,t,a,i,r){for(;a<=i;++a)p(t[a],r,n,e,!1,t,a)}function x(n){var e,t,i=n.data;if(s(i))for(s(e=i.hook)&&s(e=e.destroy)&&e(n),e=0;e<a.destroy.length;++e)a.destroy[e](n);if(s(e=n.children))for(t=0;t<n.children.length;++t)x(n.children[t])}function w(n,e,t){for(;e<=t;++e){var a=n[e];s(a)&&(s(a.tag)?(E(a),x(a)):d(a.elm))}}function E(n,e){if(s(e)||s(n.data)){var t,i=a.remove.length+1;for(s(e)?e.listeners+=i:e=function(n,e){function t(){0==--t.listeners&&d(n)}return t.listeners=e,t}(n.elm,i),s(t=n.componentInstance)&&s(t=t._vnode)&&s(t.data)&&E(t,e),t=0;t<a.remove.length;++t)a.remove[t](n,e);s(t=n.data.hook)&&s(t=t.remove)?t(n,e):e()}else d(n.elm)}function _(n,e,t,a){for(var i=t;i<a;i++){var r=e[i];if(s(r)&&Sa(n,r))return i}}function S(n,e,t,i,l,c){if(n!==e){s(e.elm)&&s(i)&&(e=i[l]=fn(e));var d=e.elm=n.elm;if(o(n.isAsyncPlaceholder))s(e.asyncFactory.resolved)?T(n.elm,e,t):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(n.isStatic)&&e.key===n.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=n.componentInstance;else{var m,h=e.data;s(h)&&s(m=h.hook)&&s(m=m.prepatch)&&m(n,e);var g=n.children,b=e.children;if(s(h)&&f(e)){for(m=0;m<a.update.length;++m)a.update[m](n,e);s(m=h.hook)&&s(m=m.update)&&m(n,e)}r(e.text)?s(g)&&s(b)?g!==b&&function(n,e,t,a,i){var o,l,c,d=0,m=0,h=e.length-1,g=e[0],f=e[h],b=t.length-1,v=t[0],y=t[b],x=!i;for(0;d<=h&&m<=b;)r(g)?g=e[++d]:r(f)?f=e[--h]:Sa(g,v)?(S(g,v,a,t,m),g=e[++d],v=t[++m]):Sa(f,y)?(S(f,y,a,t,b),f=e[--h],y=t[--b]):Sa(g,y)?(S(g,y,a,t,b),x&&u.insertBefore(n,g.elm,u.nextSibling(f.elm)),g=e[++d],y=t[--b]):Sa(f,v)?(S(f,v,a,t,m),x&&u.insertBefore(n,f.elm,g.elm),f=e[--h],v=t[++m]):(r(o)&&(o=Ca(e,d,h)),r(l=s(v.key)?o[v.key]:_(v,e,d,h))?p(v,a,n,g.elm,!1,t,m):Sa(c=e[l],v)?(S(c,v,a,t,m),e[l]=void 0,x&&u.insertBefore(n,c.elm,g.elm)):p(v,a,n,g.elm,!1,t,m),v=t[++m]);d>h?k(n,r(t[b+1])?null:t[b+1].elm,t,m,b,a):m>b&&w(e,d,h)}(d,g,b,t,c):s(b)?(s(n.text)&&u.setTextContent(d,""),k(d,null,b,0,b.length-1,t)):s(g)?w(g,0,g.length-1):s(n.text)&&u.setTextContent(d,""):n.text!==e.text&&u.setTextContent(d,e.text),s(h)&&s(m=h.hook)&&s(m=m.postpatch)&&m(n,e)}}}function C(n,e,t){if(o(t)&&s(n.parent))n.parent.data.pendingInsert=e;else for(var a=0;a<e.length;++a)e[a].data.hook.insert(e[a])}var j=v("attrs,class,staticClass,staticStyle,key");function T(n,e,t,a){var i,r=e.tag,l=e.data,c=e.children;if(a=a||l&&l.pre,e.elm=n,o(e.isComment)&&s(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(s(l)&&(s(i=l.hook)&&s(i=i.init)&&i(e,!0),s(i=e.componentInstance)))return m(e,t),!0;if(s(r)){if(s(c))if(n.hasChildNodes())if(s(i=l)&&s(i=i.domProps)&&s(i=i.innerHTML)){if(i!==n.innerHTML)return!1}else{for(var u=!0,d=n.firstChild,p=0;p<c.length;p++){if(!d||!T(d,c[p],t,a)){u=!1;break}d=d.nextSibling}if(!u||d)return!1}else g(e,c,t);if(s(l)){var h=!1;for(var f in l)if(!j(f)){h=!0,b(e,t);break}!h&&l.class&&Ue(l.class)}}else n.data!==e.text&&(n.data=e.text);return!0}return function(n,e,t,i){if(!r(e)){var l,c=!1,d=[];if(r(n))c=!0,p(e,d);else{var m=s(n.nodeType);if(!m&&Sa(n,e))S(n,e,d,null,null,i);else{if(m){if(1===n.nodeType&&n.hasAttribute("data-server-rendered")&&(n.removeAttribute("data-server-rendered"),t=!0),o(t)&&T(n,e,d))return C(e,d,!0),n;l=n,n=new mn(u.tagName(l).toLowerCase(),{},[],void 0,l)}var h=n.elm,g=u.parentNode(h);if(p(e,d,h._leaveCb?null:g,u.nextSibling(h)),s(e.parent))for(var b=e.parent,v=f(e);b;){for(var y=0;y<a.destroy.length;++y)a.destroy[y](b);if(b.elm=e.elm,v){for(var k=0;k<a.create.length;++k)a.create[k](Ea,b);var E=b.data.hook.insert;if(E.merged)for(var _=1;_<E.fns.length;_++)E.fns[_]()}else xa(b);b=b.parent}s(g)?w([n],0,0):s(n.tag)&&x(n)}}return C(e,d,c),e.elm}s(n)&&x(n)}}({nodeOps:ya,modules:[Pa,La,Ha,Va,oi,K?{create:Mi,activate:Mi,remove:function(n,e){!0!==n.data.show?Ti(n,e):e()}}:{}].concat(za)});W&&document.addEventListener("selectionchange",(function(){var n=document.activeElement;n&&n.vmodel&&Li(n,"input")}));var zi={inserted:function(n,e,t,a){"select"===t.tag?(a.elm&&!a.elm._vOptions?Hn(t,"postpatch",(function(){zi.componentUpdated(n,e,t)})):Ii(n,e,t.context),n._vOptions=[].map.call(n.options,Pi)):("textarea"===t.tag||va(n.type))&&(n._vModifiers=e.modifiers,e.modifiers.lazy||(n.addEventListener("compositionstart",Qi),n.addEventListener("compositionend",Di),n.addEventListener("change",Di),W&&(n.vmodel=!0)))},componentUpdated:function(n,e,t){if("select"===t.tag){Ii(n,e,t.context);var a=n._vOptions,i=n._vOptions=[].map.call(n.options,Pi);if(i.some((function(n,e){return!O(n,a[e])})))(n.multiple?e.value.some((function(n){return Oi(n,i)})):e.value!==e.oldValue&&Oi(e.value,i))&&Li(n,"change")}}};function Ii(n,e,t){Bi(n,e,t),(V||Y)&&setTimeout((function(){Bi(n,e,t)}),0)}function Bi(n,e,t){var a=e.value,i=n.multiple;if(!i||Array.isArray(a)){for(var r,s,o=0,l=n.options.length;o<l;o++)if(s=n.options[o],i)r=P(a,Pi(s))>-1,s.selected!==r&&(s.selected=r);else if(O(Pi(s),a))return void(n.selectedIndex!==o&&(n.selectedIndex=o));i||(n.selectedIndex=-1)}}function Oi(n,e){return e.every((function(e){return!O(e,n)}))}function Pi(n){return"_value"in n?n._value:n.value}function Qi(n){n.target.composing=!0}function Di(n){n.target.composing&&(n.target.composing=!1,Li(n.target,"input"))}function Li(n,e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),n.dispatchEvent(t)}function Ni(n){return!n.componentInstance||n.data&&n.data.transition?n:Ni(n.componentInstance._vnode)}var Ui={model:zi,show:{bind:function(n,e,t){var a=e.value,i=(t=Ni(t)).data&&t.data.transition,r=n.__vOriginalDisplay="none"===n.style.display?"":n.style.display;a&&i?(t.data.show=!0,ji(t,(function(){n.style.display=r}))):n.style.display=a?r:"none"},update:function(n,e,t){var a=e.value;!a!=!e.oldValue&&((t=Ni(t)).data&&t.data.transition?(t.data.show=!0,a?ji(t,(function(){n.style.display=n.__vOriginalDisplay})):Ti(t,(function(){n.style.display="none"}))):n.style.display=a?n.__vOriginalDisplay:"none")},unbind:function(n,e,t,a,i){i||(n.style.display=n.__vOriginalDisplay)}}},$i={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Ji(n){var e=n&&n.componentOptions;return e&&e.Ctor.options.abstract?Ji(_e(e.children)):n}function Fi(n){var e={},t=n.$options;for(var a in t.propsData)e[a]=n[a];var i=t._parentListeners;for(var a in i)e[S(a)]=i[a];return e}function Gi(n,e){if(/\d-keep-alive$/.test(e.tag))return n("keep-alive",{props:e.componentOptions.propsData})}var Hi=function(n){return n.tag||he(n)},Ki=function(n){return"show"===n.name},Xi={name:"transition",props:$i,abstract:!0,render:function(n){var e=this,t=this.$slots.default;if(t&&(t=t.filter(Hi)).length){0;var a=this.mode;0;var i=t[0];if(function(n){for(;n=n.parent;)if(n.data.transition)return!0}(this.$vnode))return i;var r=Ji(i);if(!r)return i;if(this._leaving)return Gi(n,i);var s="__transition-".concat(this._uid,"-");r.key=null==r.key?r.isComment?s+"comment":s+r.tag:l(r.key)?0===String(r.key).indexOf(s)?r.key:s+r.key:r.key;var o=(r.data||(r.data={})).transition=Fi(this),c=this._vnode,u=Ji(c);if(r.data.directives&&r.data.directives.some(Ki)&&(r.data.show=!0),u&&u.data&&!function(n,e){return e.key===n.key&&e.tag===n.tag}(r,u)&&!he(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var d=u.data.transition=M({},o);if("out-in"===a)return this._leaving=!0,Hn(d,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Gi(n,i);if("in-out"===a){if(he(r))return c;var p,m=function(){p()};Hn(o,"afterEnter",m),Hn(o,"enterCancelled",m),Hn(d,"delayLeave",(function(n){p=n}))}}return i}}},Vi=M({tag:String,moveClass:String},$i);function Wi(n){n.elm._moveCb&&n.elm._moveCb(),n.elm._enterCb&&n.elm._enterCb()}function Yi(n){n.data.newPos=n.elm.getBoundingClientRect()}function Zi(n){var e=n.data.pos,t=n.data.newPos,a=e.left-t.left,i=e.top-t.top;if(a||i){n.data.moved=!0;var r=n.elm.style;r.transform=r.WebkitTransform="translate(".concat(a,"px,").concat(i,"px)"),r.transitionDuration="0s"}}delete Vi.mode;var nr={Transition:Xi,TransitionGroup:{props:Vi,beforeMount:function(){var n=this,e=this._update;this._update=function(t,a){var i=We(n);n.__patch__(n._vnode,n.kept,!1,!0),n._vnode=n.kept,i(),e.call(n,t,a)}},render:function(n){for(var e=this.tag||this.$vnode.data.tag||"span",t=Object.create(null),a=this.prevChildren=this.children,i=this.$slots.default||[],r=this.children=[],s=Fi(this),o=0;o<i.length;o++){if((u=i[o]).tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))r.push(u),t[u.key]=u,(u.data||(u.data={})).transition=s;else;}if(a){var l=[],c=[];for(o=0;o<a.length;o++){var u;(u=a[o]).data.transition=s,u.data.pos=u.elm.getBoundingClientRect(),t[u.key]?l.push(u):c.push(u)}this.kept=n(e,null,l),this.removed=c}return n(e,null,r)},updated:function(){var n=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";n.length&&this.hasMove(n[0].elm,e)&&(n.forEach(Wi),n.forEach(Yi),n.forEach(Zi),this._reflow=document.body.offsetHeight,n.forEach((function(n){if(n.data.moved){var t=n.elm,a=t.style;ki(t,e),a.transform=a.WebkitTransform=a.transitionDuration="",t.addEventListener(gi,t._moveCb=function n(a){a&&a.target!==t||a&&!/transform$/.test(a.propertyName)||(t.removeEventListener(gi,n),t._moveCb=null,xi(t,e))})}})))},methods:{hasMove:function(n,e){if(!mi)return!1;if(this._hasMove)return this._hasMove;var t=n.cloneNode();n._transitionClasses&&n._transitionClasses.forEach((function(n){ui(t,n)})),ci(t,e),t.style.display="none",this.$el.appendChild(t);var a=_i(t);return this.$el.removeChild(t),this._hasMove=a.hasTransform}}}};function er(n,e){for(var t in e)n[t]=e[t];return n}Gt.config.mustUseProp=function(n,e,t){return"value"===t&&ea(n)&&"button"!==e||"selected"===t&&"option"===n||"checked"===t&&"input"===n||"muted"===t&&"video"===n},Gt.config.isReservedTag=fa,Gt.config.isReservedAttr=na,Gt.config.getTagNamespace=function(n){return ga(n)?"svg":"math"===n?"math":void 0},Gt.config.isUnknownElement=function(n){if(!K)return!0;if(fa(n))return!1;if(n=n.toLowerCase(),null!=ba[n])return ba[n];var e=document.createElement(n);return n.indexOf("-")>-1?ba[n]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:ba[n]=/HTMLUnknownElement/.test(e.toString())},M(Gt.options.directives,Ui),M(Gt.options.components,nr),Gt.prototype.__patch__=K?Ai:z,Gt.prototype.$mount=function(n,e){return function(n,e,t){var a;n.$el=e,n.$options.render||(n.$options.render=hn),nt(n,"beforeMount"),a=function(){n._update(n._render(),t)},new Fe(n,a,z,{before:function(){n._isMounted&&!n._isDestroyed&&nt(n,"beforeUpdate")}},!0),t=!1;var i=n._preWatchers;if(i)for(var r=0;r<i.length;r++)i[r].run();return null==n.$vnode&&(n._isMounted=!0,nt(n,"mounted")),n}(this,n=n&&K?function(n){if("string"==typeof n){var e=document.querySelector(n);return e||document.createElement("div")}return n}(n):void 0,e)},K&&setTimeout((function(){U.devtools&&on&&on.emit("init",Gt)}),0);var tr=/[!'()*]/g,ar=function(n){return"%"+n.charCodeAt(0).toString(16)},ir=/%2C/g,rr=function(n){return encodeURIComponent(n).replace(tr,ar).replace(ir,",")};function sr(n){try{return decodeURIComponent(n)}catch(n){0}return n}var or=function(n){return null==n||"object"==typeof n?n:String(n)};function lr(n){var e={};return(n=n.trim().replace(/^(\?|#|&)/,""))?(n.split("&").forEach((function(n){var t=n.replace(/\+/g," ").split("="),a=sr(t.shift()),i=t.length>0?sr(t.join("=")):null;void 0===e[a]?e[a]=i:Array.isArray(e[a])?e[a].push(i):e[a]=[e[a],i]})),e):e}function cr(n){var e=n?Object.keys(n).map((function(e){var t=n[e];if(void 0===t)return"";if(null===t)return rr(e);if(Array.isArray(t)){var a=[];return t.forEach((function(n){void 0!==n&&(null===n?a.push(rr(e)):a.push(rr(e)+"="+rr(n)))})),a.join("&")}return rr(e)+"="+rr(t)})).filter((function(n){return n.length>0})).join("&"):null;return e?"?"+e:""}var ur=/\/?$/;function dr(n,e,t,a){var i=a&&a.options.stringifyQuery,r=e.query||{};try{r=pr(r)}catch(n){}var s={name:e.name||n&&n.name,meta:n&&n.meta||{},path:e.path||"/",hash:e.hash||"",query:r,params:e.params||{},fullPath:gr(e,i),matched:n?hr(n):[]};return t&&(s.redirectedFrom=gr(t,i)),Object.freeze(s)}function pr(n){if(Array.isArray(n))return n.map(pr);if(n&&"object"==typeof n){var e={};for(var t in n)e[t]=pr(n[t]);return e}return n}var mr=dr(null,{path:"/"});function hr(n){for(var e=[];n;)e.unshift(n),n=n.parent;return e}function gr(n,e){var t=n.path,a=n.query;void 0===a&&(a={});var i=n.hash;return void 0===i&&(i=""),(t||"/")+(e||cr)(a)+i}function fr(n,e,t){return e===mr?n===e:!!e&&(n.path&&e.path?n.path.replace(ur,"")===e.path.replace(ur,"")&&(t||n.hash===e.hash&&br(n.query,e.query)):!(!n.name||!e.name)&&(n.name===e.name&&(t||n.hash===e.hash&&br(n.query,e.query)&&br(n.params,e.params))))}function br(n,e){if(void 0===n&&(n={}),void 0===e&&(e={}),!n||!e)return n===e;var t=Object.keys(n).sort(),a=Object.keys(e).sort();return t.length===a.length&&t.every((function(t,i){var r=n[t];if(a[i]!==t)return!1;var s=e[t];return null==r||null==s?r===s:"object"==typeof r&&"object"==typeof s?br(r,s):String(r)===String(s)}))}function vr(n){for(var e=0;e<n.matched.length;e++){var t=n.matched[e];for(var a in t.instances){var i=t.instances[a],r=t.enteredCbs[a];if(i&&r){delete t.enteredCbs[a];for(var s=0;s<r.length;s++)i._isBeingDestroyed||r[s](i)}}}}var yr={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(n,e){var t=e.props,a=e.children,i=e.parent,r=e.data;r.routerView=!0;for(var s=i.$createElement,o=t.name,l=i.$route,c=i._routerViewCache||(i._routerViewCache={}),u=0,d=!1;i&&i._routerRoot!==i;){var p=i.$vnode?i.$vnode.data:{};p.routerView&&u++,p.keepAlive&&i._directInactive&&i._inactive&&(d=!0),i=i.$parent}if(r.routerViewDepth=u,d){var m=c[o],h=m&&m.component;return h?(m.configProps&&kr(h,r,m.route,m.configProps),s(h,r,a)):s()}var g=l.matched[u],f=g&&g.components[o];if(!g||!f)return c[o]=null,s();c[o]={component:f},r.registerRouteInstance=function(n,e){var t=g.instances[o];(e&&t!==n||!e&&t===n)&&(g.instances[o]=e)},(r.hook||(r.hook={})).prepatch=function(n,e){g.instances[o]=e.componentInstance},r.hook.init=function(n){n.data.keepAlive&&n.componentInstance&&n.componentInstance!==g.instances[o]&&(g.instances[o]=n.componentInstance),vr(l)};var b=g.props&&g.props[o];return b&&(er(c[o],{route:l,configProps:b}),kr(f,r,l,b)),s(f,r,a)}};function kr(n,e,t,a){var i=e.props=function(n,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(n);case"boolean":return e?n.params:void 0;default:0}}(t,a);if(i){i=e.props=er({},i);var r=e.attrs=e.attrs||{};for(var s in i)n.props&&s in n.props||(r[s]=i[s],delete i[s])}}function xr(n,e,t){var a=n.charAt(0);if("/"===a)return n;if("?"===a||"#"===a)return e+n;var i=e.split("/");t&&i[i.length-1]||i.pop();for(var r=n.replace(/^\//,"").split("/"),s=0;s<r.length;s++){var o=r[s];".."===o?i.pop():"."!==o&&i.push(o)}return""!==i[0]&&i.unshift(""),i.join("/")}function wr(n){return n.replace(/\/(?:\s*\/)+/g,"/")}var Er=Array.isArray||function(n){return"[object Array]"==Object.prototype.toString.call(n)},_r=Qr,Sr=Rr,Cr=function(n,e){return Ar(Rr(n,e),e)},jr=Ar,Tr=Pr,qr=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Rr(n,e){for(var t,a=[],i=0,r=0,s="",o=e&&e.delimiter||"/";null!=(t=qr.exec(n));){var l=t[0],c=t[1],u=t.index;if(s+=n.slice(r,u),r=u+l.length,c)s+=c[1];else{var d=n[r],p=t[2],m=t[3],h=t[4],g=t[5],f=t[6],b=t[7];s&&(a.push(s),s="");var v=null!=p&&null!=d&&d!==p,y="+"===f||"*"===f,k="?"===f||"*"===f,x=t[2]||o,w=h||g;a.push({name:m||i++,prefix:p||"",delimiter:x,optional:k,repeat:y,partial:v,asterisk:!!b,pattern:w?Ir(w):b?".*":"[^"+zr(x)+"]+?"})}}return r<n.length&&(s+=n.substr(r)),s&&a.push(s),a}function Mr(n){return encodeURI(n).replace(/[\/?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()}))}function Ar(n,e){for(var t=new Array(n.length),a=0;a<n.length;a++)"object"==typeof n[a]&&(t[a]=new RegExp("^(?:"+n[a].pattern+")$",Or(e)));return function(e,a){for(var i="",r=e||{},s=(a||{}).pretty?Mr:encodeURIComponent,o=0;o<n.length;o++){var l=n[o];if("string"!=typeof l){var c,u=r[l.name];if(null==u){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(Er(u)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<u.length;d++){if(c=s(u[d]),!t[o].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");i+=(0===d?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?encodeURI(u).replace(/[?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})):s(u),!t[o].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');i+=l.prefix+c}}else i+=l}return i}}function zr(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Ir(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function Br(n,e){return n.keys=e,n}function Or(n){return n&&n.sensitive?"":"i"}function Pr(n,e,t){Er(e)||(t=e||t,e=[]);for(var a=(t=t||{}).strict,i=!1!==t.end,r="",s=0;s<n.length;s++){var o=n[s];if("string"==typeof o)r+=zr(o);else{var l=zr(o.prefix),c="(?:"+o.pattern+")";e.push(o),o.repeat&&(c+="(?:"+l+c+")*"),r+=c=o.optional?o.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var u=zr(t.delimiter||"/"),d=r.slice(-u.length)===u;return a||(r=(d?r.slice(0,-u.length):r)+"(?:"+u+"(?=$))?"),r+=i?"$":a&&d?"":"(?="+u+"|$)",Br(new RegExp("^"+r,Or(t)),e)}function Qr(n,e,t){return Er(e)||(t=e||t,e=[]),t=t||{},n instanceof RegExp?function(n,e){var t=n.source.match(/\((?!\?)/g);if(t)for(var a=0;a<t.length;a++)e.push({name:a,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Br(n,e)}(n,e):Er(n)?function(n,e,t){for(var a=[],i=0;i<n.length;i++)a.push(Qr(n[i],e,t).source);return Br(new RegExp("(?:"+a.join("|")+")",Or(t)),e)}(n,e,t):function(n,e,t){return Pr(Rr(n,t),e,t)}(n,e,t)}_r.parse=Sr,_r.compile=Cr,_r.tokensToFunction=jr,_r.tokensToRegExp=Tr;var Dr=Object.create(null);function Lr(n,e,t){e=e||{};try{var a=Dr[n]||(Dr[n]=_r.compile(n));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),a(e,{pretty:!0})}catch(n){return""}finally{delete e[0]}}function Nr(n,e,t,a){var i="string"==typeof n?{path:n}:n;if(i._normalized)return i;if(i.name){var r=(i=er({},n)).params;return r&&"object"==typeof r&&(i.params=er({},r)),i}if(!i.path&&i.params&&e){(i=er({},i))._normalized=!0;var s=er(er({},e.params),i.params);if(e.name)i.name=e.name,i.params=s;else if(e.matched.length){var o=e.matched[e.matched.length-1].path;i.path=Lr(o,s,e.path)}else 0;return i}var l=function(n){var e="",t="",a=n.indexOf("#");a>=0&&(e=n.slice(a),n=n.slice(0,a));var i=n.indexOf("?");return i>=0&&(t=n.slice(i+1),n=n.slice(0,i)),{path:n,query:t,hash:e}}(i.path||""),c=e&&e.path||"/",u=l.path?xr(l.path,c,t||i.append):c,d=function(n,e,t){void 0===e&&(e={});var a,i=t||lr;try{a=i(n||"")}catch(n){a={}}for(var r in e){var s=e[r];a[r]=Array.isArray(s)?s.map(or):or(s)}return a}(l.query,i.query,a&&a.options.parseQuery),p=i.hash||l.hash;return p&&"#"!==p.charAt(0)&&(p="#"+p),{_normalized:!0,path:u,query:d,hash:p}}var Ur,$r=function(){},Jr={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(n){var e=this,t=this.$router,a=this.$route,i=t.resolve(this.to,a,this.append),r=i.location,s=i.route,o=i.href,l={},c=t.options.linkActiveClass,u=t.options.linkExactActiveClass,d=null==c?"router-link-active":c,p=null==u?"router-link-exact-active":u,m=null==this.activeClass?d:this.activeClass,h=null==this.exactActiveClass?p:this.exactActiveClass,g=s.redirectedFrom?dr(null,Nr(s.redirectedFrom),null,t):s;l[h]=fr(a,g,this.exactPath),l[m]=this.exact||this.exactPath?l[h]:function(n,e){return 0===n.path.replace(ur,"/").indexOf(e.path.replace(ur,"/"))&&(!e.hash||n.hash===e.hash)&&function(n,e){for(var t in e)if(!(t in n))return!1;return!0}(n.query,e.query)}(a,g);var f=l[h]?this.ariaCurrentValue:null,b=function(n){Fr(n)&&(e.replace?t.replace(r,$r):t.push(r,$r))},v={click:Fr};Array.isArray(this.event)?this.event.forEach((function(n){v[n]=b})):v[this.event]=b;var y={class:l},k=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:o,route:s,navigate:b,isActive:l[m],isExactActive:l[h]});if(k){if(1===k.length)return k[0];if(k.length>1||!k.length)return 0===k.length?n():n("span",{},k)}if("a"===this.tag)y.on=v,y.attrs={href:o,"aria-current":f};else{var x=function n(e){var t;if(e)for(var a=0;a<e.length;a++){if("a"===(t=e[a]).tag)return t;if(t.children&&(t=n(t.children)))return t}}(this.$slots.default);if(x){x.isStatic=!1;var w=x.data=er({},x.data);for(var E in w.on=w.on||{},w.on){var _=w.on[E];E in v&&(w.on[E]=Array.isArray(_)?_:[_])}for(var S in v)S in w.on?w.on[S].push(v[S]):w.on[S]=b;var C=x.data.attrs=er({},x.data.attrs);C.href=o,C["aria-current"]=f}else y.on=v}return n(this.tag,y,this.$slots.default)}};function Fr(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey||n.defaultPrevented||void 0!==n.button&&0!==n.button)){if(n.currentTarget&&n.currentTarget.getAttribute){var e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}var Gr="undefined"!=typeof window;function Hr(n,e,t,a,i){var r=e||[],s=t||Object.create(null),o=a||Object.create(null);n.forEach((function(n){!function n(e,t,a,i,r,s){var o=i.path,l=i.name;0;var c=i.pathToRegexpOptions||{},u=function(n,e,t){t||(n=n.replace(/\/$/,""));if("/"===n[0])return n;if(null==e)return n;return wr(e.path+"/"+n)}(o,r,c.strict);"boolean"==typeof i.caseSensitive&&(c.sensitive=i.caseSensitive);var d={path:u,regex:Kr(u,c),components:i.components||{default:i.component},alias:i.alias?"string"==typeof i.alias?[i.alias]:i.alias:[],instances:{},enteredCbs:{},name:l,parent:r,matchAs:s,redirect:i.redirect,beforeEnter:i.beforeEnter,meta:i.meta||{},props:null==i.props?{}:i.components?i.props:{default:i.props}};i.children&&i.children.forEach((function(i){var r=s?wr(s+"/"+i.path):void 0;n(e,t,a,i,d,r)}));t[d.path]||(e.push(d.path),t[d.path]=d);if(void 0!==i.alias)for(var p=Array.isArray(i.alias)?i.alias:[i.alias],m=0;m<p.length;++m){0;var h={path:p[m],children:i.children};n(e,t,a,h,r,d.path||"/")}l&&(a[l]||(a[l]=d))}(r,s,o,n,i)}));for(var l=0,c=r.length;l<c;l++)"*"===r[l]&&(r.push(r.splice(l,1)[0]),c--,l--);return{pathList:r,pathMap:s,nameMap:o}}function Kr(n,e){return _r(n,[],e)}function Xr(n,e){var t=Hr(n),a=t.pathList,i=t.pathMap,r=t.nameMap;function s(n,t,s){var o=Nr(n,t,!1,e),c=o.name;if(c){var u=r[c];if(!u)return l(null,o);var d=u.regex.keys.filter((function(n){return!n.optional})).map((function(n){return n.name}));if("object"!=typeof o.params&&(o.params={}),t&&"object"==typeof t.params)for(var p in t.params)!(p in o.params)&&d.indexOf(p)>-1&&(o.params[p]=t.params[p]);return o.path=Lr(u.path,o.params),l(u,o,s)}if(o.path){o.params={};for(var m=0;m<a.length;m++){var h=a[m],g=i[h];if(Vr(g.regex,o.path,o.params))return l(g,o,s)}}return l(null,o)}function o(n,t){var a=n.redirect,i="function"==typeof a?a(dr(n,t,null,e)):a;if("string"==typeof i&&(i={path:i}),!i||"object"!=typeof i)return l(null,t);var o=i,c=o.name,u=o.path,d=t.query,p=t.hash,m=t.params;if(d=o.hasOwnProperty("query")?o.query:d,p=o.hasOwnProperty("hash")?o.hash:p,m=o.hasOwnProperty("params")?o.params:m,c){r[c];return s({_normalized:!0,name:c,query:d,hash:p,params:m},void 0,t)}if(u){var h=function(n,e){return xr(n,e.parent?e.parent.path:"/",!0)}(u,n);return s({_normalized:!0,path:Lr(h,m),query:d,hash:p},void 0,t)}return l(null,t)}function l(n,t,a){return n&&n.redirect?o(n,a||t):n&&n.matchAs?function(n,e,t){var a=s({_normalized:!0,path:Lr(t,e.params)});if(a){var i=a.matched,r=i[i.length-1];return e.params=a.params,l(r,e)}return l(null,e)}(0,t,n.matchAs):dr(n,t,a,e)}return{match:s,addRoute:function(n,e){var t="object"!=typeof n?r[n]:void 0;Hr([e||n],a,i,r,t),t&&t.alias.length&&Hr(t.alias.map((function(n){return{path:n,children:[e]}})),a,i,r,t)},getRoutes:function(){return a.map((function(n){return i[n]}))},addRoutes:function(n){Hr(n,a,i,r)}}}function Vr(n,e,t){var a=e.match(n);if(!a)return!1;if(!t)return!0;for(var i=1,r=a.length;i<r;++i){var s=n.keys[i-1];s&&(t[s.name||"pathMatch"]="string"==typeof a[i]?sr(a[i]):a[i])}return!0}var Wr=Gr&&window.performance&&window.performance.now?window.performance:Date;function Yr(){return Wr.now().toFixed(3)}var Zr=Yr();function ns(){return Zr}function es(n){return Zr=n}var ts=Object.create(null);function as(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var n=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(n,""),t=er({},window.history.state);return t.key=ns(),window.history.replaceState(t,"",e),window.addEventListener("popstate",ss),function(){window.removeEventListener("popstate",ss)}}function is(n,e,t,a){if(n.app){var i=n.options.scrollBehavior;i&&n.app.$nextTick((function(){var r=function(){var n=ns();if(n)return ts[n]}(),s=i.call(n,e,t,a?r:null);s&&("function"==typeof s.then?s.then((function(n){ds(n,r)})).catch((function(n){0})):ds(s,r))}))}}function rs(){var n=ns();n&&(ts[n]={x:window.pageXOffset,y:window.pageYOffset})}function ss(n){rs(),n.state&&n.state.key&&es(n.state.key)}function os(n){return cs(n.x)||cs(n.y)}function ls(n){return{x:cs(n.x)?n.x:window.pageXOffset,y:cs(n.y)?n.y:window.pageYOffset}}function cs(n){return"number"==typeof n}var us=/^#\d/;function ds(n,e){var t,a="object"==typeof n;if(a&&"string"==typeof n.selector){var i=us.test(n.selector)?document.getElementById(n.selector.slice(1)):document.querySelector(n.selector);if(i){var r=n.offset&&"object"==typeof n.offset?n.offset:{};e=function(n,e){var t=document.documentElement.getBoundingClientRect(),a=n.getBoundingClientRect();return{x:a.left-t.left-e.x,y:a.top-t.top-e.y}}(i,r={x:cs((t=r).x)?t.x:0,y:cs(t.y)?t.y:0})}else os(n)&&(e=ls(n))}else a&&os(n)&&(e=ls(n));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:n.behavior}):window.scrollTo(e.x,e.y))}var ps,ms=Gr&&((-1===(ps=window.navigator.userAgent).indexOf("Android 2.")&&-1===ps.indexOf("Android 4.0")||-1===ps.indexOf("Mobile Safari")||-1!==ps.indexOf("Chrome")||-1!==ps.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function hs(n,e){rs();var t=window.history;try{if(e){var a=er({},t.state);a.key=ns(),t.replaceState(a,"",n)}else t.pushState({key:es(Yr())},"",n)}catch(t){window.location[e?"replace":"assign"](n)}}function gs(n){hs(n,!0)}var fs={redirected:2,aborted:4,cancelled:8,duplicated:16};function bs(n,e){return ys(n,e,fs.redirected,'Redirected when going from "'+n.fullPath+'" to "'+function(n){if("string"==typeof n)return n;if("path"in n)return n.path;var e={};return ks.forEach((function(t){t in n&&(e[t]=n[t])})),JSON.stringify(e,null,2)}(e)+'" via a navigation guard.')}function vs(n,e){return ys(n,e,fs.cancelled,'Navigation cancelled from "'+n.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function ys(n,e,t,a){var i=new Error(a);return i._isRouter=!0,i.from=n,i.to=e,i.type=t,i}var ks=["params","query","hash"];function xs(n){return Object.prototype.toString.call(n).indexOf("Error")>-1}function ws(n,e){return xs(n)&&n._isRouter&&(null==e||n.type===e)}function Es(n,e,t){var a=function(i){i>=n.length?t():n[i]?e(n[i],(function(){a(i+1)})):a(i+1)};a(0)}function _s(n){return function(e,t,a){var i=!1,r=0,s=null;Ss(n,(function(n,e,t,o){if("function"==typeof n&&void 0===n.cid){i=!0,r++;var l,c=Ts((function(e){var i;((i=e).__esModule||js&&"Module"===i[Symbol.toStringTag])&&(e=e.default),n.resolved="function"==typeof e?e:Ur.extend(e),t.components[o]=e,--r<=0&&a()})),u=Ts((function(n){var e="Failed to resolve async component "+o+": "+n;s||(s=xs(n)?n:new Error(e),a(s))}));try{l=n(c,u)}catch(n){u(n)}if(l)if("function"==typeof l.then)l.then(c,u);else{var d=l.component;d&&"function"==typeof d.then&&d.then(c,u)}}})),i||a()}}function Ss(n,e){return Cs(n.map((function(n){return Object.keys(n.components).map((function(t){return e(n.components[t],n.instances[t],n,t)}))})))}function Cs(n){return Array.prototype.concat.apply([],n)}var js="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function Ts(n){var e=!1;return function(){for(var t=[],a=arguments.length;a--;)t[a]=arguments[a];if(!e)return e=!0,n.apply(this,t)}}var qs=function(n,e){this.router=n,this.base=function(n){if(!n)if(Gr){var e=document.querySelector("base");n=(n=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else n="/";"/"!==n.charAt(0)&&(n="/"+n);return n.replace(/\/$/,"")}(e),this.current=mr,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function Rs(n,e,t,a){var i=Ss(n,(function(n,a,i,r){var s=function(n,e){"function"!=typeof n&&(n=Ur.extend(n));return n.options[e]}(n,e);if(s)return Array.isArray(s)?s.map((function(n){return t(n,a,i,r)})):t(s,a,i,r)}));return Cs(a?i.reverse():i)}function Ms(n,e){if(e)return function(){return n.apply(e,arguments)}}qs.prototype.listen=function(n){this.cb=n},qs.prototype.onReady=function(n,e){this.ready?n():(this.readyCbs.push(n),e&&this.readyErrorCbs.push(e))},qs.prototype.onError=function(n){this.errorCbs.push(n)},qs.prototype.transitionTo=function(n,e,t){var a,i=this;try{a=this.router.match(n,this.current)}catch(n){throw this.errorCbs.forEach((function(e){e(n)})),n}var r=this.current;this.confirmTransition(a,(function(){i.updateRoute(a),e&&e(a),i.ensureURL(),i.router.afterHooks.forEach((function(n){n&&n(a,r)})),i.ready||(i.ready=!0,i.readyCbs.forEach((function(n){n(a)})))}),(function(n){t&&t(n),n&&!i.ready&&(ws(n,fs.redirected)&&r===mr||(i.ready=!0,i.readyErrorCbs.forEach((function(e){e(n)}))))}))},qs.prototype.confirmTransition=function(n,e,t){var a=this,i=this.current;this.pending=n;var r,s,o=function(n){!ws(n)&&xs(n)&&(a.errorCbs.length?a.errorCbs.forEach((function(e){e(n)})):console.error(n)),t&&t(n)},l=n.matched.length-1,c=i.matched.length-1;if(fr(n,i)&&l===c&&n.matched[l]===i.matched[c])return this.ensureURL(),n.hash&&is(this.router,i,n,!1),o(((s=ys(r=i,n,fs.duplicated,'Avoided redundant navigation to current location: "'+r.fullPath+'".')).name="NavigationDuplicated",s));var u=function(n,e){var t,a=Math.max(n.length,e.length);for(t=0;t<a&&n[t]===e[t];t++);return{updated:e.slice(0,t),activated:e.slice(t),deactivated:n.slice(t)}}(this.current.matched,n.matched),d=u.updated,p=u.deactivated,m=u.activated,h=[].concat(function(n){return Rs(n,"beforeRouteLeave",Ms,!0)}(p),this.router.beforeHooks,function(n){return Rs(n,"beforeRouteUpdate",Ms)}(d),m.map((function(n){return n.beforeEnter})),_s(m)),g=function(e,t){if(a.pending!==n)return o(vs(i,n));try{e(n,i,(function(e){!1===e?(a.ensureURL(!0),o(function(n,e){return ys(n,e,fs.aborted,'Navigation aborted from "'+n.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}(i,n))):xs(e)?(a.ensureURL(!0),o(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(o(bs(i,n)),"object"==typeof e&&e.replace?a.replace(e):a.push(e)):t(e)}))}catch(n){o(n)}};Es(h,g,(function(){Es(function(n){return Rs(n,"beforeRouteEnter",(function(n,e,t,a){return function(n,e,t){return function(a,i,r){return n(a,i,(function(n){"function"==typeof n&&(e.enteredCbs[t]||(e.enteredCbs[t]=[]),e.enteredCbs[t].push(n)),r(n)}))}}(n,t,a)}))}(m).concat(a.router.resolveHooks),g,(function(){if(a.pending!==n)return o(vs(i,n));a.pending=null,e(n),a.router.app&&a.router.app.$nextTick((function(){vr(n)}))}))}))},qs.prototype.updateRoute=function(n){this.current=n,this.cb&&this.cb(n)},qs.prototype.setupListeners=function(){},qs.prototype.teardown=function(){this.listeners.forEach((function(n){n()})),this.listeners=[],this.current=mr,this.pending=null};var As=function(n){function e(e,t){n.call(this,e,t),this._startLocation=zs(this.base)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router,t=e.options.scrollBehavior,a=ms&&t;a&&this.listeners.push(as());var i=function(){var t=n.current,i=zs(n.base);n.current===mr&&i===n._startLocation||n.transitionTo(i,(function(n){a&&is(e,n,t,!0)}))};window.addEventListener("popstate",i),this.listeners.push((function(){window.removeEventListener("popstate",i)}))}},e.prototype.go=function(n){window.history.go(n)},e.prototype.push=function(n,e,t){var a=this,i=this.current;this.transitionTo(n,(function(n){hs(wr(a.base+n.fullPath)),is(a.router,n,i,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var a=this,i=this.current;this.transitionTo(n,(function(n){gs(wr(a.base+n.fullPath)),is(a.router,n,i,!1),e&&e(n)}),t)},e.prototype.ensureURL=function(n){if(zs(this.base)!==this.current.fullPath){var e=wr(this.base+this.current.fullPath);n?hs(e):gs(e)}},e.prototype.getCurrentLocation=function(){return zs(this.base)},e}(qs);function zs(n){var e=window.location.pathname,t=e.toLowerCase(),a=n.toLowerCase();return!n||t!==a&&0!==t.indexOf(wr(a+"/"))||(e=e.slice(n.length)),(e||"/")+window.location.search+window.location.hash}var Is=function(n){function e(e,t,a){n.call(this,e,t),a&&function(n){var e=zs(n);if(!/^\/#/.test(e))return window.location.replace(wr(n+"/#"+e)),!0}(this.base)||Bs()}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,t=ms&&e;t&&this.listeners.push(as());var a=function(){var e=n.current;Bs()&&n.transitionTo(Os(),(function(a){t&&is(n.router,a,e,!0),ms||Ds(a.fullPath)}))},i=ms?"popstate":"hashchange";window.addEventListener(i,a),this.listeners.push((function(){window.removeEventListener(i,a)}))}},e.prototype.push=function(n,e,t){var a=this,i=this.current;this.transitionTo(n,(function(n){Qs(n.fullPath),is(a.router,n,i,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var a=this,i=this.current;this.transitionTo(n,(function(n){Ds(n.fullPath),is(a.router,n,i,!1),e&&e(n)}),t)},e.prototype.go=function(n){window.history.go(n)},e.prototype.ensureURL=function(n){var e=this.current.fullPath;Os()!==e&&(n?Qs(e):Ds(e))},e.prototype.getCurrentLocation=function(){return Os()},e}(qs);function Bs(){var n=Os();return"/"===n.charAt(0)||(Ds("/"+n),!1)}function Os(){var n=window.location.href,e=n.indexOf("#");return e<0?"":n=n.slice(e+1)}function Ps(n){var e=window.location.href,t=e.indexOf("#");return(t>=0?e.slice(0,t):e)+"#"+n}function Qs(n){ms?hs(Ps(n)):window.location.hash=n}function Ds(n){ms?gs(Ps(n)):window.location.replace(Ps(n))}var Ls=function(n){function e(e,t){n.call(this,e,t),this.stack=[],this.index=-1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.push=function(n,e,t){var a=this;this.transitionTo(n,(function(n){a.stack=a.stack.slice(0,a.index+1).concat(n),a.index++,e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var a=this;this.transitionTo(n,(function(n){a.stack=a.stack.slice(0,a.index).concat(n),e&&e(n)}),t)},e.prototype.go=function(n){var e=this,t=this.index+n;if(!(t<0||t>=this.stack.length)){var a=this.stack[t];this.confirmTransition(a,(function(){var n=e.current;e.index=t,e.updateRoute(a),e.router.afterHooks.forEach((function(e){e&&e(a,n)}))}),(function(n){ws(n,fs.duplicated)&&(e.index=t)}))}},e.prototype.getCurrentLocation=function(){var n=this.stack[this.stack.length-1];return n?n.fullPath:"/"},e.prototype.ensureURL=function(){},e}(qs),Ns=function(n){void 0===n&&(n={}),this.app=null,this.apps=[],this.options=n,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Xr(n.routes||[],this);var e=n.mode||"hash";switch(this.fallback="history"===e&&!ms&&!1!==n.fallback,this.fallback&&(e="hash"),Gr||(e="abstract"),this.mode=e,e){case"history":this.history=new As(this,n.base);break;case"hash":this.history=new Is(this,n.base,this.fallback);break;case"abstract":this.history=new Ls(this,n.base);break;default:0}},Us={currentRoute:{configurable:!0}};Ns.prototype.match=function(n,e,t){return this.matcher.match(n,e,t)},Us.currentRoute.get=function(){return this.history&&this.history.current},Ns.prototype.init=function(n){var e=this;if(this.apps.push(n),n.$once("hook:destroyed",(function(){var t=e.apps.indexOf(n);t>-1&&e.apps.splice(t,1),e.app===n&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=n;var t=this.history;if(t instanceof As||t instanceof Is){var a=function(n){t.setupListeners(),function(n){var a=t.current,i=e.options.scrollBehavior;ms&&i&&"fullPath"in n&&is(e,n,a,!1)}(n)};t.transitionTo(t.getCurrentLocation(),a,a)}t.listen((function(n){e.apps.forEach((function(e){e._route=n}))}))}},Ns.prototype.beforeEach=function(n){return Js(this.beforeHooks,n)},Ns.prototype.beforeResolve=function(n){return Js(this.resolveHooks,n)},Ns.prototype.afterEach=function(n){return Js(this.afterHooks,n)},Ns.prototype.onReady=function(n,e){this.history.onReady(n,e)},Ns.prototype.onError=function(n){this.history.onError(n)},Ns.prototype.push=function(n,e,t){var a=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){a.history.push(n,e,t)}));this.history.push(n,e,t)},Ns.prototype.replace=function(n,e,t){var a=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){a.history.replace(n,e,t)}));this.history.replace(n,e,t)},Ns.prototype.go=function(n){this.history.go(n)},Ns.prototype.back=function(){this.go(-1)},Ns.prototype.forward=function(){this.go(1)},Ns.prototype.getMatchedComponents=function(n){var e=n?n.matched?n:this.resolve(n).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(n){return Object.keys(n.components).map((function(e){return n.components[e]}))}))):[]},Ns.prototype.resolve=function(n,e,t){var a=Nr(n,e=e||this.history.current,t,this),i=this.match(a,e),r=i.redirectedFrom||i.fullPath;return{location:a,route:i,href:function(n,e,t){var a="hash"===t?"#"+e:e;return n?wr(n+"/"+a):a}(this.history.base,r,this.mode),normalizedTo:a,resolved:i}},Ns.prototype.getRoutes=function(){return this.matcher.getRoutes()},Ns.prototype.addRoute=function(n,e){this.matcher.addRoute(n,e),this.history.current!==mr&&this.history.transitionTo(this.history.getCurrentLocation())},Ns.prototype.addRoutes=function(n){this.matcher.addRoutes(n),this.history.current!==mr&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Ns.prototype,Us);var $s=Ns;function Js(n,e){return n.push(e),function(){var t=n.indexOf(e);t>-1&&n.splice(t,1)}}Ns.install=function n(e){if(!n.installed||Ur!==e){n.installed=!0,Ur=e;var t=function(n){return void 0!==n},a=function(n,e){var a=n.$options._parentVnode;t(a)&&t(a=a.data)&&t(a=a.registerRouteInstance)&&a(n,e)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,a(this,this)},destroyed:function(){a(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",yr),e.component("RouterLink",Jr);var i=e.config.optionMergeStrategies;i.beforeRouteEnter=i.beforeRouteLeave=i.beforeRouteUpdate=i.created}},Ns.version="3.6.5",Ns.isNavigationFailure=ws,Ns.NavigationFailureType=fs,Ns.START_LOCATION=mr,Gr&&window.Vue&&window.Vue.use(Ns);t(104);t(13),t(131);var Fs={NotFound:()=>Promise.all([t.e(0),t.e(4)]).then(t.bind(null,327)),Layout:()=>Promise.all([t.e(0),t.e(2)]).then(t.bind(null,326))},Gs={"v-4ef1cd73":()=>t.e(5).then(t.bind(null,328)),"v-14111292":()=>t.e(7).then(t.bind(null,329)),"v-20278ad4":()=>t.e(6).then(t.bind(null,330)),"v-73a2391c":()=>t.e(9).then(t.bind(null,331)),"v-2e82d988":()=>t.e(8).then(t.bind(null,332)),"v-7d77e79a":()=>t.e(10).then(t.bind(null,333)),"v-fbe99ed8":()=>t.e(13).then(t.bind(null,334)),"v-62132423":()=>t.e(14).then(t.bind(null,335)),"v-786c2dcf":()=>t.e(16).then(t.bind(null,336)),"v-604f08d4":()=>t.e(15).then(t.bind(null,337)),"v-951a3cee":()=>t.e(11).then(t.bind(null,338)),"v-3fbbc302":()=>t.e(17).then(t.bind(null,339)),"v-39560dc6":()=>t.e(18).then(t.bind(null,340)),"v-01b3aea8":()=>t.e(19).then(t.bind(null,341)),"v-064b0f4d":()=>t.e(12).then(t.bind(null,342)),"v-5ea527a0":()=>t.e(20).then(t.bind(null,343)),"v-09e33dd4":()=>t.e(21).then(t.bind(null,344)),"v-1efa53dd":()=>t.e(22).then(t.bind(null,345)),"v-61a56867":()=>t.e(24).then(t.bind(null,346)),"v-676e814a":()=>t.e(23).then(t.bind(null,347)),"v-176b8424":()=>t.e(25).then(t.bind(null,348)),"v-313f6d8e":()=>t.e(26).then(t.bind(null,349)),"v-504527c9":()=>t.e(27).then(t.bind(null,350)),"v-6bf9b24a":()=>t.e(28).then(t.bind(null,351)),"v-61944210":()=>t.e(29).then(t.bind(null,352)),"v-72d51d8a":()=>t.e(30).then(t.bind(null,353)),"v-62914f02":()=>t.e(31).then(t.bind(null,354)),"v-1813f0ae":()=>t.e(32).then(t.bind(null,355)),"v-2d4c79d3":()=>t.e(33).then(t.bind(null,356)),"v-f3d5199e":()=>t.e(34).then(t.bind(null,357)),"v-452796f4":()=>t.e(35).then(t.bind(null,358)),"v-cfdc7134":()=>t.e(36).then(t.bind(null,359)),"v-8d31a9f4":()=>t.e(37).then(t.bind(null,360)),"v-25f34b1c":()=>t.e(38).then(t.bind(null,361))};function Hs(n){const e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}const Ks=/-(\w)/g,Xs=Hs(n=>n.replace(Ks,(n,e)=>e?e.toUpperCase():"")),Vs=/\B([A-Z])/g,Ws=Hs(n=>n.replace(Vs,"-$1").toLowerCase()),Ys=Hs(n=>n.charAt(0).toUpperCase()+n.slice(1));function Zs(n,e){if(!e)return;if(n(e))return n(e);return e.includes("-")?n(Ys(Xs(e))):n(Ys(e))||n(Ws(e))}const no=Object.assign({},Fs,Gs),eo=n=>no[n],to=n=>Gs[n],ao=n=>Fs[n],io=n=>Gt.component(n);function ro(n){return Zs(to,n)}function so(n){return Zs(ao,n)}function oo(n){return Zs(eo,n)}function lo(n){return Zs(io,n)}function co(...n){return Promise.all(n.filter(n=>n).map(async n=>{if(!lo(n)&&oo(n)){const e=await oo(n)();Gt.component(n,e.default)}}))}function uo(n,e){"undefined"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[n]=e)}var po=t(93),mo=t.n(po),ho=t(94),go=t.n(ho),fo={created(){if(this.siteMeta=this.$site.headTags.filter(([n])=>"meta"===n).map(([n,e])=>e),this.$ssrContext){const e=this.getMergedMetaTags();this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.pageMeta=(n=e)?n.map(n=>{let e="<meta";return Object.keys(n).forEach(t=>{e+=` ${t}="${go()(n[t])}"`}),e+">"}).join("\n    "):"",this.$ssrContext.canonicalLink=vo(this.$canonicalUrl)}var n},mounted(){this.currentMetaTags=[...document.querySelectorAll("meta")],this.updateMeta(),this.updateCanonicalLink()},methods:{updateMeta(){document.title=this.$title,document.documentElement.lang=this.$lang;const n=this.getMergedMetaTags();this.currentMetaTags=yo(n,this.currentMetaTags)},getMergedMetaTags(){const n=this.$page.frontmatter.meta||[];return mo()([{name:"description",content:this.$description}],n,this.siteMeta,ko)},updateCanonicalLink(){bo(),this.$canonicalUrl&&document.head.insertAdjacentHTML("beforeend",vo(this.$canonicalUrl))}},watch:{$page(){this.updateMeta(),this.updateCanonicalLink()}},beforeDestroy(){yo(null,this.currentMetaTags),bo()}};function bo(){const n=document.querySelector("link[rel='canonical']");n&&n.remove()}function vo(n=""){return n?`<link href="${n}" rel="canonical" />`:""}function yo(n,e){if(e&&[...e].filter(n=>n.parentNode===document.head).forEach(n=>document.head.removeChild(n)),n)return n.map(n=>{const e=document.createElement("meta");return Object.keys(n).forEach(t=>{e.setAttribute(t,n[t])}),document.head.appendChild(e),e})}function ko(n){for(const e of["name","property","itemprop"])if(n.hasOwnProperty(e))return n[e]+e;return JSON.stringify(n)}var xo=t(50),wo={mounted(){window.addEventListener("scroll",this.onScroll)},methods:{onScroll:t.n(xo)()((function(){this.setActiveHash()}),300),setActiveHash(){const n=[].slice.call(document.querySelectorAll(".sidebar-link")),e=[].slice.call(document.querySelectorAll(".header-anchor")).filter(e=>n.some(n=>n.hash===e.hash)),t=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),a=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=window.innerHeight+t;for(let n=0;n<e.length;n++){const r=e[n],s=e[n+1],o=0===n&&0===t||t>=r.parentElement.offsetTop+10&&(!s||t<s.parentElement.offsetTop-10),l=decodeURIComponent(this.$route.hash);if(o&&l!==decodeURIComponent(r.hash)){const t=r;if(i===a)for(let t=n+1;t<e.length;t++)if(l===decodeURIComponent(e[t].hash))return;return this.$vuepress.$set("disableScrollBehavior",!0),void this.$router.replace(decodeURIComponent(t.hash),()=>{this.$nextTick(()=>{this.$vuepress.$set("disableScrollBehavior",!1)})})}}}},beforeDestroy(){window.removeEventListener("scroll",this.onScroll)}},Eo=t(25),_o=t.n(Eo),So={mounted(){_o.a.configure({showSpinner:!1}),this.$router.beforeEach((n,e,t)=>{n.path===e.path||Gt.component(n.name)||_o.a.start(),t()}),this.$router.afterEach(()=>{_o.a.done(),this.isSidebarOpen=!1})}};t(238),t(239);class Co{constructor(){this.containerEl=document.getElementById("message-container"),this.containerEl||(this.containerEl=document.createElement("div"),this.containerEl.id="message-container",document.body.appendChild(this.containerEl))}show({text:n="",duration:e=3e3}){let t=document.createElement("div");t.className="message move-in",t.innerHTML=`\n      <i style="fill: #06a35a;font-size: 14px;display:inline-flex;align-items: center;">\n        <svg style="fill: #06a35a;font-size: 14px;" t="1572421810237" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2323" width="16" height="16"><path d="M822.811993 824.617989c-83.075838 81.99224-188.546032 124.613757-316.049383 127.86455-122.085362-3.250794-223.943563-45.87231-305.935802-127.86455s-124.613757-184.21164-127.86455-305.935802c3.250794-127.503351 45.87231-232.973545 127.86455-316.049383 81.99224-83.075838 184.21164-126.058554 305.935802-129.309347 127.503351 3.250794 232.973545 46.23351 316.049383 129.309347 83.075838 83.075838 126.058554 188.546032 129.309347 316.049383C949.231746 640.406349 905.887831 742.62575 822.811993 824.617989zM432.716755 684.111464c3.973192 3.973192 8.307584 5.779189 13.364374 6.140388 5.05679 0.361199 9.752381-1.444797 13.364374-5.417989l292.571429-287.514638c3.973192-3.973192 5.779189-8.307584 5.779189-13.364374 0-5.05679-1.805996-9.752381-5.779189-13.364374l1.805996 1.805996c-3.973192-3.973192-8.668783-5.779189-14.086772-6.140388-5.417989-0.361199-10.47478 1.444797-14.809171 5.417989l-264.397884 220.33157c-3.973192 3.250794-8.668783 4.695591-14.447972 4.695591-5.779189 0-10.835979-1.444797-15.53157-3.973192l-94.273016-72.962257c-4.334392-3.250794-9.391182-4.334392-14.447972-3.973192s-9.391182 3.250794-12.641975 7.585185l-2.889594 3.973192c-3.250794 4.334392-4.334392 9.391182-3.973192 14.809171 0.722399 5.417989 2.528395 10.11358 5.779189 14.086772L432.716755 684.111464z" p-id="2324"></path></svg>\n      </i>\n      <div class="text">${n}</div>\n    `,this.containerEl.appendChild(t),e>0&&setTimeout(()=>{this.close(t)},e)}close(n){n.className=n.className.replace("move-in",""),n.className+="move-out",n.addEventListener("animationend",()=>{n.remove()})}}var jo={mounted(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},updated(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},methods:{updateCopy(){setTimeout(()=>{(['div[class*="language-"] pre','div[class*="aside-code"] aside']instanceof Array||Array.isArray(['div[class*="language-"] pre','div[class*="aside-code"] aside']))&&['div[class*="language-"] pre','div[class*="aside-code"] aside'].forEach(n=>{document.querySelectorAll(n).forEach(this.generateCopyButton)})},1e3)},generateCopyButton(n){if(n.classList.contains("codecopy-enabled"))return;const e=document.createElement("i");e.className="code-copy",e.innerHTML='<svg  style="color:#aaa;font-size:14px" t="1572422231464" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3201" width="14" height="14"><path d="M866.461538 39.384615H354.461538c-43.323077 0-78.769231 35.446154-78.76923 78.769231v39.384616h472.615384c43.323077 0 78.769231 35.446154 78.769231 78.76923v551.384616h39.384615c43.323077 0 78.769231-35.446154 78.769231-78.769231V118.153846c0-43.323077-35.446154-78.769231-78.769231-78.769231z m-118.153846 275.692308c0-43.323077-35.446154-78.769231-78.76923-78.769231H157.538462c-43.323077 0-78.769231 35.446154-78.769231 78.769231v590.769231c0 43.323077 35.446154 78.769231 78.769231 78.769231h512c43.323077 0 78.769231-35.446154 78.76923-78.769231V315.076923z m-354.461538 137.846154c0 11.815385-7.876923 19.692308-19.692308 19.692308h-157.538461c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h157.538461c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z m157.538461 315.076923c0 11.815385-7.876923 19.692308-19.692307 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h315.076923c11.815385 0 19.692308 7.876923 19.692307 19.692308v39.384615z m78.769231-157.538462c0 11.815385-7.876923 19.692308-19.692308 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h393.846153c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z" p-id="3202"></path></svg>',e.title="Copy to clipboard",e.addEventListener("click",()=>{this.copyToClipboard(n.innerText)}),n.appendChild(e),n.classList.add("codecopy-enabled")},copyToClipboard(n){const e=document.createElement("textarea");e.value=n,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);const t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);e.select(),document.execCommand("copy");(new Co).show({text:"å¤å¶æå",duration:1e3}),document.body.removeChild(e),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t))}}},To="auto",qo="zoom-in",Ro="zoom-out",Mo="grab",Ao="move";function zo(n,e,t){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={passive:!1};a?n.addEventListener(e,t,i):n.removeEventListener(e,t,i)}function Io(n,e){if(n){var t=new Image;t.onload=function(){e&&e(t)},t.src=n}}function Bo(n){return n.dataset.original?n.dataset.original:"A"===n.parentNode.tagName?n.parentNode.getAttribute("href"):null}function Oo(n,e,t){!function(n){var e=Po,t=Qo;if(n.transition){var a=n.transition;delete n.transition,n[e]=a}if(n.transform){var i=n.transform;delete n.transform,n[t]=i}}(e);var a=n.style,i={};for(var r in e)t&&(i[r]=a[r]||""),a[r]=e[r];return i}var Po="transition",Qo="transform",Do="transform",Lo="transitionend";var No=function(){},Uo={enableGrab:!0,preloadImage:!1,closeOnWindowResize:!0,transitionDuration:.4,transitionTimingFunction:"cubic-bezier(0.4, 0, 0, 1)",bgColor:"rgb(255, 255, 255)",bgOpacity:1,scaleBase:1,scaleExtra:.5,scrollThreshold:40,zIndex:998,customSize:null,onOpen:No,onClose:No,onGrab:No,onMove:No,onRelease:No,onBeforeOpen:No,onBeforeClose:No,onBeforeGrab:No,onBeforeRelease:No,onImageLoading:No,onImageLoaded:No},$o={init:function(n){var e,t;e=this,t=n,Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(n){e[n]=e[n].bind(t)}))},click:function(n){if(n.preventDefault(),Fo(n))return window.open(this.target.srcOriginal||n.currentTarget.src,"_blank");this.shown?this.released?this.close():this.release():this.open(n.currentTarget)},scroll:function(){var n=document.documentElement||document.body.parentNode||document.body,e=window.pageXOffset||n.scrollLeft,t=window.pageYOffset||n.scrollTop;null===this.lastScrollPosition&&(this.lastScrollPosition={x:e,y:t});var a=this.lastScrollPosition.x-e,i=this.lastScrollPosition.y-t,r=this.options.scrollThreshold;(Math.abs(i)>=r||Math.abs(a)>=r)&&(this.lastScrollPosition=null,this.close())},keydown:function(n){(function(n){return"Escape"===(n.key||n.code)||27===n.keyCode})(n)&&(this.released?this.close():this.release(this.close))},mousedown:function(n){if(Jo(n)&&!Fo(n)){n.preventDefault();var e=n.clientX,t=n.clientY;this.pressTimer=setTimeout(function(){this.grab(e,t)}.bind(this),200)}},mousemove:function(n){this.released||this.move(n.clientX,n.clientY)},mouseup:function(n){Jo(n)&&!Fo(n)&&(clearTimeout(this.pressTimer),this.released?this.close():this.release())},touchstart:function(n){n.preventDefault();var e=n.touches[0],t=e.clientX,a=e.clientY;this.pressTimer=setTimeout(function(){this.grab(t,a)}.bind(this),200)},touchmove:function(n){if(!this.released){var e=n.touches[0],t=e.clientX,a=e.clientY;this.move(t,a)}},touchend:function(n){(function(n){n.targetTouches.length})(n)||(clearTimeout(this.pressTimer),this.released?this.close():this.release())},clickOverlay:function(){this.close()},resizeWindow:function(){this.close()}};function Jo(n){return 0===n.button}function Fo(n){return n.metaKey||n.ctrlKey}var Go={init:function(n){this.el=document.createElement("div"),this.instance=n,this.parent=document.body,Oo(this.el,{position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0}),this.updateStyle(n.options),zo(this.el,"click",n.handler.clickOverlay.bind(n))},updateStyle:function(n){Oo(this.el,{zIndex:n.zIndex,backgroundColor:n.bgColor,transition:"opacity\n        "+n.transitionDuration+"s\n        "+n.transitionTimingFunction})},insert:function(){this.parent.appendChild(this.el)},remove:function(){this.parent.removeChild(this.el)},fadeIn:function(){this.el.offsetWidth,this.el.style.opacity=this.instance.options.bgOpacity},fadeOut:function(){this.el.style.opacity=0}},Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ko=function(){function n(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}(),Xo=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},Vo={init:function(n,e){this.el=n,this.instance=e,this.srcThumbnail=this.el.getAttribute("src"),this.srcset=this.el.getAttribute("srcset"),this.srcOriginal=Bo(this.el),this.rect=this.el.getBoundingClientRect(),this.translate=null,this.scale=null,this.styleOpen=null,this.styleClose=null},zoomIn:function(){var n=this.instance.options,e=n.zIndex,t=n.enableGrab,a=n.transitionDuration,i=n.transitionTimingFunction;this.translate=this.calculateTranslate(),this.scale=this.calculateScale(),this.styleOpen={position:"relative",zIndex:e+1,cursor:t?Mo:Ro,transition:Do+"\n        "+a+"s\n        "+i,transform:"translate3d("+this.translate.x+"px, "+this.translate.y+"px, 0px)\n        scale("+this.scale.x+","+this.scale.y+")",height:this.rect.height+"px",width:this.rect.width+"px"},this.el.offsetWidth,this.styleClose=Oo(this.el,this.styleOpen,!0)},zoomOut:function(){this.el.offsetWidth,Oo(this.el,{transform:"none"})},grab:function(n,e,t){var a=Wo(),i=a.x-n,r=a.y-e;Oo(this.el,{cursor:Ao,transform:"translate3d(\n        "+(this.translate.x+i)+"px, "+(this.translate.y+r)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},move:function(n,e,t){var a=Wo(),i=a.x-n,r=a.y-e;Oo(this.el,{transition:Do,transform:"translate3d(\n        "+(this.translate.x+i)+"px, "+(this.translate.y+r)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},restoreCloseStyle:function(){Oo(this.el,this.styleClose)},restoreOpenStyle:function(){Oo(this.el,this.styleOpen)},upgradeSource:function(){if(this.srcOriginal){var n=this.el.parentNode;this.srcset&&this.el.removeAttribute("srcset");var e=this.el.cloneNode(!1);e.setAttribute("src",this.srcOriginal),e.style.position="fixed",e.style.visibility="hidden",n.appendChild(e),setTimeout(function(){this.el.setAttribute("src",this.srcOriginal),n.removeChild(e)}.bind(this),50)}},downgradeSource:function(){this.srcOriginal&&(this.srcset&&this.el.setAttribute("srcset",this.srcset),this.el.setAttribute("src",this.srcThumbnail))},calculateTranslate:function(){var n=Wo(),e=this.rect.left+this.rect.width/2,t=this.rect.top+this.rect.height/2;return{x:n.x-e,y:n.y-t}},calculateScale:function(){var n=this.el.dataset,e=n.zoomingHeight,t=n.zoomingWidth,a=this.instance.options,i=a.customSize,r=a.scaleBase;if(!i&&e&&t)return{x:t/this.rect.width,y:e/this.rect.height};if(i&&"object"===(void 0===i?"undefined":Ho(i)))return{x:i.width/this.rect.width,y:i.height/this.rect.height};var s=this.rect.width/2,o=this.rect.height/2,l=Wo(),c={x:l.x-s,y:l.y-o},u=c.x/s,d=c.y/o,p=r+Math.min(u,d);if(i&&"string"==typeof i){var m=t||this.el.naturalWidth,h=e||this.el.naturalHeight,g=parseFloat(i)*m/(100*this.rect.width),f=parseFloat(i)*h/(100*this.rect.height);if(p>g||p>f)return{x:g,y:f}}return{x:p,y:p}}};function Wo(){var n=document.documentElement;return{x:Math.min(n.clientWidth,window.innerWidth)/2,y:Math.min(n.clientHeight,window.innerHeight)/2}}function Yo(n,e,t){["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"].forEach((function(a){zo(n,a,e[a],t)}))}var Zo=function(){function n(e){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.target=Object.create(Vo),this.overlay=Object.create(Go),this.handler=Object.create($o),this.body=document.body,this.shown=!1,this.lock=!1,this.released=!0,this.lastScrollPosition=null,this.pressTimer=null,this.options=Xo({},Uo,e),this.overlay.init(this),this.handler.init(this)}return Ko(n,[{key:"listen",value:function(n){if("string"==typeof n)for(var e=document.querySelectorAll(n),t=e.length;t--;)this.listen(e[t]);else"IMG"===n.tagName&&(n.style.cursor=qo,zo(n,"click",this.handler.click),this.options.preloadImage&&Io(Bo(n)));return this}},{key:"config",value:function(n){return n?(Xo(this.options,n),this.overlay.updateStyle(this.options),this):this.options}},{key:"open",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.onOpen;if(!this.shown&&!this.lock){var a="string"==typeof n?document.querySelector(n):n;if("IMG"===a.tagName){if(this.options.onBeforeOpen(a),this.target.init(a,this),!this.options.preloadImage){var i=this.target.srcOriginal;null!=i&&(this.options.onImageLoading(a),Io(i,this.options.onImageLoaded))}this.shown=!0,this.lock=!0,this.target.zoomIn(),this.overlay.insert(),this.overlay.fadeIn(),zo(document,"scroll",this.handler.scroll),zo(document,"keydown",this.handler.keydown),this.options.closeOnWindowResize&&zo(window,"resize",this.handler.resizeWindow);var r=function n(){zo(a,Lo,n,!1),e.lock=!1,e.target.upgradeSource(),e.options.enableGrab&&Yo(document,e.handler,!0),t(a)};return zo(a,Lo,r),this}}}},{key:"close",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onClose;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeClose(t),this.lock=!0,this.body.style.cursor=To,this.overlay.fadeOut(),this.target.zoomOut(),zo(document,"scroll",this.handler.scroll,!1),zo(document,"keydown",this.handler.keydown,!1),this.options.closeOnWindowResize&&zo(window,"resize",this.handler.resizeWindow,!1);var a=function a(){zo(t,Lo,a,!1),n.shown=!1,n.lock=!1,n.target.downgradeSource(),n.options.enableGrab&&Yo(document,n.handler,!1),n.target.restoreCloseStyle(),n.overlay.remove(),e(t)};return zo(t,Lo,a),this}}},{key:"grab",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onGrab;if(this.shown&&!this.lock){var i=this.target.el;this.options.onBeforeGrab(i),this.released=!1,this.target.grab(n,e,t);var r=function n(){zo(i,Lo,n,!1),a(i)};return zo(i,Lo,r),this}}},{key:"move",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onMove;if(this.shown&&!this.lock){this.released=!1,this.body.style.cursor=Ao,this.target.move(n,e,t);var i=this.target.el,r=function n(){zo(i,Lo,n,!1),a(i)};return zo(i,Lo,r),this}}},{key:"release",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onRelease;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeRelease(t),this.lock=!0,this.body.style.cursor=To,this.target.restoreOpenStyle();var a=function a(){zo(t,Lo,a,!1),n.lock=!1,n.released=!0,e(t)};return zo(t,Lo,a),this}}}]),n}();const nl=JSON.parse('{"bgColor":"rgba(0,0,0,0.6)"}'),el=Number("500");class tl{constructor(){this.instance=new Zo(nl)}update(n=".theme-vdoing-content img:not(.no-zoom)"){"undefined"!=typeof window&&this.instance.listen(n)}updateDelay(n=".theme-vdoing-content img:not(.no-zoom)",e=el){setTimeout(()=>this.update(n),e)}}var al=[fo,wo,So,jo,{watch:{"$page.path"(){void 0!==this.$vuepress.zooming&&this.$vuepress.zooming.updateDelay()}},mounted(){this.$vuepress.zooming=new tl,this.$vuepress.zooming.updateDelay()}}],il={name:"GlobalLayout",computed:{layout(){const n=this.getLayout();return uo("layout",n),Gt.component(n)}},methods:{getLayout(){if(this.$page.path){const n=this.$page.frontmatter.layout;return n&&(this.$vuepress.getLayoutAsyncComponent(n)||this.$vuepress.getVueComponent(n))?n:"Layout"}return"NotFound"}}},rl=t(7),sl=Object(rl.a)(il,(function(){return(0,this._self._c)(this.layout,{tag:"component"})}),[],!1,null,null,null).exports;!function(n,e,t){switch(e){case"components":n[e]||(n[e]={}),Object.assign(n[e],t);break;case"mixins":n[e]||(n[e]=[]),n[e].push(...t);break;default:throw new Error("Unknown option name.")}}(sl,"mixins",al);const ol=[{name:"v-4ef1cd73",path:"/pages/kas755c4/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-4ef1cd73").then(t)}},{path:"/pages/kas755c4/index.html",redirect:"/pages/kas755c4/"},{path:"/01.Java/01.JavaSE/01.Javaæ¦è¿°&ç¯å¢æ­å»º.html",redirect:"/pages/kas755c4/"},{name:"v-14111292",path:"/pages/09kei4a8/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-14111292").then(t)}},{path:"/pages/09kei4a8/index.html",redirect:"/pages/09kei4a8/"},{path:"/02.Javaæ¡æ¶/01.SpringCloud/02.SpringCloud Zookeeper.html",redirect:"/pages/09kei4a8/"},{name:"v-20278ad4",path:"/pages/24j4ehty/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-20278ad4").then(t)}},{path:"/pages/24j4ehty/index.html",redirect:"/pages/24j4ehty/"},{path:"/02.Javaæ¡æ¶/01.SpringCloud/01.SpringCloud Eureka.html",redirect:"/pages/24j4ehty/"},{name:"v-73a2391c",path:"/pages/bp3ikv4g/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-73a2391c").then(t)}},{path:"/pages/bp3ikv4g/index.html",redirect:"/pages/bp3ikv4g/"},{path:"/03.æ°æ®åº/02.Redis/01.Redisæ¦è¿°&å®è£.html",redirect:"/pages/bp3ikv4g/"},{name:"v-2e82d988",path:"/pages/yuu0dk4i/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-2e82d988").then(t)}},{path:"/pages/yuu0dk4i/index.html",redirect:"/pages/yuu0dk4i/"},{path:"/02.Javaæ¡æ¶/01.SpringCloud/03.SpringCloud Consul.html",redirect:"/pages/yuu0dk4i/"},{name:"v-7d77e79a",path:"/pages/0oaka83c/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-7d77e79a").then(t)}},{path:"/pages/0oaka83c/index.html",redirect:"/pages/0oaka83c/"},{path:"/03.æ°æ®åº/02.Redis/02.Rediså¸¸ç¨å½ä»¤&æ°æ®ç±»å.html",redirect:"/pages/0oaka83c/"},{name:"v-fbe99ed8",path:"/pages/wuy0993s/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-fbe99ed8").then(t)}},{path:"/pages/wuy0993s/index.html",redirect:"/pages/wuy0993s/"},{path:"/03.æ°æ®åº/02.Redis/05.Redisæ°æ°æ®ç±»å.html",redirect:"/pages/wuy0993s/"},{name:"v-62132423",path:"/pages/a7v81744/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-62132423").then(t)}},{path:"/pages/a7v81744/index.html",redirect:"/pages/a7v81744/"},{path:"/03.æ°æ®åº/02.Redis/06.Redis Javaå®¢æ·ç«¯Jedis.html",redirect:"/pages/a7v81744/"},{name:"v-786c2dcf",path:"/pages/sm8jwpla/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-786c2dcf").then(t)}},{path:"/pages/sm8jwpla/index.html",redirect:"/pages/sm8jwpla/"},{path:"/04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/01.MQçç¸å³æ¦å¿µ.html",redirect:"/pages/sm8jwpla/"},{name:"v-604f08d4",path:"/pages/jsf92i5m/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-604f08d4").then(t)}},{path:"/pages/jsf92i5m/index.html",redirect:"/pages/jsf92i5m/"},{path:"/03.æ°æ®åº/02.Redis/07.SpringBootæ´åRedis.html",redirect:"/pages/jsf92i5m/"},{name:"v-951a3cee",path:"/pages/57aemd8k/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-951a3cee").then(t)}},{path:"/pages/57aemd8k/index.html",redirect:"/pages/57aemd8k/"},{path:"/03.æ°æ®åº/02.Redis/03.Rediséç½®æä»¶.html",redirect:"/pages/57aemd8k/"},{name:"v-3fbbc302",path:"/pages/vd45cpcf/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-3fbbc302").then(t)}},{path:"/pages/vd45cpcf/index.html",redirect:"/pages/vd45cpcf/"},{path:"/04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/01.RabbitMQä»ç».html",redirect:"/pages/vd45cpcf/"},{name:"v-39560dc6",path:"/pages/kr5yv2xa/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-39560dc6").then(t)}},{path:"/pages/kr5yv2xa/index.html",redirect:"/pages/kr5yv2xa/"},{path:"/04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/02.RabbitMQå®è£&å¸¸ç¨å½ä»¤.html",redirect:"/pages/kr5yv2xa/"},{name:"v-01b3aea8",path:"/pages/hs9by9nl/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-01b3aea8").then(t)}},{path:"/pages/hs9by9nl/index.html",redirect:"/pages/hs9by9nl/"},{path:"/04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/03.RabbitMQå¥é¨ç¨åº.html",redirect:"/pages/hs9by9nl/"},{name:"v-064b0f4d",path:"/pages/3a16c7g6/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-064b0f4d").then(t)}},{path:"/pages/3a16c7g6/index.html",redirect:"/pages/3a16c7g6/"},{path:"/03.æ°æ®åº/02.Redis/04.Redisåå¸åè®¢é.html",redirect:"/pages/3a16c7g6/"},{name:"v-5ea527a0",path:"/pages/b2xtwkg7/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-5ea527a0").then(t)}},{path:"/pages/b2xtwkg7/index.html",redirect:"/pages/b2xtwkg7/"},{path:"/04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/04.RabbitMQå·¥ä½éå.html",redirect:"/pages/b2xtwkg7/"},{name:"v-09e33dd4",path:"/pages/hf5rpdk0/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-09e33dd4").then(t)}},{path:"/pages/hf5rpdk0/index.html",redirect:"/pages/hf5rpdk0/"},{path:"/04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/05.RabbitMQåå¸ç¡®è®¤.html",redirect:"/pages/hf5rpdk0/"},{name:"v-1efa53dd",path:"/pages/umb37yap/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-1efa53dd").then(t)}},{path:"/pages/umb37yap/index.html",redirect:"/pages/umb37yap/"},{path:"/04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/06.RabbitMQäº¤æ¢æº.html",redirect:"/pages/umb37yap/"},{name:"v-61a56867",path:"/pages/0dmo0ykv/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-61a56867").then(t)}},{path:"/pages/0dmo0ykv/index.html",redirect:"/pages/0dmo0ykv/"},{path:"/04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/08.SpringBootæ´åRabbitMQ.html",redirect:"/pages/0dmo0ykv/"},{name:"v-676e814a",path:"/pages/l98puwie/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-676e814a").then(t)}},{path:"/pages/l98puwie/index.html",redirect:"/pages/l98puwie/"},{path:"/04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/07.RabbitMQæ­»ä¿¡éå.html",redirect:"/pages/l98puwie/"},{name:"v-176b8424",path:"/pages/8s5gukww/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-176b8424").then(t)}},{path:"/pages/8s5gukww/index.html",redirect:"/pages/8s5gukww/"},{path:"/04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/09.RabbitMQå»¶æ¶éå.html",redirect:"/pages/8s5gukww/"},{name:"v-313f6d8e",path:"/pages/mcht59cm/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-313f6d8e").then(t)}},{path:"/pages/mcht59cm/index.html",redirect:"/pages/mcht59cm/"},{path:"/04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/10.RabbitMQåå¸ç¡®è®¤é«çº§.html",redirect:"/pages/mcht59cm/"},{name:"v-504527c9",path:"/pages/5ctcr5a6/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-504527c9").then(t)}},{path:"/pages/5ctcr5a6/index.html",redirect:"/pages/5ctcr5a6/"},{path:"/04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/11.RabbitMQå¶ä»ç¥è¯ç¹.html",redirect:"/pages/5ctcr5a6/"},{name:"v-6bf9b24a",path:"/pages/1kma3r88/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-6bf9b24a").then(t)}},{path:"/pages/1kma3r88/index.html",redirect:"/pages/1kma3r88/"},{path:"/04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/12.RabbitMQéç¾¤.html",redirect:"/pages/1kma3r88/"},{name:"v-61944210",path:"/pages/e938xib2/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-61944210").then(t)}},{path:"/pages/e938xib2/index.html",redirect:"/pages/e938xib2/"},{path:"/05.è¿ç»´/01.Linux/01.Linuxèææºå®è£åè®¾ç½®ContOS7.6.html",redirect:"/pages/e938xib2/"},{name:"v-72d51d8a",path:"/pages/45rn88gi/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-72d51d8a").then(t)}},{path:"/pages/45rn88gi/index.html",redirect:"/pages/45rn88gi/"},{path:"/05.è¿ç»´/01.Linux/02.LinuxèææºVMwareToolså®è£+ä½¿ç¨è¯¦è§£.html",redirect:"/pages/45rn88gi/"},{name:"v-62914f02",path:"/pages/eb9ks77i/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-62914f02").then(t)}},{path:"/pages/eb9ks77i/index.html",redirect:"/pages/eb9ks77i/"},{path:"/06.å·¥å·/01.Git/01.Gitåºç¡å½ä»¤.html",redirect:"/pages/eb9ks77i/"},{name:"v-1813f0ae",path:"/pages/34mo4hjp/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-1813f0ae").then(t)}},{path:"/pages/34mo4hjp/index.html",redirect:"/pages/34mo4hjp/"},{path:"/06.å·¥å·/01.Git/02.Gitåæ¯.html",redirect:"/pages/34mo4hjp/"},{name:"v-2d4c79d3",path:"/pages/1cpd2f32/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-2d4c79d3").then(t)}},{path:"/pages/1cpd2f32/index.html",redirect:"/pages/1cpd2f32/"},{path:"/06.å·¥å·/01.Git/03.Gitè¿ç¨ä»åº.html",redirect:"/pages/1cpd2f32/"},{name:"v-f3d5199e",path:"/pages/lp31htbk/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-f3d5199e").then(t)}},{path:"/pages/lp31htbk/index.html",redirect:"/pages/lp31htbk/"},{path:"/06.å·¥å·/01.Git/04.MacOSå®è£Git.html",redirect:"/pages/lp31htbk/"},{name:"v-452796f4",path:"/archives/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-452796f4").then(t)}},{path:"/archives/index.html",redirect:"/archives/"},{path:"/@pages/archivesPage.html",redirect:"/archives/"},{name:"v-cfdc7134",path:"/categories/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-cfdc7134").then(t)}},{path:"/categories/index.html",redirect:"/categories/"},{path:"/@pages/categoriesPage.html",redirect:"/categories/"},{name:"v-8d31a9f4",path:"/tags/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-8d31a9f4").then(t)}},{path:"/tags/index.html",redirect:"/tags/"},{path:"/@pages/tagsPage.html",redirect:"/tags/"},{name:"v-25f34b1c",path:"/",component:sl,beforeEnter:(n,e,t)=>{co("Layout","v-25f34b1c").then(t)}},{path:"/index.html",redirect:"/"},{path:"*",component:sl}],ll={title:"ä¹æ¨åç",description:"Javaåç«¯ææ¯åå®¢,ä¸æ³¨Javaåç«¯å­¦ä¹ ä¸æ»ç»ãJava,Spring,SpringBoot,SpringMVC,SpringCloud,Mybatis,Linux,css3,html5,Maven,git,githubç­ææ¯æç« ã",base:"/",headTags:[["link",{rel:"icon",href:"/img/favicon.ico"}],["meta",{name:"keywords",content:"Javaåç«¯ææ¯åå®¢,ä¸æ³¨Javaåç«¯å­¦ä¹ ä¸æ»ç»ãJava,Spring,SpringBoot,SpringMVC,SpringCloud,Mybatis,Linux,css3,html5,Maven,git,githubç­ææ¯æç« ã"}],["meta",{name:"theme-color",content:"#11a8cd"}]],pages:[{title:"Javaæ¦è¿°",frontmatter:{title:"Javaæ¦è¿°",date:"2022-11-22T11:30:56.000Z",permalink:"/pages/kas755c4/",categories:["Java"],tags:["JavaSE"],author:"ä¹æ¨åç"},regularPath:"/01.Java/01.JavaSE/01.Java%E6%A6%82%E8%BF%B0&%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html",relativePath:"01.Java/01.JavaSE/01.Javaæ¦è¿°&ç¯å¢æ­å»º.md",key:"v-4ef1cd73",path:"/pages/kas755c4/",headers:[{level:2,title:"Javaè¯­è¨æ¦è¿°",slug:"javaè¯­è¨æ¦è¿°",normalizedTitle:"javaè¯­è¨æ¦è¿°",charIndex:2},{level:3,title:"Javaç®å²",slug:"javaç®å²",normalizedTitle:"javaç®å²",charIndex:284},{level:3,title:"Javaææ¯ä½ç³»å¹³å°",slug:"javaææ¯ä½ç³»å¹³å°",normalizedTitle:"javaææ¯ä½ç³»å¹³å°",charIndex:905},{level:3,title:"Javaå¨åé¢åçåºç¨",slug:"javaå¨åé¢åçåºç¨",normalizedTitle:"javaå¨åé¢åçåºç¨",charIndex:1295},{level:3,title:"Javaè¯­è¨çè¯ç",slug:"javaè¯­è¨çè¯ç",normalizedTitle:"javaè¯­è¨çè¯ç",charIndex:1723},{level:3,title:"ä¸»è¦ç¹æ§",slug:"ä¸»è¦ç¹æ§",normalizedTitle:"ä¸»è¦ç¹æ§",charIndex:2144},{level:3,title:"Javaè¯­è¨çç¹ç¹",slug:"javaè¯­è¨çç¹ç¹",normalizedTitle:"javaè¯­è¨çç¹ç¹",charIndex:2944},{level:3,title:"è·¨å¹³å°æ§",slug:"è·¨å¹³å°æ§",normalizedTitle:"è·¨å¹³å°æ§",charIndex:3083},{level:3,title:"åå¾åæ¶",slug:"åå¾åæ¶",normalizedTitle:"åå¾åæ¶",charIndex:1774},{level:2,title:"JDKãJREãJVM",slug:"jdkãjreãjvm",normalizedTitle:"jdkãjreãjvm",charIndex:3512},{level:3,title:"Javaèææº (Java Virtal Machine)",slug:"javaèææº-java-virtal-machine",normalizedTitle:"javaèææº (java virtal machine)",charIndex:3866},{level:4,title:"Javaèææºçåå­åå",slug:"javaèææºçåå­åå",normalizedTitle:"javaèææºçåå­åå",charIndex:4040},{level:2,title:"ç¯å¢æ­å»º",slug:"ç¯å¢æ­å»º",normalizedTitle:"ç¯å¢æ­å»º",charIndex:4274},{level:3,title:"ä¸è½½ãå®è£",slug:"ä¸è½½ãå®è£",normalizedTitle:"ä¸è½½ãå®è£",charIndex:4283},{level:3,title:"éç½®ç¯å¢åé",slug:"éç½®ç¯å¢åé",normalizedTitle:"éç½®ç¯å¢åé",charIndex:4414},{level:4,title:"éç½®ä¸",slug:"éç½®ä¸",normalizedTitle:"éç½®ä¸",charIndex:4814},{level:4,title:"éç½®äº",slug:"éç½®äº",normalizedTitle:"éç½®äº",charIndex:4902},{level:4,title:"æ£æµ",slug:"æ£æµ",normalizedTitle:"æ£æµ",charIndex:4966}],excerpt:'<h2 id="javaè¯­è¨æ¦è¿°"><a class="header-anchor" href="#javaè¯­è¨æ¦è¿°">#</a> Javaè¯­è¨æ¦è¿°</h2>\n<p>Javaæ¯<strong>SUN(Stanford University Networkï¼æ¯å¦ç¦å¤§å­¦ç½ç»å¬å¸) 1995</strong>å¹´æ¨åºçä¸é¨é«çº§ç¼ç¨è¯­è¨ã</p>\n<p>æ¯ä¸ç§é¢åInternetçç¼ç¨è¯­è¨ãJavaä¸å¼å§å¯æå¸å¼åæ¯å ä¸ºJavaç¨åºå¯ä»¥å¨Webæµè§å¨ä¸­è¿è¡ãè¿äºJavaç¨åºè¢«ç§°ä¸ºJavaå°ç¨åºï¼appletï¼ãappletä½¿ç¨ç°ä»£çå¾å½¢ç¨æ·çé¢ä¸Webç¨æ·è¿è¡äº¤äºã appletååµå¨HTMLä»£ç ä¸­ã</p>\n<p>éçJavaææ¯å¨webæ¹é¢çä¸æ­æçï¼å·²ç»æä¸ºWebåºç¨ç¨åºçé¦éå¼åè¯­è¨ã</p>\n',headersStr:"Javaè¯­è¨æ¦è¿° Javaç®å² Javaææ¯ä½ç³»å¹³å° Javaå¨åé¢åçåºç¨ Javaè¯­è¨çè¯ç ä¸»è¦ç¹æ§ Javaè¯­è¨çç¹ç¹ è·¨å¹³å°æ§ åå¾åæ¶ JDKãJREãJVM Javaèææº (Java Virtal Machine) Javaèææºçåå­åå ç¯å¢æ­å»º ä¸è½½ãå®è£ éç½®ç¯å¢åé éç½®ä¸ éç½®äº æ£æµ",content:"# Javaè¯­è¨æ¦è¿°\n\nJavaæ¯SUN(Stanford University Networkï¼æ¯å¦ç¦å¤§å­¦ç½ç»å¬å¸) 1995å¹´æ¨åºçä¸é¨é«çº§ç¼ç¨è¯­è¨ã\n\næ¯ä¸ç§é¢åInternetçç¼ç¨è¯­è¨ãJavaä¸å¼å§å¯æå¸å¼åæ¯å ä¸ºJavaç¨åºå¯ä»¥å¨Webæµè§å¨ä¸­è¿è¡ãè¿äºJavaç¨åºè¢«ç§°ä¸ºJavaå°ç¨åºï¼appletï¼ãappletä½¿ç¨ç°ä»£çå¾å½¢ç¨æ·çé¢ä¸Webç¨æ·è¿è¡äº¤äºã appletååµå¨HTMLä»£ç ä¸­ã\n\néçJavaææ¯å¨webæ¹é¢çä¸æ­æçï¼å·²ç»æä¸ºWebåºç¨ç¨åºçé¦éå¼åè¯­è¨ã\n\nåå°å¼åï¼JavaãPHPãPythonãGoãNode.js\n\n\n# Javaç®å²\n\n * 1991å¹´ Greené¡¹ç®ï¼å¼åè¯­è¨æåå½åä¸ºOak (æ©¡æ )\n * 1994å¹´ï¼å¼åç»æè¯å°Oak éå¸¸éåäºäºèç½\n * 1996å¹´ï¼åå¸JDK1.0ï¼çº¦8.3ä¸ä¸ªç½é¡µåºç¨Javaææ¯æ¥å¶ä½\n * 1997å¹´ï¼åå¸JDK 1.1ï¼JavaOneä¼è®®å¬å¼ï¼åå½æ¶å¨çåç±»ä¼è®®è§æ¨¡ä¹æ\n * 1998å¹´ï¼åå¸JDK 1.2ï¼åå¹´åå¸ä¼ä¸å¹³å°J2EE\n * 1999å¹´ï¼JavaåæJ2SEãJ2EEåJ2MEï¼JSP/Servletææ¯è¯ç\n * 2004å¹´ï¼åå¸éç¨ç¢å¼çæ¬ï¼JDK1.5ï¼ä¸ºçªåºæ­¤çæ¬çéè¦æ§ï¼æ´åä¸ºJDK 5.0\n * 2005å¹´ï¼J2SE -> JavaSEï¼J2EE -> JavaEEï¼J2ME -> JavaME\n * 2009å¹´ï¼Oracleå¬å¸æ¶è´­SUNï¼äº¤æä»·æ ¼74äº¿ç¾å\n * 2011å¹´ï¼åå¸JDK 7.0\n * 2014å¹´ï¼åå¸JDK8.0ï¼æ¯ç»§JDK 5.0ä»¥æ¥ååæå¤§ççæ¬\n * 2017å¹´ï¼åå¸JDK 9.0ï¼æå¤§éåº¦å®ç°æ¨¡åå\n * 2018å¹´3æï¼åå¸JDK 10.0ï¼çæ¬å·ä¹ç§°ä¸º18.3\n * 2018å¹´9æï¼åå¸JDK 11.0ï¼çæ¬å·ä¹ç§°ä¸º18.9\n * 2019å¹´3æï¼åå¸JDK 12.0ï¼Java 12æ¯ç­ææ¯æçæ¬ï¼å¯å¨ä¸ä¸ä¸ªçæ¬åå¸ä¹åè·å¾Oracleçåä¸æ¯æã\n * 2019å¹´9æï¼åå¸JDK 13.0 ï¼æ­¤çæ¬ä¸­æ·»å äºâææ¬åâã\n\n\n# Javaææ¯ä½ç³»å¹³å°\n\nJava SE(Java Standard Edition)æ åçï¼\n\n> æ¯æé¢åæ¡é¢çº§åºç¨ï¼å¦Windowsä¸çåºç¨ç¨åºï¼çJavaå¹³å°ï¼æä¾äºå®æ´çJavaæ ¸å¿APIï¼æ­¤çæ¬ä»¥åç§°ä¸ºJ2SE\n\nJava EE(Java Enterprise Edition)ä¼ä¸çï¼\n\n> æ¯ä¸ºå¼åä¼ä¸ç¯å¢ä¸çåºç¨ç¨åºæä¾çä¸å¥è§£å³æ¹æ¡ãè¯¥ææ¯ä½ç³»ä¸­åå«çææ¯å¦:ServletãJspç­ï¼ä¸»è¦éå¯¹äºWebåºç¨ç¨åºå¼åãçæ¬ä»¥åç§°ä¸ºJ2EE\n\nJava ME(Java Micro Edition)å°åçï¼\n\n> æ¯æJavaç¨åºè¿è¡å¨ç§»å¨ç»ç«¯ï¼ææºãPDAï¼ä¸çå¹³å°ï¼å¯¹Java APIææç²¾ç®ï¼å¹¶å å¥äºéå¯¹ç§»å¨ç»ç«¯çæ¯æï¼æ­¤çæ¬ä»¥åç§°ä¸ºJ2ME\n\nJava Cardï¼\n\n> æ¯æä¸äºJavaå°ç¨åºï¼Appletsï¼è¿è¡å¨å°åå­è®¾å¤ï¼å¦æºè½å¡ï¼ä¸çå¹³å°\n\n\n# Javaå¨åé¢åçåºç¨\n\nä»Javaçåºç¨é¢åæ¥åï¼Javaè¯­è¨çåºç¨æ¹åä¸»è¦è¡¨ç°å¨ä»¥ä¸å ä¸ªæ¹é¢ï¼\n\n * ä¼ä¸çº§åºç¨ï¼ ä¸»è¦æå¤æçå¤§ä¼ä¸çè½¯ä»¶ç³»ç»ãåç§ç±»åçç½ç«ãJavaçå®å¨æºå¶ä»¥åå®çè·¨å¹³å°çä¼å¿ï¼ä½¿å®å¨åå¸å¼ç³»ç»é¢åå¼åä¸­æå¹¿æ³åºç¨ãåºç¨é¢ååæ¬éèãçµä¿¡ãäº¤éãçµå­åå¡ç­ã\n * Androidå¹³å°åºç¨ï¼ Androidåºç¨ç¨åºä½¿ç¨Javaè¯­è¨ç¼åãAndroidå¼åæ°´å¹³çé«ä½å¾å¤§ç¨åº¦ä¸åå³äºJavaè¯­è¨æ ¸å¿è½åæ¯å¦æå®ã\n * å¤§æ°æ®å¹³å°å¼åï¼ åç±»æ¡æ¶æHadoopï¼sparkï¼stormï¼flinkç­ï¼å°±è¿ç±»ææ¯çæåæ¥è®²ï¼è¿æåç§ä¸­é´ä»¶å¦flumeï¼kafkaï¼sqoopç­ç­ ï¼è¿äºæ¡æ¶ä»¥åå·¥å·å¤§å¤æ°æ¯ç¨Javaç¼åèæï¼ä½æä¾è¯¸å¦Javaï¼scalaï¼Pythonï¼Rç­åç§è¯­è¨APIä¾ç¼ç¨ã\n * ç§»å¨é¢ååºç¨ï¼ ä¸»è¦è¡¨ç°å¨æ¶è´¹ååµå¥å¼é¢åï¼æ¯æå¨åç§å°åè®¾å¤ä¸çåºç¨ï¼åæ¬ææºãPDAãæºé¡¶çãæ±½è½¦éä¿¡è®¾å¤ç­ã\n\n\n# Javaè¯­è¨çè¯ç\n\njavaä¹ç¶James Goslingå¢éå¨å¼åâGreenâé¡¹ç®æ¶ï¼åç°Cç¼ºå°åå¾åæ¶ç³»ç»ï¼è¿æå¯ç§»æ¤çå®å¨æ§ãåå¸ç¨åºè®¾è®¡åå¤çº¿ç¨åè½ãæåï¼ä»ä»¬æ³è¦ä¸ç§æäºç§»æ¤å°åç§è®¾å¤ä¸çå¹³å°ã\n\n\n\nJavaç¡®å®æ¯ä»Cè¯­è¨åC++è¯­è¨ç»§æ¿äºè®¸å¤æä»½ï¼çè³å¯ä»¥å°Javaçææ¯ç±»Cè¯­è¨åå±åè¡ççäº§ç©ãæ¯å¦Javaè¯­è¨çåéå£°æï¼æä½ç¬¦å½¢å¼ï¼åæ°ä¼ éï¼æµç¨æ§å¶ç­æ¹é¢åCè¯­è¨ãC++è¯­è¨å®å¨ç¸åã\n\nä½åæ¶ï¼Javaæ¯ä¸ä¸ªçº¯ç²¹çé¢åå¯¹è±¡çç¨åºè®¾è®¡è¯­è¨ï¼å®ç»§æ¿äºC++è¯­è¨é¢åå¯¹è±¡ææ¯çæ ¸å¿ãJava èå¼äºCè¯­è¨ä¸­å®¹æå¼èµ·éè¯¯çæé ï¼ä»¥å¼ç¨åä»£ï¼ãè¿ç®ç¬¦éè½½ï¼operatoroverloadingï¼ãå¤éç»§æ¿ï¼ä»¥æ¥å£åä»£ï¼ç­ç¹æ§ï¼ å¢å äºåå¾åæ¶å¨åè½ ç¨äºåæ¶ä¸åè¢«å¼ç¨çå¯¹è±¡æå æ®çåå­ç©ºé´ã\n\nJDK1.5åå¼å¥äºæ³åç¼ç¨ï¼Generic Programmingï¼ãç±»åå®å¨çæä¸¾ãä¸å®é¿åæ°åèªå¨è£/æç®±ã\n\n\n# ä¸»è¦ç¹æ§\n\n * Javaè¯­è¨æ¯æå­¦çã Javaè¯­è¨çè¯­æ³ä¸Cè¯­è¨åC++è¯­è¨å¾æ¥è¿ï¼ä½¿å¾å¤§å¤æ°ç¨åºåå¾å®¹æå­¦ä¹ åä½¿ç¨Javaã\n * Javaè¯­è¨æ¯å¼ºå¶é¢åå¯¹è±¡çã Javaè¯­è¨æä¾ç±»ãæ¥å£åç»§æ¿ç­åè¯­ï¼ä¸ºäºç®åèµ·è§ï¼åªæ¯æç±»ä¹é´çåç»§æ¿ï¼ä½æ¯ææ¥å£ä¹é´çå¤ç»§æ¿ï¼å¹¶æ¯æç±»ä¸æ¥å£ä¹é´çå®ç°æºå¶ï¼å³é®å­ä¸ºimplementsï¼ã\n * Javaè¯­è¨æ¯åå¸å¼çã Javaè¯­è¨æ¯æInternetåºç¨çå¼åï¼å¨åºæ¬çJavaåºç¨ç¼ç¨æ¥å£ä¸­æä¸ä¸ªç½ç»åºç¨ç¼ç¨æ¥å£ï¼java netï¼ï¼å®æä¾äºç¨äºç½ç»åºç¨ç¼ç¨çç±»åºï¼åæ¬URLãURLConnectionãSocketãServerSocketç­ãJavaçRMIï¼è¿ç¨æ¹æ³æ¿æ´»ï¼æºå¶ä¹æ¯å¼ååå¸å¼åºç¨çéè¦ææ®µã\n * Javaè¯­è¨æ¯å¥å£®çã Javaçå¼ºç±»åæºå¶ãå¼å¸¸å¤çãåå¾çèªå¨æ¶éç­æ¯- Javaç¨åºå¥å£®æ§çéè¦ä¿è¯ãå¯¹æéçä¸¢å¼æ¯Javaçææºéæ©ã\n * Javaè¯­è¨æ¯å®å¨çã Javaéå¸¸è¢«ç¨å¨ç½ç»ç¯å¢ä¸­ï¼ä¸ºæ­¤ï¼Javaæä¾äºä¸ä¸ªå®å¨æºå¶ä»¥é²æ¶æä»£ç çæ»å»ãå¦ï¼å®å¨é²èæºå¶ï¼ç±»ClassLoaderï¼ï¼å¦åéä¸åçåå­ç©ºé´ä»¥é²æ¿ä»£æ¬å°çååç±»ãå­èä»£ç æ£æ¥ã\n * Javaè¯­è¨æ¯ä½ç³»ç»æä¸­ç«çã Javaç¨åºï¼åç¼ä¸ºjavaçæä»¶ï¼å¨Javaå¹³å°ä¸è¢«ç¼è¯ä¸ºä½ç³»ç»æä¸­ç«çå­èç æ ¼å¼ï¼åç¼ä¸ºclassçæä»¶ï¼ï¼ç¶åå¯ä»¥å¨å®ç°è¿ä¸ªJavaå¹³å°çä»»ä½ç³»ç»ä¸­è¿è¡ã\n * Javaè¯­è¨æ¯è§£éåçã å¦åæè¿°ï¼Javaç¨åºå¨Javaå¹³å°ä¸è¢«ç¼è¯ä¸ºå­èç æ ¼å¼ï¼ç¶åå¯ä»¥å¨å®ç°è¿ä¸ªJavaå¹³å°çä»»ä½ç³»ç»çè§£éå¨ä¸­è¿è¡ã\n * Javaæ¯æ§è½ç¥é«çãä¸é£äºè§£éåçé«çº§èæ¬è¯­è¨ç¸æ¯ï¼Javaçæ§è½è¿æ¯è¾ä¼çã\n * Javaè¯­è¨æ¯åçæ¯æå¤çº¿ç¨çã å¨Javaè¯­è¨ä¸­ï¼çº¿ç¨æ¯ä¸ç§ç¹æ®çå¯¹è±¡ï¼å®å¿é¡»ç±Threadç±»æå¶å­ï¼å­ï¼ç±»æ¥åå»ºã\n\n\n# Javaè¯­è¨çç¹ç¹\n\nç¹ç¹ä¸ï¼é¢åå¯¹è±¡\n\n * ä¸¤ä¸ªåºæ¬æ¦å¿µï¼ ç±»ãå¯¹è±¡\n * ä¸å¤§ç¹æ§ï¼ å°è£ãç»§æ¿ãå¤æ\n\nç¹ç¹äºï¼å¥å£®æ§\n\n * å¸æ¶äºC/C++è¯­è¨çä¼ç¹ï¼ä½å»æäºå¶å½±åç¨åºå¥å£®æ§çé¨åï¼å¦æéãåå­çç³è¯·ä¸éæ¾ç­ï¼ï¼æä¾äºä¸ä¸ªç¸å¯¹å®å¨çåå­ç®¡çåè®¿é®æºå¶ã\n\nç¹ç¹ä¸ï¼è·¨å¹³å°æ§\n\n * è·¨å¹³å°æ§ï¼ éè¿Javaè¯­è¨ç¼åçåºç¨ç¨åºå¨ä¸åçç³»ç»å¹³å°ä¸é½å¯ä»¥è¿è¡ãâWrite once , Run Anywhereâ\n * åçï¼ åªè¦å¨éè¦è¿è¡ java åºç¨ç¨åºçæä½ç³»ç»ä¸ï¼åå®è£ä¸ä¸ªJavaèææº (JVM Java Virtual Machine)å³å¯ãç±JVMæ¥è´è´£Javaç¨åºå¨è¯¥ç³»ç»ä¸­çè¿è¡ã\n\n\n# è·¨å¹³å°æ§\n\nå ä¸ºæäºJVMï¼åä¸ä¸ªJava ç¨åºå¨ä¸ä¸ªä¸åçæä½ç³»ç»ä¸­é½å¯ä»¥æ§è¡ãè¿æ ·å°±å®ç°äºJava ç¨åºçè·¨å¹³å°æ§ã\n\n\n\n\n# åå¾åæ¶\n\nä¸åä½¿ç¨çåå­ç©ºé´åºåæ¶ââ åå¾åæ¶ãå¨C/C++ç­è¯­è¨ä¸­ï¼ç±ç¨åºåè´è´£åæ¶æ ç¨åå­ãJava è¯­è¨æ¶é¤äºç¨åºååæ¶æ ç¨åå­ç©ºé´çè´£ä»»ï¼å®æä¾ä¸ç§ç³»ç»çº§çº¿ç¨è·è¸ªå­å¨ç©º é´çåéæåµãå¹¶å¨JVMç©ºé²æ¶ï¼æ£æ¥å¹¶éæ¾é£äºå¯è¢«éæ¾çå­å¨ç©ºé´ã\n\nåå¾åæ¶å¨Javaç¨åºè¿è¡è¿ç¨ä¸­èªå¨è¿è¡ï¼ç¨åºåæ æ³ç²¾ç¡®æ§å¶åå¹²é¢ãJavaç¨åºè¿æ¯ä¼åºç°åå­æ³æ¼ååå­æº¢åºçé®é¢ã\n\n\n# JDKãJREãJVM\n\nJDK(Java Development Kit Javaå¼åå·¥å·å)ï¼ JDKæ¯æä¾ç»Javaå¼åäººåä½¿ç¨çï¼å¶ä¸­åå«äºjavaçå¼åå·¥å·ï¼ä¹åæ¬äºJREãæä»¥å®è£äºJDKï¼å°±ä¸ç¨å¨åç¬å®è£JREäºã å¶ä¸­çå¼åå·¥å·ï¼ç¼è¯å·¥å·(javac.exe) æåå·¥å·(jar.exe)ç­\n\nJRE(Java Runtime Environment Javaè¿è¡ç¯å¢)ï¼\n\nåæ¬Javaèææº(JVM Java Virtual Machine)åJavaç¨åºæéçæ ¸å¿ç±»åºç­ï¼å¦ææ³è¦è¿è¡ä¸ä¸ªå¼åå¥½çJavaç¨åºï¼è®¡ç®æºä¸­åªéè¦å®è£JREå³å¯ã\n\n\n\n> JDK = JRE + å¼åå·¥å·éï¼ä¾å¦Javacç¼è¯å·¥å·ç­ï¼\n> \n> JRE = JVM + Java SEæ åç±»åº\n\n\n\n\n# Javaèææº (Java Virtal Machine)\n\nJVMæ¯ä¸ä¸ªèæçè®¡ç®æºï¼å·ææä»¤éå¹¶ä½¿ç¨ä¸åçå­å¨åºåãè´è´£æ§è¡æä»¤ï¼ç®¡çæ°æ®ãåå­ãå¯å­å¨ã\n\nå¯¹äºä¸åçå¹³å°ï¼æä¸åçèææºãåªææå¹³å°æä¾äºå¯¹åºçjavaèææºï¼javaç¨åºæå¯å¨æ­¤å¹³å°è¿è¡ãJavaèææºæºå¶å±è½äºåºå±è¿è¡å¹³å°çå·®å«ï¼å®ç°äºâä¸æ¬¡ç¼è¯ï¼å°å¤è¿è¡âã\n\n\n\n# Javaèææºçåå­åå\n\nä¸ºäºæé«è¿ç®æçï¼å°±å¯¹ç©ºé´è¿è¡äºä¸ååºåçååï¼å ä¸ºæ¯ä¸çåºåé½æç¹å®çå¤çæ°æ®æ¹å¼ååå­ç®¡çæ¹å¼ã\n\nåºååç§°    ä½ç¨\nå¯å­å¨     ç»CPUä½¿ç¨ï¼åå¼åæ å³ã\næ¬å°æ¹æ³æ    JVMå¨ä½¿ç¨æä½ç³»ç»åè½çæ¶åä½¿ç¨ï¼åå¼åæ å³ã\næ¹æ³åº     å­å¨å¯ä»¥è¿è¡çclassæä»¶ã\nå åå­     å­å¨å¯¹è±¡æèæ°ç»ï¼newæ¥åå»ºçï¼é½å­å¨å¨å åå­ã\næ¹æ³æ      æ¹æ³è¿è¡æ¶ä½¿ç¨çåå­ï¼æ¯å¦mainæ¹æ³è¿è¡ï¼è¿å¥æ¹æ³æ ä¸­æ§è¡ã\n\n\n# ç¯å¢æ­å»º\n\n\n# ä¸è½½ãå®è£\n\nå®è£è·¯å¾ä¸è¦æä¸­ææèç©ºæ ¼ç­ç¹æ®ç¬¦å·ãå¦ææä½ç³»ç»æ¯64ä½çï¼è½¯ä»¶å°½ééæ©æ¯æ64ä½çï¼é¤éè½¯ä»¶æ¬èº«ä¸åºåï¼ãå½æç¤ºå®è£ JRE æ¶ï¼æ­£å¸¸å¨JDKå®è£æ¶å·²ç»è£è¿äºï¼ä½æ¯ä¸ºäºåç»­ä½¿ç¨Eclipseç­å¼åå·¥å·ä¸æ¥éï¼å»ºè®®ä¹æ ¹æ®æç¤ºå®è£JREã\n\n\n# éç½®ç¯å¢åé\n\nå¨doså½ä»¤è¡ä¸­æ²å¥javacï¼åºç°éè¯¯æç¤ºï¼æ¯å ä¸ºå½åæ§è¡çç¨åºå¨å½åç®å½ä¸å¦æä¸å­å¨ï¼windowsç³»ç»ä¼å¨ç³»ç»ä¸­å·²æçä¸ä¸ªåä¸ºpathçç¯å¢åéæå®çç®å½ä¸­æ¥æ¾ãå¦æä»æªæ¾å°ï¼ä¼åºç°ä»¥ä¸çéè¯¯æç¤ºãæä»¥è¿å¥å° jdkå®è£è·¯å¾\\binç®å½ä¸ï¼æ§è¡javacï¼ä¼çå°javacåæ°æç¤ºä¿¡æ¯ã\n\næ¯æ¬¡æ§è¡ java çå·¥å·é½è¦è¿å¥å°binç®å½ä¸ï¼æ¯éå¸¸éº»ç¦çãæ ¹æ®windowsç³»ç»å¨æ¥æ¾å¯æ§è¡ç¨åºçåçï¼å¯ä»¥å°javaå·¥å·æå¨è·¯å¾å®ä¹å° path ç¯å¢åéä¸­ï¼è®©ç³»ç»å¸®æä»¬å»æ¾è¿è¡æ§è¡çç¨åºã\n\n\n\néç½®æ¹æ³ï¼\n\n 1. æççµè--å±æ§--é«çº§ç³»ç»è®¾ç½®--ç¯å¢åé\n 2. ç¼è¾ path ç¯å¢åéï¼å¨åéå¼å¼å§å¤å ä¸javaå·¥å·æå¨ç®å½ï¼åé¢ç¨â ; âåå¶ä»å¼åéå¼å³å¯ã\n 3. æå¼DOSå½ä»¤è¡ï¼ä»»æç®å½ä¸æ²å¥javacãå¦æåºç°javac çåæ°ä¿¡æ¯ï¼éç½®æåã\n\n# éç½®ä¸\n\n * åéåï¼JAVA_HOME\n * åéå¼ï¼C:\\Program Files (x86)\\Java\\jdk1.8.0_91\n * è¦æ ¹æ®èªå·±çå®éè·¯å¾éç½®\n\n# éç½®äº\n\n * åéåï¼Path\n * åéå¼ï¼%JAVA_HOME%\\bin;%JAVA_HOME%\\jre\\bin;\n\n# æ£æµ\n\n 1. è¿è¡cmd\n 2. åå«è¾å¥ï¼javaãjavacãjava -versionï¼å¦æåºç°å¯¹åºä¿¡æ¯ï¼è¡¨ç¤ºéç½®æåã",normalizedContent:"# javaè¯­è¨æ¦è¿°\n\njavaæ¯sun(stanford university networkï¼æ¯å¦ç¦å¤§å­¦ç½ç»å¬å¸) 1995å¹´æ¨åºçä¸é¨é«çº§ç¼ç¨è¯­è¨ã\n\næ¯ä¸ç§é¢åinternetçç¼ç¨è¯­è¨ãjavaä¸å¼å§å¯æå¸å¼åæ¯å ä¸ºjavaç¨åºå¯ä»¥å¨webæµè§å¨ä¸­è¿è¡ãè¿äºjavaç¨åºè¢«ç§°ä¸ºjavaå°ç¨åºï¼appletï¼ãappletä½¿ç¨ç°ä»£çå¾å½¢ç¨æ·çé¢ä¸webç¨æ·è¿è¡äº¤äºã appletååµå¨htmlä»£ç ä¸­ã\n\néçjavaææ¯å¨webæ¹é¢çä¸æ­æçï¼å·²ç»æä¸ºwebåºç¨ç¨åºçé¦éå¼åè¯­è¨ã\n\nåå°å¼åï¼javaãphpãpythonãgoãnode.js\n\n\n# javaç®å²\n\n * 1991å¹´ greené¡¹ç®ï¼å¼åè¯­è¨æåå½åä¸ºoak (æ©¡æ )\n * 1994å¹´ï¼å¼åç»æè¯å°oak éå¸¸éåäºäºèç½\n * 1996å¹´ï¼åå¸jdk1.0ï¼çº¦8.3ä¸ä¸ªç½é¡µåºç¨javaææ¯æ¥å¶ä½\n * 1997å¹´ï¼åå¸jdk 1.1ï¼javaoneä¼è®®å¬å¼ï¼åå½æ¶å¨çåç±»ä¼è®®è§æ¨¡ä¹æ\n * 1998å¹´ï¼åå¸jdk 1.2ï¼åå¹´åå¸ä¼ä¸å¹³å°j2ee\n * 1999å¹´ï¼javaåæj2seãj2eeåj2meï¼jsp/servletææ¯è¯ç\n * 2004å¹´ï¼åå¸éç¨ç¢å¼çæ¬ï¼jdk1.5ï¼ä¸ºçªåºæ­¤çæ¬çéè¦æ§ï¼æ´åä¸ºjdk 5.0\n * 2005å¹´ï¼j2se -> javaseï¼j2ee -> javaeeï¼j2me -> javame\n * 2009å¹´ï¼oracleå¬å¸æ¶è´­sunï¼äº¤æä»·æ ¼74äº¿ç¾å\n * 2011å¹´ï¼åå¸jdk 7.0\n * 2014å¹´ï¼åå¸jdk8.0ï¼æ¯ç»§jdk 5.0ä»¥æ¥ååæå¤§ççæ¬\n * 2017å¹´ï¼åå¸jdk 9.0ï¼æå¤§éåº¦å®ç°æ¨¡åå\n * 2018å¹´3æï¼åå¸jdk 10.0ï¼çæ¬å·ä¹ç§°ä¸º18.3\n * 2018å¹´9æï¼åå¸jdk 11.0ï¼çæ¬å·ä¹ç§°ä¸º18.9\n * 2019å¹´3æï¼åå¸jdk 12.0ï¼java 12æ¯ç­ææ¯æçæ¬ï¼å¯å¨ä¸ä¸ä¸ªçæ¬åå¸ä¹åè·å¾oracleçåä¸æ¯æã\n * 2019å¹´9æï¼åå¸jdk 13.0 ï¼æ­¤çæ¬ä¸­æ·»å äºâææ¬åâã\n\n\n# javaææ¯ä½ç³»å¹³å°\n\njava se(java standard edition)æ åçï¼\n\n> æ¯æé¢åæ¡é¢çº§åºç¨ï¼å¦windowsä¸çåºç¨ç¨åºï¼çjavaå¹³å°ï¼æä¾äºå®æ´çjavaæ ¸å¿apiï¼æ­¤çæ¬ä»¥åç§°ä¸ºj2se\n\njava ee(java enterprise edition)ä¼ä¸çï¼\n\n> æ¯ä¸ºå¼åä¼ä¸ç¯å¢ä¸çåºç¨ç¨åºæä¾çä¸å¥è§£å³æ¹æ¡ãè¯¥ææ¯ä½ç³»ä¸­åå«çææ¯å¦:servletãjspç­ï¼ä¸»è¦éå¯¹äºwebåºç¨ç¨åºå¼åãçæ¬ä»¥åç§°ä¸ºj2ee\n\njava me(java micro edition)å°åçï¼\n\n> æ¯æjavaç¨åºè¿è¡å¨ç§»å¨ç»ç«¯ï¼ææºãpdaï¼ä¸çå¹³å°ï¼å¯¹java apiææç²¾ç®ï¼å¹¶å å¥äºéå¯¹ç§»å¨ç»ç«¯çæ¯æï¼æ­¤çæ¬ä»¥åç§°ä¸ºj2me\n\njava cardï¼\n\n> æ¯æä¸äºjavaå°ç¨åºï¼appletsï¼è¿è¡å¨å°åå­è®¾å¤ï¼å¦æºè½å¡ï¼ä¸çå¹³å°\n\n\n# javaå¨åé¢åçåºç¨\n\nä»javaçåºç¨é¢åæ¥åï¼javaè¯­è¨çåºç¨æ¹åä¸»è¦è¡¨ç°å¨ä»¥ä¸å ä¸ªæ¹é¢ï¼\n\n * ä¼ä¸çº§åºç¨ï¼ ä¸»è¦æå¤æçå¤§ä¼ä¸çè½¯ä»¶ç³»ç»ãåç§ç±»åçç½ç«ãjavaçå®å¨æºå¶ä»¥åå®çè·¨å¹³å°çä¼å¿ï¼ä½¿å®å¨åå¸å¼ç³»ç»é¢åå¼åä¸­æå¹¿æ³åºç¨ãåºç¨é¢ååæ¬éèãçµä¿¡ãäº¤éãçµå­åå¡ç­ã\n * androidå¹³å°åºç¨ï¼ androidåºç¨ç¨åºä½¿ç¨javaè¯­è¨ç¼åãandroidå¼åæ°´å¹³çé«ä½å¾å¤§ç¨åº¦ä¸åå³äºjavaè¯­è¨æ ¸å¿è½åæ¯å¦æå®ã\n * å¤§æ°æ®å¹³å°å¼åï¼ åç±»æ¡æ¶æhadoopï¼sparkï¼stormï¼flinkç­ï¼å°±è¿ç±»ææ¯çæåæ¥è®²ï¼è¿æåç§ä¸­é´ä»¶å¦flumeï¼kafkaï¼sqoopç­ç­ ï¼è¿äºæ¡æ¶ä»¥åå·¥å·å¤§å¤æ°æ¯ç¨javaç¼åèæï¼ä½æä¾è¯¸å¦javaï¼scalaï¼pythonï¼rç­åç§è¯­è¨apiä¾ç¼ç¨ã\n * ç§»å¨é¢ååºç¨ï¼ ä¸»è¦è¡¨ç°å¨æ¶è´¹ååµå¥å¼é¢åï¼æ¯æå¨åç§å°åè®¾å¤ä¸çåºç¨ï¼åæ¬ææºãpdaãæºé¡¶çãæ±½è½¦éä¿¡è®¾å¤ç­ã\n\n\n# javaè¯­è¨çè¯ç\n\njavaä¹ç¶james goslingå¢éå¨å¼åâgreenâé¡¹ç®æ¶ï¼åç°cç¼ºå°åå¾åæ¶ç³»ç»ï¼è¿æå¯ç§»æ¤çå®å¨æ§ãåå¸ç¨åºè®¾è®¡åå¤çº¿ç¨åè½ãæåï¼ä»ä»¬æ³è¦ä¸ç§æäºç§»æ¤å°åç§è®¾å¤ä¸çå¹³å°ã\n\n\n\njavaç¡®å®æ¯ä»cè¯­è¨åc++è¯­è¨ç»§æ¿äºè®¸å¤æä»½ï¼çè³å¯ä»¥å°javaçææ¯ç±»cè¯­è¨åå±åè¡ççäº§ç©ãæ¯å¦javaè¯­è¨çåéå£°æï¼æä½ç¬¦å½¢å¼ï¼åæ°ä¼ éï¼æµç¨æ§å¶ç­æ¹é¢åcè¯­è¨ãc++è¯­è¨å®å¨ç¸åã\n\nä½åæ¶ï¼javaæ¯ä¸ä¸ªçº¯ç²¹çé¢åå¯¹è±¡çç¨åºè®¾è®¡è¯­è¨ï¼å®ç»§æ¿äºc++è¯­è¨é¢åå¯¹è±¡ææ¯çæ ¸å¿ãjava èå¼äºcè¯­è¨ä¸­å®¹æå¼èµ·éè¯¯çæé ï¼ä»¥å¼ç¨åä»£ï¼ãè¿ç®ç¬¦éè½½ï¼operatoroverloadingï¼ãå¤éç»§æ¿ï¼ä»¥æ¥å£åä»£ï¼ç­ç¹æ§ï¼ å¢å äºåå¾åæ¶å¨åè½ ç¨äºåæ¶ä¸åè¢«å¼ç¨çå¯¹è±¡æå æ®çåå­ç©ºé´ã\n\njdk1.5åå¼å¥äºæ³åç¼ç¨ï¼generic programmingï¼ãç±»åå®å¨çæä¸¾ãä¸å®é¿åæ°åèªå¨è£/æç®±ã\n\n\n# ä¸»è¦ç¹æ§\n\n * javaè¯­è¨æ¯æå­¦çã javaè¯­è¨çè¯­æ³ä¸cè¯­è¨åc++è¯­è¨å¾æ¥è¿ï¼ä½¿å¾å¤§å¤æ°ç¨åºåå¾å®¹æå­¦ä¹ åä½¿ç¨javaã\n * javaè¯­è¨æ¯å¼ºå¶é¢åå¯¹è±¡çã javaè¯­è¨æä¾ç±»ãæ¥å£åç»§æ¿ç­åè¯­ï¼ä¸ºäºç®åèµ·è§ï¼åªæ¯æç±»ä¹é´çåç»§æ¿ï¼ä½æ¯ææ¥å£ä¹é´çå¤ç»§æ¿ï¼å¹¶æ¯æç±»ä¸æ¥å£ä¹é´çå®ç°æºå¶ï¼å³é®å­ä¸ºimplementsï¼ã\n * javaè¯­è¨æ¯åå¸å¼çã javaè¯­è¨æ¯æinternetåºç¨çå¼åï¼å¨åºæ¬çjavaåºç¨ç¼ç¨æ¥å£ä¸­æä¸ä¸ªç½ç»åºç¨ç¼ç¨æ¥å£ï¼java netï¼ï¼å®æä¾äºç¨äºç½ç»åºç¨ç¼ç¨çç±»åºï¼åæ¬urlãurlconnectionãsocketãserversocketç­ãjavaçrmiï¼è¿ç¨æ¹æ³æ¿æ´»ï¼æºå¶ä¹æ¯å¼ååå¸å¼åºç¨çéè¦ææ®µã\n * javaè¯­è¨æ¯å¥å£®çã javaçå¼ºç±»åæºå¶ãå¼å¸¸å¤çãåå¾çèªå¨æ¶éç­æ¯- javaç¨åºå¥å£®æ§çéè¦ä¿è¯ãå¯¹æéçä¸¢å¼æ¯javaçææºéæ©ã\n * javaè¯­è¨æ¯å®å¨çã javaéå¸¸è¢«ç¨å¨ç½ç»ç¯å¢ä¸­ï¼ä¸ºæ­¤ï¼javaæä¾äºä¸ä¸ªå®å¨æºå¶ä»¥é²æ¶æä»£ç çæ»å»ãå¦ï¼å®å¨é²èæºå¶ï¼ç±»classloaderï¼ï¼å¦åéä¸åçåå­ç©ºé´ä»¥é²æ¿ä»£æ¬å°çååç±»ãå­èä»£ç æ£æ¥ã\n * javaè¯­è¨æ¯ä½ç³»ç»æä¸­ç«çã javaç¨åºï¼åç¼ä¸ºjavaçæä»¶ï¼å¨javaå¹³å°ä¸è¢«ç¼è¯ä¸ºä½ç³»ç»æä¸­ç«çå­èç æ ¼å¼ï¼åç¼ä¸ºclassçæä»¶ï¼ï¼ç¶åå¯ä»¥å¨å®ç°è¿ä¸ªjavaå¹³å°çä»»ä½ç³»ç»ä¸­è¿è¡ã\n * javaè¯­è¨æ¯è§£éåçã å¦åæè¿°ï¼javaç¨åºå¨javaå¹³å°ä¸è¢«ç¼è¯ä¸ºå­èç æ ¼å¼ï¼ç¶åå¯ä»¥å¨å®ç°è¿ä¸ªjavaå¹³å°çä»»ä½ç³»ç»çè§£éå¨ä¸­è¿è¡ã\n * javaæ¯æ§è½ç¥é«çãä¸é£äºè§£éåçé«çº§èæ¬è¯­è¨ç¸æ¯ï¼javaçæ§è½è¿æ¯è¾ä¼çã\n * javaè¯­è¨æ¯åçæ¯æå¤çº¿ç¨çã å¨javaè¯­è¨ä¸­ï¼çº¿ç¨æ¯ä¸ç§ç¹æ®çå¯¹è±¡ï¼å®å¿é¡»ç±threadç±»æå¶å­ï¼å­ï¼ç±»æ¥åå»ºã\n\n\n# javaè¯­è¨çç¹ç¹\n\nç¹ç¹ä¸ï¼é¢åå¯¹è±¡\n\n * ä¸¤ä¸ªåºæ¬æ¦å¿µï¼ ç±»ãå¯¹è±¡\n * ä¸å¤§ç¹æ§ï¼ å°è£ãç»§æ¿ãå¤æ\n\nç¹ç¹äºï¼å¥å£®æ§\n\n * å¸æ¶äºc/c++è¯­è¨çä¼ç¹ï¼ä½å»æäºå¶å½±åç¨åºå¥å£®æ§çé¨åï¼å¦æéãåå­çç³è¯·ä¸éæ¾ç­ï¼ï¼æä¾äºä¸ä¸ªç¸å¯¹å®å¨çåå­ç®¡çåè®¿é®æºå¶ã\n\nç¹ç¹ä¸ï¼è·¨å¹³å°æ§\n\n * è·¨å¹³å°æ§ï¼ éè¿javaè¯­è¨ç¼åçåºç¨ç¨åºå¨ä¸åçç³»ç»å¹³å°ä¸é½å¯ä»¥è¿è¡ãâwrite once , run anywhereâ\n * åçï¼ åªè¦å¨éè¦è¿è¡ java åºç¨ç¨åºçæä½ç³»ç»ä¸ï¼åå®è£ä¸ä¸ªjavaèææº (jvm java virtual machine)å³å¯ãç±jvmæ¥è´è´£javaç¨åºå¨è¯¥ç³»ç»ä¸­çè¿è¡ã\n\n\n# è·¨å¹³å°æ§\n\nå ä¸ºæäºjvmï¼åä¸ä¸ªjava ç¨åºå¨ä¸ä¸ªä¸åçæä½ç³»ç»ä¸­é½å¯ä»¥æ§è¡ãè¿æ ·å°±å®ç°äºjava ç¨åºçè·¨å¹³å°æ§ã\n\n\n\n\n# åå¾åæ¶\n\nä¸åä½¿ç¨çåå­ç©ºé´åºåæ¶ââ åå¾åæ¶ãå¨c/c++ç­è¯­è¨ä¸­ï¼ç±ç¨åºåè´è´£åæ¶æ ç¨åå­ãjava è¯­è¨æ¶é¤äºç¨åºååæ¶æ ç¨åå­ç©ºé´çè´£ä»»ï¼å®æä¾ä¸ç§ç³»ç»çº§çº¿ç¨è·è¸ªå­å¨ç©º é´çåéæåµãå¹¶å¨jvmç©ºé²æ¶ï¼æ£æ¥å¹¶éæ¾é£äºå¯è¢«éæ¾çå­å¨ç©ºé´ã\n\nåå¾åæ¶å¨javaç¨åºè¿è¡è¿ç¨ä¸­èªå¨è¿è¡ï¼ç¨åºåæ æ³ç²¾ç¡®æ§å¶åå¹²é¢ãjavaç¨åºè¿æ¯ä¼åºç°åå­æ³æ¼ååå­æº¢åºçé®é¢ã\n\n\n# jdkãjreãjvm\n\njdk(java development kit javaå¼åå·¥å·å)ï¼ jdkæ¯æä¾ç»javaå¼åäººåä½¿ç¨çï¼å¶ä¸­åå«äºjavaçå¼åå·¥å·ï¼ä¹åæ¬äºjreãæä»¥å®è£äºjdkï¼å°±ä¸ç¨å¨åç¬å®è£jreäºã å¶ä¸­çå¼åå·¥å·ï¼ç¼è¯å·¥å·(javac.exe) æåå·¥å·(jar.exe)ç­\n\njre(java runtime environment javaè¿è¡ç¯å¢)ï¼\n\nåæ¬javaèææº(jvm java virtual machine)åjavaç¨åºæéçæ ¸å¿ç±»åºç­ï¼å¦ææ³è¦è¿è¡ä¸ä¸ªå¼åå¥½çjavaç¨åºï¼è®¡ç®æºä¸­åªéè¦å®è£jreå³å¯ã\n\n\n\n> jdk = jre + å¼åå·¥å·éï¼ä¾å¦javacç¼è¯å·¥å·ç­ï¼\n> \n> jre = jvm + java seæ åç±»åº\n\n\n\n\n# javaèææº (java virtal machine)\n\njvmæ¯ä¸ä¸ªèæçè®¡ç®æºï¼å·ææä»¤éå¹¶ä½¿ç¨ä¸åçå­å¨åºåãè´è´£æ§è¡æä»¤ï¼ç®¡çæ°æ®ãåå­ãå¯å­å¨ã\n\nå¯¹äºä¸åçå¹³å°ï¼æä¸åçèææºãåªææå¹³å°æä¾äºå¯¹åºçjavaèææºï¼javaç¨åºæå¯å¨æ­¤å¹³å°è¿è¡ãjavaèææºæºå¶å±è½äºåºå±è¿è¡å¹³å°çå·®å«ï¼å®ç°äºâä¸æ¬¡ç¼è¯ï¼å°å¤è¿è¡âã\n\n\n\n# javaèææºçåå­åå\n\nä¸ºäºæé«è¿ç®æçï¼å°±å¯¹ç©ºé´è¿è¡äºä¸ååºåçååï¼å ä¸ºæ¯ä¸çåºåé½æç¹å®çå¤çæ°æ®æ¹å¼ååå­ç®¡çæ¹å¼ã\n\nåºååç§°    ä½ç¨\nå¯å­å¨     ç»cpuä½¿ç¨ï¼åå¼åæ å³ã\næ¬å°æ¹æ³æ    jvmå¨ä½¿ç¨æä½ç³»ç»åè½çæ¶åä½¿ç¨ï¼åå¼åæ å³ã\næ¹æ³åº     å­å¨å¯ä»¥è¿è¡çclassæä»¶ã\nå åå­     å­å¨å¯¹è±¡æèæ°ç»ï¼newæ¥åå»ºçï¼é½å­å¨å¨å åå­ã\næ¹æ³æ      æ¹æ³è¿è¡æ¶ä½¿ç¨çåå­ï¼æ¯å¦mainæ¹æ³è¿è¡ï¼è¿å¥æ¹æ³æ ä¸­æ§è¡ã\n\n\n# ç¯å¢æ­å»º\n\n\n# ä¸è½½ãå®è£\n\nå®è£è·¯å¾ä¸è¦æä¸­ææèç©ºæ ¼ç­ç¹æ®ç¬¦å·ãå¦ææä½ç³»ç»æ¯64ä½çï¼è½¯ä»¶å°½ééæ©æ¯æ64ä½çï¼é¤éè½¯ä»¶æ¬èº«ä¸åºåï¼ãå½æç¤ºå®è£ jre æ¶ï¼æ­£å¸¸å¨jdkå®è£æ¶å·²ç»è£è¿äºï¼ä½æ¯ä¸ºäºåç»­ä½¿ç¨eclipseç­å¼åå·¥å·ä¸æ¥éï¼å»ºè®®ä¹æ ¹æ®æç¤ºå®è£jreã\n\n\n# éç½®ç¯å¢åé\n\nå¨doså½ä»¤è¡ä¸­æ²å¥javacï¼åºç°éè¯¯æç¤ºï¼æ¯å ä¸ºå½åæ§è¡çç¨åºå¨å½åç®å½ä¸å¦æä¸å­å¨ï¼windowsç³»ç»ä¼å¨ç³»ç»ä¸­å·²æçä¸ä¸ªåä¸ºpathçç¯å¢åéæå®çç®å½ä¸­æ¥æ¾ãå¦æä»æªæ¾å°ï¼ä¼åºç°ä»¥ä¸çéè¯¯æç¤ºãæä»¥è¿å¥å° jdkå®è£è·¯å¾\\binç®å½ä¸ï¼æ§è¡javacï¼ä¼çå°javacåæ°æç¤ºä¿¡æ¯ã\n\næ¯æ¬¡æ§è¡ java çå·¥å·é½è¦è¿å¥å°binç®å½ä¸ï¼æ¯éå¸¸éº»ç¦çãæ ¹æ®windowsç³»ç»å¨æ¥æ¾å¯æ§è¡ç¨åºçåçï¼å¯ä»¥å°javaå·¥å·æå¨è·¯å¾å®ä¹å° path ç¯å¢åéä¸­ï¼è®©ç³»ç»å¸®æä»¬å»æ¾è¿è¡æ§è¡çç¨åºã\n\n\n\néç½®æ¹æ³ï¼\n\n 1. æççµè--å±æ§--é«çº§ç³»ç»è®¾ç½®--ç¯å¢åé\n 2. ç¼è¾ path ç¯å¢åéï¼å¨åéå¼å¼å§å¤å ä¸javaå·¥å·æå¨ç®å½ï¼åé¢ç¨â ; âåå¶ä»å¼åéå¼å³å¯ã\n 3. æå¼doså½ä»¤è¡ï¼ä»»æç®å½ä¸æ²å¥javacãå¦æåºç°javac çåæ°ä¿¡æ¯ï¼éç½®æåã\n\n# éç½®ä¸\n\n * åéåï¼java_home\n * åéå¼ï¼c:\\program files (x86)\\java\\jdk1.8.0_91\n * è¦æ ¹æ®èªå·±çå®éè·¯å¾éç½®\n\n# éç½®äº\n\n * åéåï¼path\n * åéå¼ï¼%java_home%\\bin;%java_home%\\jre\\bin;\n\n# æ£æµ\n\n 1. è¿è¡cmd\n 2. åå«è¾å¥ï¼javaãjavacãjava -versionï¼å¦æåºç°å¯¹åºä¿¡æ¯ï¼è¡¨ç¤ºéç½®æåã",charsets:{cjk:!0},lastUpdated:"2022/11/25, 18:48:06",lastUpdatedTimestamp:1669373286e3},{title:"SpringCloud Zookeeper",frontmatter:{title:"SpringCloud Zookeeper",permalink:"/pages/09kei4a8/",date:"2022-12-14T11:33:04.000Z",categories:["Springçæ"],tags:["SpringCloud"],author:{name:"ä¹æ¨åç"}},regularPath:"/02.Java%E6%A1%86%E6%9E%B6/01.SpringCloud/02.SpringCloud%20Zookeeper.html",relativePath:"02.Javaæ¡æ¶/01.SpringCloud/02.SpringCloud Zookeeper.md",key:"v-14111292",path:"/pages/09kei4a8/",headers:[{level:2,title:"å¿«éå®è£",slug:"å¿«éå®è£",normalizedTitle:"å¿«éå®è£",charIndex:71},{level:2,title:"æå¡æä¾è",slug:"æå¡æä¾è",normalizedTitle:"æå¡æä¾è",charIndex:624},{level:2,title:"æå¡æ¶è´¹è",slug:"æå¡æ¶è´¹è",normalizedTitle:"æå¡æ¶è´¹è",charIndex:2214}],headersStr:"å¿«éå®è£ æå¡æä¾è æå¡æ¶è´¹è",content:'Zookeeperæ¯ä¸ä¸ªåå¸å¼åè°å·¥å·ï¼å¯ä»¥å®ç°æ³¨åä¸­å¿åè½ãä½¿ç¨Zookeeperæå¡å¨åä»£Eurekaæå¡å¨ï¼ä½ä¸ºæå¡æ³¨åä¸­å¿ã\n\n\n# å¿«éå®è£\n\nå®è£Docker\n\ncurl -sSL https://get.daocloud.io/docker | sh\nsystemctl enable --now docker\n\n\næåzookeeperçéåï¼åå»ºå¹¶å¯å¨å®¹å¨\n\ndocker pull zookeeper:3.4.9\ndocker run -d -e TZ="Asia/Shanghai" -p 2181:2181 -v /home/data/zookeeper:/data --name zookeeper --restart always zookeeper:3.4.9\n\n\nå³é­Linuxæå¡å¨é²ç«å¢\n\nsystemctl stop firewalld\n\n\næ¥çé²ç«å¢ç¶æ\n\nsystemctl status firewalld\n\n\nè¿å¥Zookeeperå®¹å¨\n\n# ç¬¬ä¸ç§æ¹å¼ï¼ç´æ¥è¿å¥å°zkCliä¸­\ndocker run -it --rm --link zookeeper:zookeeper zookeeper zkCli.sh -server zookeeper\n\n# ç¬¬äºç§æ¹å¼ï¼åè¿å¥å®¹å¨ï¼åè¿å¥å°zkCliä¸­\ndocker exec -it zookeeper bash\n./bin/zkCli.sh\n\n\n\n# æå¡æä¾è\n\næ°å»ºä¸ä¸ªmavenå·¥ç¨ï¼æ·»å ç¸å³ä¾èµï¼çæ¬å·æ¯3.4.9\n\n\x3c!-- SpringBootæ´åzookeeperå®¢æ·ç«¯ --\x3e\n<dependency>\n    <groupId>org.springframework.cloud</groupId>\n    \x3c!-- ä¼åå«3.5.3-bataçjaråï¼å¦ä¸å¾ï¼æä»¥éè¦æé¤æï¼å¹¶è®¾ç½®èªå·±çæ¬çä¾èµ --\x3e\n    <artifactId>spring-cloud-starter-zookeeper-discovery</artifactId>\n    \x3c!--åæé¤èªå¸¦çzookeeper3.5.3--\x3e\n    <exclusions>\n        <exclusion>\n            <groupId>org.apache.zookeeper</groupId>\n            <artifactId>zookeeper</artifactId>\n        </exclusion>\n    </exclusions>\n</dependency>\n\n\x3c!--æ·»å zookeeper3.4.9çæ¬--\x3e\n<dependency>\n    <groupId>org.apache.zookeeper</groupId>\n    <artifactId>zookeeper</artifactId>\n    <version>3.4.9</version>\n</dependency>\n\n\n\n\néç½®ymlæä»¶ï¼\n\n#8004è¡¨ç¤ºæ³¨åå°zookeeperæå¡å¨çæ¯ä»æå¡æä¾èç«¯å£å·\nserver:\n  port: 8004\n#æå¡å«å----æ³¨åzookeeperå°æ³¨åä¸­å¿åç§°\nspring:\n  application:\n    name: cloud-provider-payment\n  cloud:\n    zookeeper:\n      # zookeeperçip+ç«¯å£\n      connect-string: 192.168.182.130:2181\n\n\nä¸»å¯å¨ç±»ï¼\n\n@SpringBootApplication\n@EnableDiscoveryClient //è¯¥æ³¨è§£ç¨äºåä½¿ç¨consulæèzookeeperä½ä¸ºæ³¨åä¸­å¿æ¶æ³¨åæå¡\npublic class PaymentMain8004 {\n    public static void main(String[] args) {\n        SpringApplication.run(PaymentMain8004.class, args);\n    }\n}\n\n\nControllerï¼éä¾¿åä¸ä¸ªæ¥å£ï¼ä»¥æ£æ¥æ¯å¦æ³¨åè¿Zookeeperæå¡ï¼\n\n@RestController\npublic class PaymentController {\n    @Value("${server.port}")\n    private String serverPort;\n\n    @RequestMapping(value = "/payment/zk")\n    public String paymentzk() {\n        return "springcloud with zookeeper: " + serverPort + "\\t" + UUID.randomUUID();\n    }\n}\n\n\nå¯å¨é¡¹ç®åï¼è¿å¥Zookeeperå®¢æ·ç«¯ï¼å¯ä»¥çå°ï¼\n\n\n\nè°ç¨æ¥å£ï¼æå\n\n\n\næå¡èç¹æ¯ä¸´æ¶èç¹è¿æ¯æä¹èç¹ï¼\n\n> å¨æå¡è¿è¡çæ¶åï¼ææå¡åæï¼å¯ä»¥æç¡®ççå°Zookeeperä¼å°åæçèç¹ç»æ¸é¤æï¼æä»¥æå¡èç¹æ¯ä¸´æ¶èç¹ãéå¯åï¼å¾å°çæµæ°´å·ä¹æ¯ä¸ä¸æ ·çã\n\n\n# æå¡æ¶è´¹è\n\nåå»ºä¸ä¸ªMavenå·¥ç¨ï¼pomæä»¶åä¸é¢çæå¡æä¾èä¸æ ·ï¼\n\néç½®ymlæä»¶ï¼\n\nserver:\n  port: 80\n\nspring:\n  application:\n    name: cloud-consumer-order\n  cloud:\n  #æ³¨åå°zookeeperå°å\n    zookeeper:\n      connect-string: 192.168.182.130:2181\n\n\nä¸»å¯å¨ç±»å ä¸@EnableDiscoveryClient æ³¨è§£ã\n\nå°RestTemplateå å¥å°å®¹å¨ã\n\n@Bean\n@LoadBalanced\npublic RestTemplate getRestTemplate() {\n    return new RestTemplate();\n}\n\n\nä½¿ç¨RestTemplateè°ç¨æå¡æä¾èçæ¥å£ï¼\n\n@RestController\npublic class OrderZKController {\n    public static final String INVOKE_URL = "http://cloud-provider-payment";\n\n    @Resource\n    private RestTemplate restTemplate;\n\n    @GetMapping(value = "/consumer/payment/zk")\n    public String paymentInfo() {\n        return restTemplate.getForObject(INVOKE_URL + "/payment/zk", String.class);\n    }\n}\n\n\nå¯å¨é¡¹ç®ï¼æå¡æ¶è´¹èä¹æ³¨åè¿äºZookeeperä¸­ï¼å¹¶ä¸è°ç¨æå¡æ¶è´¹èçæ¥å£æåï¼\n\n\n\n',normalizedContent:'zookeeperæ¯ä¸ä¸ªåå¸å¼åè°å·¥å·ï¼å¯ä»¥å®ç°æ³¨åä¸­å¿åè½ãä½¿ç¨zookeeperæå¡å¨åä»£eurekaæå¡å¨ï¼ä½ä¸ºæå¡æ³¨åä¸­å¿ã\n\n\n# å¿«éå®è£\n\nå®è£docker\n\ncurl -ssl https://get.daocloud.io/docker | sh\nsystemctl enable --now docker\n\n\næåzookeeperçéåï¼åå»ºå¹¶å¯å¨å®¹å¨\n\ndocker pull zookeeper:3.4.9\ndocker run -d -e tz="asia/shanghai" -p 2181:2181 -v /home/data/zookeeper:/data --name zookeeper --restart always zookeeper:3.4.9\n\n\nå³é­linuxæå¡å¨é²ç«å¢\n\nsystemctl stop firewalld\n\n\næ¥çé²ç«å¢ç¶æ\n\nsystemctl status firewalld\n\n\nè¿å¥zookeeperå®¹å¨\n\n# ç¬¬ä¸ç§æ¹å¼ï¼ç´æ¥è¿å¥å°zkcliä¸­\ndocker run -it --rm --link zookeeper:zookeeper zookeeper zkcli.sh -server zookeeper\n\n# ç¬¬äºç§æ¹å¼ï¼åè¿å¥å®¹å¨ï¼åè¿å¥å°zkcliä¸­\ndocker exec -it zookeeper bash\n./bin/zkcli.sh\n\n\n\n# æå¡æä¾è\n\næ°å»ºä¸ä¸ªmavenå·¥ç¨ï¼æ·»å ç¸å³ä¾èµï¼çæ¬å·æ¯3.4.9\n\n\x3c!-- springbootæ´åzookeeperå®¢æ·ç«¯ --\x3e\n<dependency>\n    <groupid>org.springframework.cloud</groupid>\n    \x3c!-- ä¼åå«3.5.3-bataçjaråï¼å¦ä¸å¾ï¼æä»¥éè¦æé¤æï¼å¹¶è®¾ç½®èªå·±çæ¬çä¾èµ --\x3e\n    <artifactid>spring-cloud-starter-zookeeper-discovery</artifactid>\n    \x3c!--åæé¤èªå¸¦çzookeeper3.5.3--\x3e\n    <exclusions>\n        <exclusion>\n            <groupid>org.apache.zookeeper</groupid>\n            <artifactid>zookeeper</artifactid>\n        </exclusion>\n    </exclusions>\n</dependency>\n\n\x3c!--æ·»å zookeeper3.4.9çæ¬--\x3e\n<dependency>\n    <groupid>org.apache.zookeeper</groupid>\n    <artifactid>zookeeper</artifactid>\n    <version>3.4.9</version>\n</dependency>\n\n\n\n\néç½®ymlæä»¶ï¼\n\n#8004è¡¨ç¤ºæ³¨åå°zookeeperæå¡å¨çæ¯ä»æå¡æä¾èç«¯å£å·\nserver:\n  port: 8004\n#æå¡å«å----æ³¨åzookeeperå°æ³¨åä¸­å¿åç§°\nspring:\n  application:\n    name: cloud-provider-payment\n  cloud:\n    zookeeper:\n      # zookeeperçip+ç«¯å£\n      connect-string: 192.168.182.130:2181\n\n\nä¸»å¯å¨ç±»ï¼\n\n@springbootapplication\n@enablediscoveryclient //è¯¥æ³¨è§£ç¨äºåä½¿ç¨consulæèzookeeperä½ä¸ºæ³¨åä¸­å¿æ¶æ³¨åæå¡\npublic class paymentmain8004 {\n    public static void main(string[] args) {\n        springapplication.run(paymentmain8004.class, args);\n    }\n}\n\n\ncontrollerï¼éä¾¿åä¸ä¸ªæ¥å£ï¼ä»¥æ£æ¥æ¯å¦æ³¨åè¿zookeeperæå¡ï¼\n\n@restcontroller\npublic class paymentcontroller {\n    @value("${server.port}")\n    private string serverport;\n\n    @requestmapping(value = "/payment/zk")\n    public string paymentzk() {\n        return "springcloud with zookeeper: " + serverport + "\\t" + uuid.randomuuid();\n    }\n}\n\n\nå¯å¨é¡¹ç®åï¼è¿å¥zookeeperå®¢æ·ç«¯ï¼å¯ä»¥çå°ï¼\n\n\n\nè°ç¨æ¥å£ï¼æå\n\n\n\næå¡èç¹æ¯ä¸´æ¶èç¹è¿æ¯æä¹èç¹ï¼\n\n> å¨æå¡è¿è¡çæ¶åï¼ææå¡åæï¼å¯ä»¥æç¡®ççå°zookeeperä¼å°åæçèç¹ç»æ¸é¤æï¼æä»¥æå¡èç¹æ¯ä¸´æ¶èç¹ãéå¯åï¼å¾å°çæµæ°´å·ä¹æ¯ä¸ä¸æ ·çã\n\n\n# æå¡æ¶è´¹è\n\nåå»ºä¸ä¸ªmavenå·¥ç¨ï¼pomæä»¶åä¸é¢çæå¡æä¾èä¸æ ·ï¼\n\néç½®ymlæä»¶ï¼\n\nserver:\n  port: 80\n\nspring:\n  application:\n    name: cloud-consumer-order\n  cloud:\n  #æ³¨åå°zookeeperå°å\n    zookeeper:\n      connect-string: 192.168.182.130:2181\n\n\nä¸»å¯å¨ç±»å ä¸@enablediscoveryclient æ³¨è§£ã\n\nå°resttemplateå å¥å°å®¹å¨ã\n\n@bean\n@loadbalanced\npublic resttemplate getresttemplate() {\n    return new resttemplate();\n}\n\n\nä½¿ç¨resttemplateè°ç¨æå¡æä¾èçæ¥å£ï¼\n\n@restcontroller\npublic class orderzkcontroller {\n    public static final string invoke_url = "http://cloud-provider-payment";\n\n    @resource\n    private resttemplate resttemplate;\n\n    @getmapping(value = "/consumer/payment/zk")\n    public string paymentinfo() {\n        return resttemplate.getforobject(invoke_url + "/payment/zk", string.class);\n    }\n}\n\n\nå¯å¨é¡¹ç®ï¼æå¡æ¶è´¹èä¹æ³¨åè¿äºzookeeperä¸­ï¼å¹¶ä¸è°ç¨æå¡æ¶è´¹èçæ¥å£æåï¼\n\n\n\n',charsets:{cjk:!0},lastUpdated:"2022/11/30, 16:24:57",lastUpdatedTimestamp:1669796697e3},{title:"SpringCloud Eureka",frontmatter:{title:"SpringCloud Eureka",date:"2022-12-13T20:40:38.000Z",permalink:"/pages/24j4ehty/",categories:["Springçæ"],tags:["SpringCloud"],author:{name:"ä¹æ¨åç"}},regularPath:"/02.Java%E6%A1%86%E6%9E%B6/01.SpringCloud/01.SpringCloud%20Eureka.html",relativePath:"02.Javaæ¡æ¶/01.SpringCloud/01.SpringCloud Eureka.md",key:"v-20278ad4",path:"/pages/24j4ehty/",headers:[{level:2,title:"ç®ä»",slug:"ç®ä»",normalizedTitle:"ç®ä»",charIndex:2},{level:3,title:"æå¡æ²»ç",slug:"æå¡æ²»ç",normalizedTitle:"æå¡æ²»ç",charIndex:9},{level:3,title:"Eurekaæ¦è¿°",slug:"eurekaæ¦è¿°",normalizedTitle:"eurekaæ¦è¿°",charIndex:163},{level:2,title:"åºæ¬åç",slug:"åºæ¬åç",normalizedTitle:"åºæ¬åç",charIndex:298},{level:3,title:"æå¡æ³¨åä¸åç°",slug:"æå¡æ³¨åä¸åç°",normalizedTitle:"æå¡æ³¨åä¸åç°",charIndex:492},{level:3,title:"Eureka Serveræä¾æå¡æ³¨åæå¡",slug:"eureka-serveræä¾æå¡æ³¨åæå¡",normalizedTitle:"eureka serveræä¾æå¡æ³¨åæå¡",charIndex:908},{level:3,title:"EurekaClientéè¿æ³¨åä¸­å¿è¿è¡è®¿é®",slug:"eurekaclientéè¿æ³¨åä¸­å¿è¿è¡è®¿é®",normalizedTitle:"eurekaclientéè¿æ³¨åä¸­å¿è¿è¡è®¿é®",charIndex:1027},{level:2,title:"Eurekaåæº",slug:"eurekaåæº",normalizedTitle:"eurekaåæº",charIndex:1358},{level:3,title:"EurekaServeræ­å»º",slug:"eurekaserveræ­å»º",normalizedTitle:"eurekaserveræ­å»º",charIndex:1371},{level:3,title:"EurekaCilentæ­å»º",slug:"eurekacilentæ­å»º",normalizedTitle:"eurekacilentæ­å»º",charIndex:2417},{level:2,title:"Eurekaéç¾¤",slug:"eurekaéç¾¤",normalizedTitle:"eurekaéç¾¤",charIndex:3300},{level:3,title:"EurekaServeréç¾¤",slug:"eurekaserveréç¾¤",normalizedTitle:"eurekaserveréç¾¤",charIndex:3546},{level:3,title:"EurekaCilentæ³¨åè¿Serveréç¾¤",slug:"eurekacilentæ³¨åè¿serveréç¾¤",normalizedTitle:"eurekacilentæ³¨åè¿serveréç¾¤",charIndex:4927},{level:3,title:"EurekaCilentéç¾¤",slug:"eurekacilentéç¾¤",normalizedTitle:"eurekacilentéç¾¤",charIndex:5732},{level:3,title:"è´è½½åè¡¡",slug:"è´è½½åè¡¡",normalizedTitle:"è´è½½åè¡¡",charIndex:139},{level:2,title:"ä¿¡æ¯å®å",slug:"ä¿¡æ¯å®å",normalizedTitle:"ä¿¡æ¯å®å",charIndex:7333},{level:3,title:"ä¿®æ¹æå¡å",slug:"ä¿®æ¹æå¡å",normalizedTitle:"ä¿®æ¹æå¡å",charIndex:7342},{level:3,title:"IPä¿¡æ¯æ¾ç¤º",slug:"ipä¿¡æ¯æ¾ç¤º",normalizedTitle:"ipä¿¡æ¯æ¾ç¤º",charIndex:8160},{level:2,title:"æå¡åç°Discovery",slug:"æå¡åç°discovery",normalizedTitle:"æå¡åç°discovery",charIndex:8459},{level:2,title:"èªæä¿æ¤",slug:"èªæä¿æ¤",normalizedTitle:"èªæä¿æ¤",charIndex:1292},{level:3,title:"ç¦æ­¢èªæä¿æ¤",slug:"ç¦æ­¢èªæä¿æ¤",normalizedTitle:"ç¦æ­¢èªæä¿æ¤",charIndex:10392},{level:4,title:"æå¡ç«¯éç½®",slug:"æå¡ç«¯éç½®",normalizedTitle:"æå¡ç«¯éç½®",charIndex:10402},{level:4,title:"å®¢æ·ç«¯éç½®",slug:"å®¢æ·ç«¯éç½®",normalizedTitle:"å®¢æ·ç«¯éç½®",charIndex:10837}],headersStr:"ç®ä» æå¡æ²»ç Eurekaæ¦è¿° åºæ¬åç æå¡æ³¨åä¸åç° Eureka Serveræä¾æå¡æ³¨åæå¡ EurekaClientéè¿æ³¨åä¸­å¿è¿è¡è®¿é® Eurekaåæº EurekaServeræ­å»º EurekaCilentæ­å»º Eurekaéç¾¤ EurekaServeréç¾¤ EurekaCilentæ³¨åè¿Serveréç¾¤ EurekaCilentéç¾¤ è´è½½åè¡¡ ä¿¡æ¯å®å ä¿®æ¹æå¡å IPä¿¡æ¯æ¾ç¤º æå¡åç°Discovery èªæä¿æ¤ ç¦æ­¢èªæä¿æ¤ æå¡ç«¯éç½® å®¢æ·ç«¯éç½®",content:'# ç®ä»\n\n\n# æå¡æ²»ç\n\nSpring Cloud å°è£äº Netflix å¬å¸å¼åç Eureka æ¨¡åæ¥å®ç°æå¡æ²»çï¼å¨ä¼ ç»çrpcè¿ç¨è°ç¨æ¡æ¶ä¸­ï¼ç®¡çæ¯ä¸ªæå¡ä¸æå¡ä¹é´ä¾èµå³ç³»æ¯è¾å¤æï¼ç®¡çæ¯è¾å¤æï¼æä»¥éè¦ä½¿ç¨æå¡æ²»çï¼ç®¡çæå¡äºæå¡ä¹é´ä¾èµå³ç³»ï¼å¯ä»¥å®ç°æå¡è°ç¨ãè´è½½åè¡¡ãå®¹éç­ï¼å®ç°æå¡åç°ä¸æ³¨åã\n\n\n# Eurekaæ¦è¿°\n\nEurekaæ¯åºäºRESTï¼Representational State Transferï¼æå¡ï¼ä¸»è¦ä»¥AWSäºæå¡ä¸ºæ¯æï¼æä¾æå¡åç°å¹¶å®ç°è´è½½åè¡¡åæéè½¬ç§»ãEurekaæ¯ä¸æ¬¾ç±Netflixå¬å¸å¼åçæå¡æ³¨åç»ä»¶ï¼å·²ç»åæ­¢æ´æ°äºã\n\n\n\n\n# åºæ¬åç\n\nEurekaéç¨C-Sçè®¾è®¡æ¶æï¼åå«Eureka Server åEureka Clientä¸¤ä¸ªç»ä»¶\n\næå¡å¯å¨ååEurekaæ³¨åï¼Eureka Serverä¼å°æ³¨åä¿¡æ¯åå¶ä»Eureka Serverè¿è¡åæ­¥ï¼å½æå¡æ¶è´¹èè¦è°ç¨æå¡æä¾èï¼ååæå¡æ³¨åä¸­å¿è·åæå¡æä¾èå°åï¼ç¶åä¼å°æå¡æä¾èå°åç¼å­å¨æ¬å°ï¼ä¸æ¬¡åè°ç¨æ¶ï¼åç´æ¥ä»æ¬å°ç¼å­ä¸­åï¼å®æä¸æ¬¡è°ç¨ã\n\n\n# æå¡æ³¨åä¸åç°\n\nEureka Server ä½ä¸ºæå¡æ³¨ååè½çæå¡å¨ï¼å®æ¯æå¡æ³¨åä¸­å¿ãèç³»ç»ä¸­çå¶ä»å¾®æå¡ï¼ä½¿ç¨ Eurekaçå®¢æ·ç«¯è¿æ¥å°Eureka Server å¹¶ç»´æå¿è·³è¿æ¥ãè¿æ ·ç³»ç»çç»´æ¤äººåå°±å¯ä»¥éè¿ Eureka Server æ¥çæ§ç³»ç»ä¸­åä¸ªå¾®æå¡æ¯å¦æ­£å¸¸è¿è¡ã\n\nå¨æå¡æ³¨åä¸åç°ä¸­ï¼æä¸ä¸ªæ³¨åä¸­å¿ãå½æå¡å¨å¯å¨çæ¶åï¼ä¼æå½åèªå·±æå¡å¨çä¿¡æ¯(æ¯å¦æå¡å°åéè®¯å°åç­)ä»¥å«åæ¹å¼æ³¨åå°æ³¨åä¸­å¿ä¸ãå¦ä¸æ¹(æ¶è´¹è|æå¡æä¾è)ï¼ä»¥è¯¥å«åçæ¹å¼å»æ³¨åä¸­å¿ä¸è·åå°å®éçæå¡éè®¯å°åï¼ç¶ååå®ç°æ¬å°RPCè°ç¨RPCè¿ç¨è°ç¨æ¡æ¶ã\n\n> æ ¸å¿è®¾è®¡ææ³ï¼å¨äºæ³¨åä¸­å¿ï¼å ä¸ºä½¿ç¨æ³¨åä¸­å¿ç®¡çæ¯ä¸ªæå¡ä¸æå¡ä¹é´çä¸ä¸ªä¾èµå³ç³»(æå¡æ²»çæ¦å¿µ)ãå¨ä»»ä½rpcè¿ç¨æ¡æ¶ä¸­ï¼é½ä¼æä¸ä¸ªæ³¨åä¸­å¿(å­æ¾æå¡å°åç¸å³ä¿¡æ¯(æ¥å£å°å))\n\n\n\n> Eurekaåå«ä¸¤ä¸ªç»ä»¶ï¼Eureka ServeråEureka Client\n\n\n# Eureka Serveræä¾æå¡æ³¨åæå¡\n\nåä¸ªå¾®æå¡èç¹éè¿éç½®å¯å¨åï¼ä¼å¨EurekaServerä¸­è¿è¡æ³¨åï¼è¿æ ·EurekaServerä¸­çæå¡æ³¨åè¡¨ä¸­å°ä¼å­å¨ææå¯ç¨æå¡èç¹çä¿¡æ¯ï¼æå¡èç¹çä¿¡æ¯å¯ä»¥å¨çé¢ä¸­ç´è§çå°ã\n\n\n# EurekaClientéè¿æ³¨åä¸­å¿è¿è¡è®¿é®\n\næ¯ä¸ä¸ªJavaå®¢æ·ç«¯ï¼ç¨äºç®åEureka Serverçäº¤äºï¼å®¢æ·ç«¯åæ¶ä¹å·å¤ä¸ä¸ªåç½®çãä½¿ç¨è½®è¯¢(round-robin)è´è½½ç®æ³çè´è½½åè¡¡å¨ãå¨åºç¨å¯å¨åï¼å°ä¼åEureka Serveråéå¿è·³(é»è®¤å¨æä¸º30ç§)ãå¦æEureka Serverå¨å¤ä¸ªå¿è·³å¨æåæ²¡ææ¥æ¶å°æä¸ªèç¹çå¿è·³ï¼EurekaServerå°ä¼ä»æå¡æ³¨åè¡¨ä¸­æè¿ä¸ªæå¡èç¹ç§»é¤ï¼é»è®¤90ç§ï¼ã\n\nä½æ¯ä¼å­å¨å½ç½ç»ååºåçæéï¼å¯¼è´è¯¥æ¶é´åæ²¡æå¿è·³è¿æ¥ï¼ä½è¯¥æå¡æ¬èº«è¿æ¯å¥åº·è¿è¡çæåµãEurekaéè¿âèªæä¿æ¤æ¨¡å¼âæ¥è§£å³è¿ä¸ªé®é¢ãå¨èªæä¿æ¤æ¨¡å¼ä¸­ï¼Eureka Serverä¼ä¿æ¤æå¡æ³¨åè¡¨ä¸­çä¿¡æ¯ï¼ä¸åæ³¨éä»»ä½æå¡å®ä¾ã\n\n\n# Eurekaåæº\n\n\n# EurekaServeræ­å»º\n\nåå»ºä¸ä¸ªmavenæ¨¡åï¼æ·»å ä¾èµ\n\n\x3c!-- eureka-server --\x3e\n<dependency>\n    <groupId>org.springframework.cloud</groupId>\n    <artifactId>spring-cloud-starter-netflix-eureka-server</artifactId>\n</dependency>\n\n\x3c!-- cloud2018ä»¥åççæ¬ --\x3e\n<dependency>\n    <groupId>org.springframework.cloud</groupId>\n    <artifactId>spring-cloud-starter-eureka</artifactId>\n</dependency>\n\n\néç½®application.ymlæä»¶\n\n# ç«¯å£å·\nserver:\n  port: 7001\n\neureka:\n  instance:\n    hostname: localhost #eurekaæå¡ç«¯çå®ä¾åç§°\n  client:\n    #falseè¡¨ç¤ºä¸åæ³¨åä¸­å¿æ³¨åèªå·±ã\n    register-with-eureka: false\n    #falseè¡¨ç¤ºèªå·±ç«¯å°±æ¯æ³¨åä¸­å¿ï¼ç»´æ¤æå¡å®ä¾ï¼å¹¶ä¸éè¦å»æ£ç´¢æå¡\n    fetch-registry: false\n    service-url:\n      #è®¾ç½®ä¸Eureka Serveräº¤äºçå°åæ¥è¯¢æå¡åæ³¨åæå¡é½éè¦ä¾èµè¿ä¸ªå°åã\n      defaultZone: http://${eureka.instance.hostname}:${server.port}/eureka/\n                          #     æå localhost           æå  7001\n\n\nç¼åä¸»æ¹æ³\n\n@SpringBootApplication\n@EnableEurekaServer // è¡¨ç¤ºè¿ä¸ªé¡¹ç®æ¯æå¡æ³¨åä¸­å¿\npublic class EurekaMain {\n    public static void main(String[] args) {\n        SpringApplication.run(EurekaMain.class, args);\n    }\n}\n\n\nå¯å¨è¯¥é¡¹ç®ï¼æ¾ç¤ºè¯¥é¡µé¢è¡¨ç¤ºæå¡æ³¨åä¸­å¿å¯å¨æå\n\n\n\n\n# EurekaCilentæ­å»º\n\næ·»å ä¾èµ\n\n<dependency>\n    <groupId>org.springframework.cloud</groupId>\n    <artifactId>spring-cloud-starter-netflix-eureka-client</artifactId>\n</dependency>\n\n\x3c!-- cloud2018ä»¥åççæ¬ --\x3e\n<dependency>\n    <groupId>org.springframework.cloud</groupId>\n    <artifactId>spring-cloud-starter-eureka</artifactId>\n</dependency>\n\n\nå¨å¯å¨ç±»ä¸å å¥è¯¥æ³¨è§£\n\n// è¡¨ç¤ºè¿ä¸ªé¡¹ç®å¥é©»Eureka\n@EnableEurekaClient \n\n\nå¨application.ymlæä»¶ä¸­éç½®Eureka\n\n# ç«¯å£å·\nserver:\n  port: 8001\n\n# æå¡å\nspring:\n  application:\n    # è¿éçåå­å°±æ¯æ³¨åè¿Eurekaçæå¡å\n    name: cloud-payment-service \n\neureka:\n  client:\n    # è¡¨ç¤ºæ¯å¦å°èªå·±æ³¨åè¿EurekaServeré»è®¤ä¸ºtrueã\n    register-with-eureka: true\n    # æ¯å¦ä»EurekaServeræåå·²æçæ³¨åä¿¡æ¯ï¼é»è®¤ä¸ºtrueã\n    # åèç¹æ æè°ï¼éç¾¤å¿é¡»è®¾ç½®ä¸ºtrueæè½éåribbonä½¿ç¨è´è½½åè¡¡\n    fetchRegistry: true\n    service-url:\n      defaultZone: http://localhost:7001/eureka\n                #   æåæå¡æ³¨åä¸­å¿çurl\n\n\nå¯å¨é¡¹ç®ï¼éè¦åå¯å¨eurekaçæå¡ç«¯ï¼è¿å¥æå¡ç«¯çæå¡æ³¨åä¸­å¿é¡µé¢ï¼çå°Clientç«¯çæå¡åè¡¨ç¤ºæ³¨åæå\n\n\n\n\n# Eurekaéç¾¤\n\nEurekaæ¯SpringCloudåºç¨ä¸­çæ³¨åä¸­å¿ï¼ç¨æ¥æä¾æå¡æ³¨åä¸åç°åè½ãå¨å®éçäº§æ´»å¨ä¸­ï¼å¦æåæºé¨ç½²çEurekaæå¡åçå®æºï¼è½ç¶å·²æ³¨åå°Eurekaçå¾®æå¡å¯ä»¥è¢«å¶å®¢æ·ç«¯è®°å½å¹¶ä¿çï¼ä½æ æ³åæä¾æéèç¹çåé¤ä¸æ°æå¡èç¹çåç°åè½ã\n\nEurekaéç¾¤åå¯ä»¥åå»ºå¤ä¸ªEurekaåºç¨ï¼äºç¸ä¹é´åæ­¥å®¢æ·ç«¯æ³¨åä¿¡æ¯ï¼åå¯ä»¥ç¬ç«æä¾æå¡åç°ä¸æ³¨åæå¡ã\n\nå¶å®Eurekaæ¬èº«å°±æ¯ä¸ºéç¾¤é¨ç½²èè®¾è®¡çï¼æä»¥é¨ç½²Eurekaéç¾¤éè¦ä¿®æ¹çéç½®é¡¹å¹¶ä¸å¤ã\n\n\n\n\n# EurekaServeréç¾¤\n\n> äºç¸æ³¨åï¼ç¸äºå®æ\n\nå¨å­¦ä¹ é¶æ®µéç¾¤æ¯é¨ç½²å¨åä¸å°çµèä¸çï¼eurekaæå¡ç«¯çå®ä¾åç§°ä¼æ¯ä¸æ ·çï¼éè¦ä¿®æ¹ä¸ä¸ç³»ç»çæ å°éç½®ãå¨C:\\Windows\\System32\\drivers\\etcæä»¶å¤¹ä¸æ¾å°hostsæä»¶ã\n\n\n\nå°èªå·±çéç¾¤ä¿¡æ¯è¿è¡éç½®è¿å»\n\n\n\nä¿®æ¹åæ¥çapplication.ymlæä»¶ï¼å°å¶åæ´ä¸ºéç¾¤çç¯å¢\n\n# ç«¯å£å·\nserver:\n  port: 7001\n\neureka:\n  instance:\n    # eurekaæå¡ç«¯çå®ä¾åç§°\n    hostname: eureka7001.com \n  client:\n    # falseè¡¨ç¤ºä¸åæ³¨åä¸­å¿æ³¨åèªå·±ã\n    register-with-eureka: false\n    # falseè¡¨ç¤ºèªå·±ç«¯å°±æ¯æ³¨åä¸­å¿ï¼æçèè´£å°±æ¯ç»´æ¤æå¡å®ä¾ï¼å¹¶ä¸éè¦å»æ£ç´¢æå¡\n    fetch-registry: false\n    service-url:\n      # è®¾ç½®ä¸Eureka Serveräº¤äºçå°åæ¥è¯¢æå¡åæ³¨åæå¡é½éè¦ä¾èµè¿ä¸ªå°åã\n      defaultZone: http://eureka7002.com:7002/eureka/\n                      # æå7002çæå¡ä¸­å¿\n\n\næ°å»ºä¸ä¸ªæ¨¡åï¼pom.xmlåä¸»å¯å¨ç±»ä¸åãapplication.ymléç½®ä¸º7002çæå¡ä¸­å¿\n\n# ç«¯å£å·\nserver:\n  port: 7002\n\neureka:\n  instance:\n    # eurekaæå¡ç«¯çå®ä¾åç§°\n    hostname: eureka7002.com \n  client:\n    #falseè¡¨ç¤ºä¸åæ³¨åä¸­å¿æ³¨åèªå·±ã\n    register-with-eureka: false\n    #falseè¡¨ç¤ºèªå·±ç«¯å°±æ¯æ³¨åä¸­å¿ï¼æçèè´£å°±æ¯ç»´æ¤æå¡å®ä¾ï¼å¹¶ä¸éè¦å»æ£ç´¢æå¡\n    fetch-registry: false\n    service-url:\n      #è®¾ç½®ä¸Eureka Serveräº¤äºçå°åæ¥è¯¢æå¡åæ³¨åæå¡é½éè¦ä¾èµè¿ä¸ªå°åã\n      defaultZone: http://eureka7001.com:7002/eureka/\n                          # æå7001æå¡ä¸­å¿\n\n\n> å°ç®åä¸ºæ­¢å°±åå»ºäºä¸¤ä¸ªeurekaæå¡ç«¯ï¼å¨service-urlä¸­ï¼7001å7002ç¸äºæåã\n\nå¯å¨ä¸¤ä¸ªæå¡ï¼è®¿é®\n\n\n\n\n\nå½7001å7002æå¡äºç¸æåçæ¶åï¼è¯´æéç¾¤æ­å»ºæå\n\n> ç¸äºæ³¨åï¼å¦æè¿æä¸å°eurekaæå¡ç«¯(7003)ï¼åå¨éç½®ymlæä»¶çæ¶åéè¦å°7001æå7002å7003\n\neureka:\n  client:\n    register-with-eureka: true\n    fetchRegistry: true\n    service-url:\n      # éç¾¤\n      defaultZone: http://eureka7001.com:7001/eureka,http://eureka7002.com:7002/eureka\n\n\n\n\n# EurekaCilentæ³¨åè¿Serveréç¾¤\n\nå°æå¡æ³¨åä¸­å¿çurléç½®ä¸ºéç¾¤çurlå³å¯\n\n# defaultZone: http://localhost:7001/eureka  # åæºç\ndefaultZone: http://eureka7001.com:7001/eureka,http://eureka7002.com:7002/eureka  # éç¾¤ç\n\n\nä¸é¢æ¯å®æ´çymlæä»¶\n\n# ç«¯å£å·\nserver:\n  port: 8001\n\n# æå¡å\nspring:\n  application:\n    # è¿éçåå­å°±æ¯æ³¨åè¿Eurekaçæå¡å\n    name: cloud-payment-service \n\neureka:\n  client:\n    #è¡¨ç¤ºæ¯å¦å°èªå·±æ³¨åè¿EurekaServeré»è®¤ä¸ºtrueã\n    register-with-eureka: true\n    #æ¯å¦ä»EurekaServeræåå·²æçæ³¨åä¿¡æ¯ï¼é»è®¤ä¸ºtrueã\n    #åèç¹æ æè°ï¼éç¾¤å¿é¡»è®¾ç½®ä¸ºtrueæè½éåribbonä½¿ç¨è´è½½åè¡¡\n    fetchRegistry: true\n    service-url:\n#      defaultZone: http://localhost:7001/eureka  # åæºç\n      defaultZone: http://eureka7001.com:7001/eureka,http://eureka7002.com:7002/eureka  # éç¾¤ç\n                #   æåæå¡æ³¨åä¸­å¿çurl\n\n\nå°åä¸ªå¾®æå¡å¯å¨ï¼è¦åå¯å¨Serveréç¾¤ï¼åå¯å¨Clientæå¡\n\n\n\nè°ç¨æ¥å£æµè¯ï¼ä¸è¬å³å¯å¨æå\n\n\n\næ­¤æ¶ï¼æå¡ä¸­å¿æä¸¤ä¸ªï¼æå¡æä¾èç¡®åªæä¸ä¸ªï¼ä¸é¢æ­å»ºæå¡æä¾èçéç¾¤\n\n\n# EurekaCilentéç¾¤\n\nåå»ºä¸ä¸ªç«¯å£å·ä¸º8002çæå¡æä¾æ¨¡åï¼\n\nserver:\n  port: 8002\n\nspring:\n  application:\n    name: cloud-payment-service\n\neureka:\n  client:\n    #è¡¨ç¤ºæ¯å¦å°èªå·±æ³¨åè¿EurekaServeré»è®¤ä¸ºtrueã\n    register-with-eureka: true\n    #æ¯å¦ä»EurekaServeræåå·²æçæ³¨åä¿¡æ¯ï¼é»è®¤ä¸ºtrueãåèç¹æ æè°ï¼éç¾¤å¿é¡»è®¾ç½®ä¸ºtrueæè½éåribbonä½¿ç¨è´è½½åè¡¡\n    fetchRegistry: true\n    service-url:\n      #defaultZone: http://localhost:7001/eureka\n      defaultZone: http://eureka7001.com:7001/eureka,http://eureka7002.com:7002/eureka  # éç¾¤ç\n\n\næé¡ºåºæå¼æææå¡ï¼æ­¤æ¶å·²ç»æ³¨åäºä¸ä¸ªæå¡\n\n\n\n\n# è´è½½åè¡¡\n\n> ç°å¨çç³»ç»é»è¾æ¯ï¼orderæå¡ä½¿ç¨RestTemplateè°ç¨paymentæå¡ï¼ä½ç°å¨paymentæä¸¤å°æºå¨ï¼ä¹åçåæ³æ¯ip+ç«¯å£å·åæ­»çï¼ç°å¨åéè¦è´è½½åè¡¡å°ä¸¤å°æºå¨ä¸ã\n\n    @GetMapping("/consumer/payment/get/{id}")\n    public CommonResult<Payment> getPayment(@PathVariable("id") Long id) {\n        return restTemplate.getForObject("http://localhost:8001/payment/get/" + id, CommonResult.class);\n    }\n\n\nç°å¨æå¡æä¾èæä¸¤å°æºå¨ï¼å¯ä»¥è®©RestTemplateå»éæ©è°ç¨åªä¸ä¸ªï¼å¯ä»¥å°è°ç¨åæ´ä¸ºï¼\n\nprivate static final String PAYMENT_URL = "http://CLOUD-PAYMENT-SERVICE";\n\n@GetMapping("/consumer/payment/get/{id}")\npublic CommonResult<Payment> getPayment(@PathVariable("id") Long id) {\n    return restTemplate.getForObject(PAYMENT_URL + "/payment/get/" + id, CommonResult.class);\n}\n\n\nurlåæå¡åæ¯ç¸äºå¯¹åºç\n\n\n\nå ä¸ºä¸ä¸ªæå¡åä¸æå¤ä¸ªæå¡ï¼ä¿®æ¹å¥½ä¹åï¼éå¯ï¼æ­¤æ¶RestTemplateå¹¶ä¸ç¥éå°åºè¦è°ç¨åªä¸ä¸ªï¼å°±ä¼æ¥éï¼\n\n\n\n**ç»RestTemplateèµäºè´è½½åè¡¡çè½åï¼**å¨å£°æRestTemplateçéç½®ç±»ä¸­ï¼å å¥@LoadBalancedæ³¨è§£\n\n@Configuration\npublic class ApplicationContextConfig {\n    @Bean\n    @LoadBalanced   // èµäºRestTemplateè´è½½åè¡¡çè½å\n    public RestTemplate getRestTemplate() {\n        return new RestTemplate();\n    }\n}\n\n\nåæ¬¡éå¯åå°±å¯ä»¥éè¿æå¡åç§°ç´æ¥è°ç¨æå¡ï¼å¤æ¬¡è°ç¨è¯¥æ¥å£ï¼ä¼åç°æ¯äº¤æ¿(è½®è¯¢)çåæ¢ä¸¤ä¸ªæå¡æä¾èï¼æ­¤æ¶Consumerå¯ä»¥ç´æ¥è°ç¨æå¡èä¸åå³å¿å°ååç«¯å£å·ï¼å¹¶ä¸è¯¥æå¡è¿å·å¤äºè´è½½åè¡¡çåè½\n\n\n\n\n# ä¿¡æ¯å®å\n\n\n# ä¿®æ¹æå¡å\n\nå¨Eurekaä¸­ï¼æºå¨çåå­é»è®¤æ¾ç¤ºçæ¯ä¸»æºå:æå¡å:ç«¯å£å· ï¼å¯¹äºæå¡çæºå¨è¾¨è¯ä¼æ¯è¾æ¨¡ç³ï¼å¦ææ¯ä½¿ç¨â1å·æºâãâ5å·æºâç­ç±»ä¼¼çåç§°å¯è½æ´ç´è§ï¼å¦æææ­¤æ¹é¢çéæ±ï¼å¯ä»¥è¿è¡ä¿®æ¹æå¡åç§°ã\n\n\n\néè¦å¼å¥ä»¥ä¸ä¸¤ä¸ªä¾èµï¼\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-web</artifactId>\n</dependency>\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-actuator</artifactId>\n</dependency>\n\n\nä¸é¢æ¯ä¿®æ¹åçymlæä»¶ï¼\n\nserver:\n  port: 8001\n\nspring:\n  application:\n    name: cloud-payment-service\n\neureka:\n  client:\n    #è¡¨ç¤ºæ¯å¦å°èªå·±æ³¨åè¿EurekaServeré»è®¤ä¸ºtrueã\n    register-with-eureka: true\n    #æ¯å¦ä»EurekaServeræåå·²æçæ³¨åä¿¡æ¯ï¼é»è®¤ä¸ºtrueã\n    fetchRegistry: true\n    service-url:\n      defaultZone: http://eureka7001.com:7001/eureka,http://eureka7002.com:7002/eureka\n  instance:\n      # è®¾ç½®eurekaæå¡æ³¨åä¸­å¿ä¸­çä¸»æºåç§°\n      instance-id: payment8001\n\n\nä¿®æ¹è¿åçæ ·å­ï¼\n\n\n\n\n# IPä¿¡æ¯æ¾ç¤º\n\nå¨ymlæä»¶ä¸­ä¿®æ¹éç½®ï¼\n\neureka:\n  client:\n    register-with-eureka: true\n    fetchRegistry: true\n    service-url:\n      defaultZone: http://eureka7001.com:7001/eureka,http://eureka7002.com:7002/eureka\n  instance:\n      instance-id: payment8001\n      #è®¿é®è·¯å¾å¯ä»¥æ¾ç¤ºIPå°å\n      prefer-ip-address: true\n\n\n\n\n\n# æå¡åç°Discovery\n\nå¯¹äºæ³¨åè¿eurekaéé¢çå¾®æå¡ï¼å¯ä»¥éè¿æå¡åç°æ¥è·å¾è¯¥æå¡çä¿¡æ¯\n\nå¼å¯æå¡åç°@EnableDiscoveryClientï¼\n\n@SpringBootApplication\n@EnableEurekaClient\n@EnableDiscoveryClient    // å¼å¯æå¡åç°\npublic class PaymentMain8001 {\n    public static void main(String[] args) {\n        SpringApplication.run(PaymentMain8001.class, args);\n    }\n}\n\n\nä¿®æ¹Eurekuä¸­çå®¢æ·ç«¯Controllerï¼\n\n@Resource\nprivate DiscoveryClient discoveryClient;\n\n@GetMapping("/payment/discovery")\npublic Object discovery() {\n    // è·å¾æå¡æ¸ååè¡¨\n    List<String> services = discoveryClient.getServices();\n    for (String service : services) {\n        log.info("serviceï¼{}", service);\n    }\n    // ä¸ä¸ªå¾®æå¡åç§°ä¸é¢çææå®ä¾\n    List<ServiceInstance> instances = discoveryClient.getInstances("CLOUD-PAYMENT-SERVICE");\n    for (ServiceInstance instance : instances) {\n        log.info("{}\\t{}\\t{}\\t{}", instance.getInstanceId(), instance.getHost(), \n            instance.getPort(), instance.getUri());\n    }\n    return this.discoveryClient;\n}\n\n\néè¿æå¡åç°ç±»DiscoveryClientçgetServices()æ¹æ³ï¼å¯ä»¥è·åå°æå¡çæ¸ååè¡¨\n\n\n\néè¿getInstances("CLOUD-PAYMENT-SERVICE");æ¹æ³å¯ä»¥å¾å°è¯¥æå¡åä¸çææå®ä¾çä¿¡æ¯ï¼è¯¥æ¹æ³çä¼ åå°±æ¯æå¡å\n\nä¸¤ä¸ªæ¹æ³çè°ç¨åè¾åºï¼çå°å¦ä¸ä¿¡æ¯ï¼\n\n\n\nèwebç«¯æå°çä¿¡æ¯åæ¯æå¡çåè¡¨ï¼orderè¡¨ç¤ºçæ¯å½åæå¡çé¡ºåº\n\n\n\n\n# èªæä¿æ¤\n\n> ææ¶å»æä¸ä¸ªå¾®æå¡ä¸å¯ç¨äºï¼Eurekaä¸ä¼ç«å»æ¸çï¼ä¾æ§ä¼å¯¹è¯¥å¾®æå¡çä¿¡æ¯è¿è¡ä¿å­ãå±äºCAPéé¢çAPåæ¯ã\n\nä¿æ¤æ¨¡å¼ä¸»è¦ç¨äºä¸ç»å®¢æ·ç«¯åEureka Serverä¹é´å­å¨ç½ç»ååºåºæ¯ä¸çä¿æ¤ãä¸æ¦è¿å¥ä¿æ¤æ¨¡å¼ï¼Eureka Serverå°ä¼å°è¯ä¿æ¤å¶æå¡æ³¨åè¡¨ä¸­çä¿¡æ¯ï¼ä¸åå é¤æå¡æ³¨åè¡¨ä¸­çæ°æ®ï¼ä¹å°±æ¯ä¸ä¼æ³¨éä»»ä½å¾®æå¡ã\n\nå¦æå¨Eureka Serverçé¦é¡µçå°ä»¥ä¸è¿æ®µæç¤ºï¼åè¯´æEurekaè¿å¥äºä¿æ¤æ¨¡å¼ï¼\n\n\n\nä¸ºä»ä¹ä¼äº§çEurekaèªæä¿æ¤æºå¶ï¼\n\n> ä¸ºäºé²æ­¢EurekaClientå¯ä»¥æ­£å¸¸è¿è¡ï¼ä½æ¯ä¸EurekaServerç½ç»ä¸éæåµä¸ï¼EurekaServerä¸ä¼ç«å»å°EurekaClientæå¡åé¤ã\n\nä»ä¹æ¯èªæä¿æ¤æ¨¡å¼ï¼\n\n> é»è®¤æåµä¸ï¼å¦æEurekaServerå¨ä¸å®æ¶é´åæ²¡ææ¥æ¶å°æä¸ªå¾®æå¡å®ä¾çå¿è·³ï¼EurekaServerå°ä¼æ³¨éè¯¥å®ä¾ï¼é»è®¤90ç§ï¼ãä½æ¯å½ç½ç»ååºæéåç(å»¶æ¶ãå¡é¡¿ãæ¥æ¤)æ¶ï¼å¾®æå¡ä¸EurekaServerä¹é´æ æ³æ­£å¸¸éä¿¡ï¼ä»¥ä¸è¡ä¸ºå¯è½åå¾éå¸¸å±é©äºââå ä¸ºå¾®æå¡æ¬èº«å¶å®æ¯å¥åº·çï¼æ­¤æ¶æ¬ä¸åºè¯¥æ³¨éè¿ä¸ªå¾®æå¡ãEurekaéè¿âèªæä¿æ¤æ¨¡å¼âæ¥è§£å³è¿ä¸ªé®é¢ââå½EurekaServerèç¹å¨ç­æ¶é´åä¸¢å¤±è¿å¤å®¢æ·ç«¯æ¶ï¼å¯è½åçäºç½ç»ååºæéï¼ï¼é£ä¹è¿ä¸ªèç¹å°±ä¼è¿å¥èªæä¿æ¤æ¨¡å¼ã\n\n\n\nå¨èªæä¿æ¤æ¨¡å¼ä¸­ï¼Eureka Serverä¼ä¿æ¤æå¡æ³¨åè¡¨ä¸­çä¿¡æ¯ï¼ä¸åæ³¨éä»»ä½æå¡å®ä¾ãå®çè®¾è®¡å²å­¦å°±æ¯å®å¯ä¿çéè¯¯çæå¡æ³¨åä¿¡æ¯ï¼ä¹ä¸ç²ç®æ³¨éä»»ä½å¯è½å¥åº·çæå¡å®ä¾ã\n\nç»¼ä¸ï¼èªæä¿æ¤æ¨¡å¼æ¯ä¸ç§åºå¯¹ç½ç»å¼å¸¸çå®å¨ä¿æ¤æªæ½ãå®çæ¶æå²å­¦æ¯å®å¯åæ¶ä¿çææå¾®æå¡ï¼å¥åº·çå¾®æå¡åä¸å¥åº·çå¾®æå¡é½ä¼ä¿çï¼ä¹ä¸ç²ç®æ³¨éä»»ä½å¥åº·çå¾®æå¡ãä½¿ç¨èªæä¿æ¤æ¨¡å¼ï¼å¯ä»¥è®©Eurekaéç¾¤æ´å çå¥å£®ãç¨³å®ã\n\n\n# ç¦æ­¢èªæä¿æ¤\n\n# æå¡ç«¯éç½®\n\nå¨application.ymlæä»¶ä¸­å å¥éç½®\n\neureka:\n  instance:\n    hostname: eureka7001.com\n  client:\n    register-with-eureka: false\n    fetch-registry: false\n    service-url:\n      defaultZone: http://eureka7002.com:7002/eureka/\n# ####################ç¦æ­¢èªæä¿æ¤####################\n  server:\n    # å³é­èªæä¿æ¤æºå¶ï¼ä¿è¯ä¸å¯ç¨æå¡è¢«åæ¶æ¸é¤\n    enable-self-preservation: false\n    # 2000æ¯«ç§æ²¡æååºå°±æ¸é¤\n    eviction-interval-timer-in-ms: 2000\n\n\néç½®å¥½åï¼å°±è½å¨eurekaçé¡µé¢çå°å¦ä¸ä¿¡æ¯ï¼\n\n\n\n# å®¢æ·ç«¯éç½®\n\nå¨application.ymléç½®æä»¶ä¸­è¿è¡éç½®ï¼\n\neureka:\n  client:\n    register-with-eureka: true\n    fetchRegistry: true\n    service-url:\n      defaultZone: http://eureka7001.com:7001/eureka,http://eureka7002.com:7002/eureka\n  instance:\n    instance-id: payment8001\n    prefer-ip-address: true\n    # ####################è®¾ç½®å¿è·³æ¶é´####################\n    # Eurekaå®¢æ·ç«¯åæå¡ç«¯åéå¿è·³çæ¶é´é´éï¼åä½ä¸ºç§(é»è®¤æ¯30ç§)\n    lease-renewal-interval-in-seconds: 1\n    # Eurekaæå¡ç«¯å¨æ¶å°æåä¸æ¬¡å¿è·³åç­å¾æ¶é´ä¸éï¼åä½ä¸ºç§(é»è®¤æ¯90ç§)ï¼è¶æ¶å°åé¤æå¡\n    lease-expiration-duration-in-seconds: 2\n\n\néç½®æååéå¯åç°8001æå¡å·²ç»è¢«æ³¨åè¿äºeureka\n\n\n\nåè®¾ç°å¨8001åºç°é®é¢(å³é­8001æå¡)ï¼æ­¤æ¶å¯ä»¥çå°8001æå¡ç«å»è¢«æ¸é¤ï¼ä¸åè¿è¡èªæä¿æ¤æºå¶\n\n',normalizedContent:'# ç®ä»\n\n\n# æå¡æ²»ç\n\nspring cloud å°è£äº netflix å¬å¸å¼åç eureka æ¨¡åæ¥å®ç°æå¡æ²»çï¼å¨ä¼ ç»çrpcè¿ç¨è°ç¨æ¡æ¶ä¸­ï¼ç®¡çæ¯ä¸ªæå¡ä¸æå¡ä¹é´ä¾èµå³ç³»æ¯è¾å¤æï¼ç®¡çæ¯è¾å¤æï¼æä»¥éè¦ä½¿ç¨æå¡æ²»çï¼ç®¡çæå¡äºæå¡ä¹é´ä¾èµå³ç³»ï¼å¯ä»¥å®ç°æå¡è°ç¨ãè´è½½åè¡¡ãå®¹éç­ï¼å®ç°æå¡åç°ä¸æ³¨åã\n\n\n# eurekaæ¦è¿°\n\neurekaæ¯åºäºrestï¼representational state transferï¼æå¡ï¼ä¸»è¦ä»¥awsäºæå¡ä¸ºæ¯æï¼æä¾æå¡åç°å¹¶å®ç°è´è½½åè¡¡åæéè½¬ç§»ãeurekaæ¯ä¸æ¬¾ç±netflixå¬å¸å¼åçæå¡æ³¨åç»ä»¶ï¼å·²ç»åæ­¢æ´æ°äºã\n\n\n\n\n# åºæ¬åç\n\neurekaéç¨c-sçè®¾è®¡æ¶æï¼åå«eureka server åeureka clientä¸¤ä¸ªç»ä»¶\n\næå¡å¯å¨ååeurekaæ³¨åï¼eureka serverä¼å°æ³¨åä¿¡æ¯åå¶ä»eureka serverè¿è¡åæ­¥ï¼å½æå¡æ¶è´¹èè¦è°ç¨æå¡æä¾èï¼ååæå¡æ³¨åä¸­å¿è·åæå¡æä¾èå°åï¼ç¶åä¼å°æå¡æä¾èå°åç¼å­å¨æ¬å°ï¼ä¸æ¬¡åè°ç¨æ¶ï¼åç´æ¥ä»æ¬å°ç¼å­ä¸­åï¼å®æä¸æ¬¡è°ç¨ã\n\n\n# æå¡æ³¨åä¸åç°\n\neureka server ä½ä¸ºæå¡æ³¨ååè½çæå¡å¨ï¼å®æ¯æå¡æ³¨åä¸­å¿ãèç³»ç»ä¸­çå¶ä»å¾®æå¡ï¼ä½¿ç¨ eurekaçå®¢æ·ç«¯è¿æ¥å°eureka server å¹¶ç»´æå¿è·³è¿æ¥ãè¿æ ·ç³»ç»çç»´æ¤äººåå°±å¯ä»¥éè¿ eureka server æ¥çæ§ç³»ç»ä¸­åä¸ªå¾®æå¡æ¯å¦æ­£å¸¸è¿è¡ã\n\nå¨æå¡æ³¨åä¸åç°ä¸­ï¼æä¸ä¸ªæ³¨åä¸­å¿ãå½æå¡å¨å¯å¨çæ¶åï¼ä¼æå½åèªå·±æå¡å¨çä¿¡æ¯(æ¯å¦æå¡å°åéè®¯å°åç­)ä»¥å«åæ¹å¼æ³¨åå°æ³¨åä¸­å¿ä¸ãå¦ä¸æ¹(æ¶è´¹è|æå¡æä¾è)ï¼ä»¥è¯¥å«åçæ¹å¼å»æ³¨åä¸­å¿ä¸è·åå°å®éçæå¡éè®¯å°åï¼ç¶ååå®ç°æ¬å°rpcè°ç¨rpcè¿ç¨è°ç¨æ¡æ¶ã\n\n> æ ¸å¿è®¾è®¡ææ³ï¼å¨äºæ³¨åä¸­å¿ï¼å ä¸ºä½¿ç¨æ³¨åä¸­å¿ç®¡çæ¯ä¸ªæå¡ä¸æå¡ä¹é´çä¸ä¸ªä¾èµå³ç³»(æå¡æ²»çæ¦å¿µ)ãå¨ä»»ä½rpcè¿ç¨æ¡æ¶ä¸­ï¼é½ä¼æä¸ä¸ªæ³¨åä¸­å¿(å­æ¾æå¡å°åç¸å³ä¿¡æ¯(æ¥å£å°å))\n\n\n\n> eurekaåå«ä¸¤ä¸ªç»ä»¶ï¼eureka serveråeureka client\n\n\n# eureka serveræä¾æå¡æ³¨åæå¡\n\nåä¸ªå¾®æå¡èç¹éè¿éç½®å¯å¨åï¼ä¼å¨eurekaserverä¸­è¿è¡æ³¨åï¼è¿æ ·eurekaserverä¸­çæå¡æ³¨åè¡¨ä¸­å°ä¼å­å¨ææå¯ç¨æå¡èç¹çä¿¡æ¯ï¼æå¡èç¹çä¿¡æ¯å¯ä»¥å¨çé¢ä¸­ç´è§çå°ã\n\n\n# eurekaclientéè¿æ³¨åä¸­å¿è¿è¡è®¿é®\n\næ¯ä¸ä¸ªjavaå®¢æ·ç«¯ï¼ç¨äºç®åeureka serverçäº¤äºï¼å®¢æ·ç«¯åæ¶ä¹å·å¤ä¸ä¸ªåç½®çãä½¿ç¨è½®è¯¢(round-robin)è´è½½ç®æ³çè´è½½åè¡¡å¨ãå¨åºç¨å¯å¨åï¼å°ä¼åeureka serveråéå¿è·³(é»è®¤å¨æä¸º30ç§)ãå¦æeureka serverå¨å¤ä¸ªå¿è·³å¨æåæ²¡ææ¥æ¶å°æä¸ªèç¹çå¿è·³ï¼eurekaserverå°ä¼ä»æå¡æ³¨åè¡¨ä¸­æè¿ä¸ªæå¡èç¹ç§»é¤ï¼é»è®¤90ç§ï¼ã\n\nä½æ¯ä¼å­å¨å½ç½ç»ååºåçæéï¼å¯¼è´è¯¥æ¶é´åæ²¡æå¿è·³è¿æ¥ï¼ä½è¯¥æå¡æ¬èº«è¿æ¯å¥åº·è¿è¡çæåµãeurekaéè¿âèªæä¿æ¤æ¨¡å¼âæ¥è§£å³è¿ä¸ªé®é¢ãå¨èªæä¿æ¤æ¨¡å¼ä¸­ï¼eureka serverä¼ä¿æ¤æå¡æ³¨åè¡¨ä¸­çä¿¡æ¯ï¼ä¸åæ³¨éä»»ä½æå¡å®ä¾ã\n\n\n# eurekaåæº\n\n\n# eurekaserveræ­å»º\n\nåå»ºä¸ä¸ªmavenæ¨¡åï¼æ·»å ä¾èµ\n\n\x3c!-- eureka-server --\x3e\n<dependency>\n    <groupid>org.springframework.cloud</groupid>\n    <artifactid>spring-cloud-starter-netflix-eureka-server</artifactid>\n</dependency>\n\n\x3c!-- cloud2018ä»¥åççæ¬ --\x3e\n<dependency>\n    <groupid>org.springframework.cloud</groupid>\n    <artifactid>spring-cloud-starter-eureka</artifactid>\n</dependency>\n\n\néç½®application.ymlæä»¶\n\n# ç«¯å£å·\nserver:\n  port: 7001\n\neureka:\n  instance:\n    hostname: localhost #eurekaæå¡ç«¯çå®ä¾åç§°\n  client:\n    #falseè¡¨ç¤ºä¸åæ³¨åä¸­å¿æ³¨åèªå·±ã\n    register-with-eureka: false\n    #falseè¡¨ç¤ºèªå·±ç«¯å°±æ¯æ³¨åä¸­å¿ï¼ç»´æ¤æå¡å®ä¾ï¼å¹¶ä¸éè¦å»æ£ç´¢æå¡\n    fetch-registry: false\n    service-url:\n      #è®¾ç½®ä¸eureka serveräº¤äºçå°åæ¥è¯¢æå¡åæ³¨åæå¡é½éè¦ä¾èµè¿ä¸ªå°åã\n      defaultzone: http://${eureka.instance.hostname}:${server.port}/eureka/\n                          #     æå localhost           æå  7001\n\n\nç¼åä¸»æ¹æ³\n\n@springbootapplication\n@enableeurekaserver // è¡¨ç¤ºè¿ä¸ªé¡¹ç®æ¯æå¡æ³¨åä¸­å¿\npublic class eurekamain {\n    public static void main(string[] args) {\n        springapplication.run(eurekamain.class, args);\n    }\n}\n\n\nå¯å¨è¯¥é¡¹ç®ï¼æ¾ç¤ºè¯¥é¡µé¢è¡¨ç¤ºæå¡æ³¨åä¸­å¿å¯å¨æå\n\n\n\n\n# eurekacilentæ­å»º\n\næ·»å ä¾èµ\n\n<dependency>\n    <groupid>org.springframework.cloud</groupid>\n    <artifactid>spring-cloud-starter-netflix-eureka-client</artifactid>\n</dependency>\n\n\x3c!-- cloud2018ä»¥åççæ¬ --\x3e\n<dependency>\n    <groupid>org.springframework.cloud</groupid>\n    <artifactid>spring-cloud-starter-eureka</artifactid>\n</dependency>\n\n\nå¨å¯å¨ç±»ä¸å å¥è¯¥æ³¨è§£\n\n// è¡¨ç¤ºè¿ä¸ªé¡¹ç®å¥é©»eureka\n@enableeurekaclient \n\n\nå¨application.ymlæä»¶ä¸­éç½®eureka\n\n# ç«¯å£å·\nserver:\n  port: 8001\n\n# æå¡å\nspring:\n  application:\n    # è¿éçåå­å°±æ¯æ³¨åè¿eurekaçæå¡å\n    name: cloud-payment-service \n\neureka:\n  client:\n    # è¡¨ç¤ºæ¯å¦å°èªå·±æ³¨åè¿eurekaserveré»è®¤ä¸ºtrueã\n    register-with-eureka: true\n    # æ¯å¦ä»eurekaserveræåå·²æçæ³¨åä¿¡æ¯ï¼é»è®¤ä¸ºtrueã\n    # åèç¹æ æè°ï¼éç¾¤å¿é¡»è®¾ç½®ä¸ºtrueæè½éåribbonä½¿ç¨è´è½½åè¡¡\n    fetchregistry: true\n    service-url:\n      defaultzone: http://localhost:7001/eureka\n                #   æåæå¡æ³¨åä¸­å¿çurl\n\n\nå¯å¨é¡¹ç®ï¼éè¦åå¯å¨eurekaçæå¡ç«¯ï¼è¿å¥æå¡ç«¯çæå¡æ³¨åä¸­å¿é¡µé¢ï¼çå°clientç«¯çæå¡åè¡¨ç¤ºæ³¨åæå\n\n\n\n\n# eurekaéç¾¤\n\neurekaæ¯springcloudåºç¨ä¸­çæ³¨åä¸­å¿ï¼ç¨æ¥æä¾æå¡æ³¨åä¸åç°åè½ãå¨å®éçäº§æ´»å¨ä¸­ï¼å¦æåæºé¨ç½²çeurekaæå¡åçå®æºï¼è½ç¶å·²æ³¨åå°eurekaçå¾®æå¡å¯ä»¥è¢«å¶å®¢æ·ç«¯è®°å½å¹¶ä¿çï¼ä½æ æ³åæä¾æéèç¹çåé¤ä¸æ°æå¡èç¹çåç°åè½ã\n\neurekaéç¾¤åå¯ä»¥åå»ºå¤ä¸ªeurekaåºç¨ï¼äºç¸ä¹é´åæ­¥å®¢æ·ç«¯æ³¨åä¿¡æ¯ï¼åå¯ä»¥ç¬ç«æä¾æå¡åç°ä¸æ³¨åæå¡ã\n\nå¶å®eurekaæ¬èº«å°±æ¯ä¸ºéç¾¤é¨ç½²èè®¾è®¡çï¼æä»¥é¨ç½²eurekaéç¾¤éè¦ä¿®æ¹çéç½®é¡¹å¹¶ä¸å¤ã\n\n\n\n\n# eurekaserveréç¾¤\n\n> äºç¸æ³¨åï¼ç¸äºå®æ\n\nå¨å­¦ä¹ é¶æ®µéç¾¤æ¯é¨ç½²å¨åä¸å°çµèä¸çï¼eurekaæå¡ç«¯çå®ä¾åç§°ä¼æ¯ä¸æ ·çï¼éè¦ä¿®æ¹ä¸ä¸ç³»ç»çæ å°éç½®ãå¨c:\\windows\\system32\\drivers\\etcæä»¶å¤¹ä¸æ¾å°hostsæä»¶ã\n\n\n\nå°èªå·±çéç¾¤ä¿¡æ¯è¿è¡éç½®è¿å»\n\n\n\nä¿®æ¹åæ¥çapplication.ymlæä»¶ï¼å°å¶åæ´ä¸ºéç¾¤çç¯å¢\n\n# ç«¯å£å·\nserver:\n  port: 7001\n\neureka:\n  instance:\n    # eurekaæå¡ç«¯çå®ä¾åç§°\n    hostname: eureka7001.com \n  client:\n    # falseè¡¨ç¤ºä¸åæ³¨åä¸­å¿æ³¨åèªå·±ã\n    register-with-eureka: false\n    # falseè¡¨ç¤ºèªå·±ç«¯å°±æ¯æ³¨åä¸­å¿ï¼æçèè´£å°±æ¯ç»´æ¤æå¡å®ä¾ï¼å¹¶ä¸éè¦å»æ£ç´¢æå¡\n    fetch-registry: false\n    service-url:\n      # è®¾ç½®ä¸eureka serveräº¤äºçå°åæ¥è¯¢æå¡åæ³¨åæå¡é½éè¦ä¾èµè¿ä¸ªå°åã\n      defaultzone: http://eureka7002.com:7002/eureka/\n                      # æå7002çæå¡ä¸­å¿\n\n\næ°å»ºä¸ä¸ªæ¨¡åï¼pom.xmlåä¸»å¯å¨ç±»ä¸åãapplication.ymléç½®ä¸º7002çæå¡ä¸­å¿\n\n# ç«¯å£å·\nserver:\n  port: 7002\n\neureka:\n  instance:\n    # eurekaæå¡ç«¯çå®ä¾åç§°\n    hostname: eureka7002.com \n  client:\n    #falseè¡¨ç¤ºä¸åæ³¨åä¸­å¿æ³¨åèªå·±ã\n    register-with-eureka: false\n    #falseè¡¨ç¤ºèªå·±ç«¯å°±æ¯æ³¨åä¸­å¿ï¼æçèè´£å°±æ¯ç»´æ¤æå¡å®ä¾ï¼å¹¶ä¸éè¦å»æ£ç´¢æå¡\n    fetch-registry: false\n    service-url:\n      #è®¾ç½®ä¸eureka serveräº¤äºçå°åæ¥è¯¢æå¡åæ³¨åæå¡é½éè¦ä¾èµè¿ä¸ªå°åã\n      defaultzone: http://eureka7001.com:7002/eureka/\n                          # æå7001æå¡ä¸­å¿\n\n\n> å°ç®åä¸ºæ­¢å°±åå»ºäºä¸¤ä¸ªeurekaæå¡ç«¯ï¼å¨service-urlä¸­ï¼7001å7002ç¸äºæåã\n\nå¯å¨ä¸¤ä¸ªæå¡ï¼è®¿é®\n\n\n\n\n\nå½7001å7002æå¡äºç¸æåçæ¶åï¼è¯´æéç¾¤æ­å»ºæå\n\n> ç¸äºæ³¨åï¼å¦æè¿æä¸å°eurekaæå¡ç«¯(7003)ï¼åå¨éç½®ymlæä»¶çæ¶åéè¦å°7001æå7002å7003\n\neureka:\n  client:\n    register-with-eureka: true\n    fetchregistry: true\n    service-url:\n      # éç¾¤\n      defaultzone: http://eureka7001.com:7001/eureka,http://eureka7002.com:7002/eureka\n\n\n\n\n# eurekacilentæ³¨åè¿serveréç¾¤\n\nå°æå¡æ³¨åä¸­å¿çurléç½®ä¸ºéç¾¤çurlå³å¯\n\n# defaultzone: http://localhost:7001/eureka  # åæºç\ndefaultzone: http://eureka7001.com:7001/eureka,http://eureka7002.com:7002/eureka  # éç¾¤ç\n\n\nä¸é¢æ¯å®æ´çymlæä»¶\n\n# ç«¯å£å·\nserver:\n  port: 8001\n\n# æå¡å\nspring:\n  application:\n    # è¿éçåå­å°±æ¯æ³¨åè¿eurekaçæå¡å\n    name: cloud-payment-service \n\neureka:\n  client:\n    #è¡¨ç¤ºæ¯å¦å°èªå·±æ³¨åè¿eurekaserveré»è®¤ä¸ºtrueã\n    register-with-eureka: true\n    #æ¯å¦ä»eurekaserveræåå·²æçæ³¨åä¿¡æ¯ï¼é»è®¤ä¸ºtrueã\n    #åèç¹æ æè°ï¼éç¾¤å¿é¡»è®¾ç½®ä¸ºtrueæè½éåribbonä½¿ç¨è´è½½åè¡¡\n    fetchregistry: true\n    service-url:\n#      defaultzone: http://localhost:7001/eureka  # åæºç\n      defaultzone: http://eureka7001.com:7001/eureka,http://eureka7002.com:7002/eureka  # éç¾¤ç\n                #   æåæå¡æ³¨åä¸­å¿çurl\n\n\nå°åä¸ªå¾®æå¡å¯å¨ï¼è¦åå¯å¨serveréç¾¤ï¼åå¯å¨clientæå¡\n\n\n\nè°ç¨æ¥å£æµè¯ï¼ä¸è¬å³å¯å¨æå\n\n\n\næ­¤æ¶ï¼æå¡ä¸­å¿æä¸¤ä¸ªï¼æå¡æä¾èç¡®åªæä¸ä¸ªï¼ä¸é¢æ­å»ºæå¡æä¾èçéç¾¤\n\n\n# eurekacilentéç¾¤\n\nåå»ºä¸ä¸ªç«¯å£å·ä¸º8002çæå¡æä¾æ¨¡åï¼\n\nserver:\n  port: 8002\n\nspring:\n  application:\n    name: cloud-payment-service\n\neureka:\n  client:\n    #è¡¨ç¤ºæ¯å¦å°èªå·±æ³¨åè¿eurekaserveré»è®¤ä¸ºtrueã\n    register-with-eureka: true\n    #æ¯å¦ä»eurekaserveræåå·²æçæ³¨åä¿¡æ¯ï¼é»è®¤ä¸ºtrueãåèç¹æ æè°ï¼éç¾¤å¿é¡»è®¾ç½®ä¸ºtrueæè½éåribbonä½¿ç¨è´è½½åè¡¡\n    fetchregistry: true\n    service-url:\n      #defaultzone: http://localhost:7001/eureka\n      defaultzone: http://eureka7001.com:7001/eureka,http://eureka7002.com:7002/eureka  # éç¾¤ç\n\n\næé¡ºåºæå¼æææå¡ï¼æ­¤æ¶å·²ç»æ³¨åäºä¸ä¸ªæå¡\n\n\n\n\n# è´è½½åè¡¡\n\n> ç°å¨çç³»ç»é»è¾æ¯ï¼orderæå¡ä½¿ç¨resttemplateè°ç¨paymentæå¡ï¼ä½ç°å¨paymentæä¸¤å°æºå¨ï¼ä¹åçåæ³æ¯ip+ç«¯å£å·åæ­»çï¼ç°å¨åéè¦è´è½½åè¡¡å°ä¸¤å°æºå¨ä¸ã\n\n    @getmapping("/consumer/payment/get/{id}")\n    public commonresult<payment> getpayment(@pathvariable("id") long id) {\n        return resttemplate.getforobject("http://localhost:8001/payment/get/" + id, commonresult.class);\n    }\n\n\nç°å¨æå¡æä¾èæä¸¤å°æºå¨ï¼å¯ä»¥è®©resttemplateå»éæ©è°ç¨åªä¸ä¸ªï¼å¯ä»¥å°è°ç¨åæ´ä¸ºï¼\n\nprivate static final string payment_url = "http://cloud-payment-service";\n\n@getmapping("/consumer/payment/get/{id}")\npublic commonresult<payment> getpayment(@pathvariable("id") long id) {\n    return resttemplate.getforobject(payment_url + "/payment/get/" + id, commonresult.class);\n}\n\n\nurlåæå¡åæ¯ç¸äºå¯¹åºç\n\n\n\nå ä¸ºä¸ä¸ªæå¡åä¸æå¤ä¸ªæå¡ï¼ä¿®æ¹å¥½ä¹åï¼éå¯ï¼æ­¤æ¶resttemplateå¹¶ä¸ç¥éå°åºè¦è°ç¨åªä¸ä¸ªï¼å°±ä¼æ¥éï¼\n\n\n\n**ç»resttemplateèµäºè´è½½åè¡¡çè½åï¼**å¨å£°æresttemplateçéç½®ç±»ä¸­ï¼å å¥@loadbalancedæ³¨è§£\n\n@configuration\npublic class applicationcontextconfig {\n    @bean\n    @loadbalanced   // èµäºresttemplateè´è½½åè¡¡çè½å\n    public resttemplate getresttemplate() {\n        return new resttemplate();\n    }\n}\n\n\nåæ¬¡éå¯åå°±å¯ä»¥éè¿æå¡åç§°ç´æ¥è°ç¨æå¡ï¼å¤æ¬¡è°ç¨è¯¥æ¥å£ï¼ä¼åç°æ¯äº¤æ¿(è½®è¯¢)çåæ¢ä¸¤ä¸ªæå¡æä¾èï¼æ­¤æ¶consumerå¯ä»¥ç´æ¥è°ç¨æå¡èä¸åå³å¿å°ååç«¯å£å·ï¼å¹¶ä¸è¯¥æå¡è¿å·å¤äºè´è½½åè¡¡çåè½\n\n\n\n\n# ä¿¡æ¯å®å\n\n\n# ä¿®æ¹æå¡å\n\nå¨eurekaä¸­ï¼æºå¨çåå­é»è®¤æ¾ç¤ºçæ¯ä¸»æºå:æå¡å:ç«¯å£å· ï¼å¯¹äºæå¡çæºå¨è¾¨è¯ä¼æ¯è¾æ¨¡ç³ï¼å¦ææ¯ä½¿ç¨â1å·æºâãâ5å·æºâç­ç±»ä¼¼çåç§°å¯è½æ´ç´è§ï¼å¦æææ­¤æ¹é¢çéæ±ï¼å¯ä»¥è¿è¡ä¿®æ¹æå¡åç§°ã\n\n\n\néè¦å¼å¥ä»¥ä¸ä¸¤ä¸ªä¾èµï¼\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-web</artifactid>\n</dependency>\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-actuator</artifactid>\n</dependency>\n\n\nä¸é¢æ¯ä¿®æ¹åçymlæä»¶ï¼\n\nserver:\n  port: 8001\n\nspring:\n  application:\n    name: cloud-payment-service\n\neureka:\n  client:\n    #è¡¨ç¤ºæ¯å¦å°èªå·±æ³¨åè¿eurekaserveré»è®¤ä¸ºtrueã\n    register-with-eureka: true\n    #æ¯å¦ä»eurekaserveræåå·²æçæ³¨åä¿¡æ¯ï¼é»è®¤ä¸ºtrueã\n    fetchregistry: true\n    service-url:\n      defaultzone: http://eureka7001.com:7001/eureka,http://eureka7002.com:7002/eureka\n  instance:\n      # è®¾ç½®eurekaæå¡æ³¨åä¸­å¿ä¸­çä¸»æºåç§°\n      instance-id: payment8001\n\n\nä¿®æ¹è¿åçæ ·å­ï¼\n\n\n\n\n# ipä¿¡æ¯æ¾ç¤º\n\nå¨ymlæä»¶ä¸­ä¿®æ¹éç½®ï¼\n\neureka:\n  client:\n    register-with-eureka: true\n    fetchregistry: true\n    service-url:\n      defaultzone: http://eureka7001.com:7001/eureka,http://eureka7002.com:7002/eureka\n  instance:\n      instance-id: payment8001\n      #è®¿é®è·¯å¾å¯ä»¥æ¾ç¤ºipå°å\n      prefer-ip-address: true\n\n\n\n\n\n# æå¡åç°discovery\n\nå¯¹äºæ³¨åè¿eurekaéé¢çå¾®æå¡ï¼å¯ä»¥éè¿æå¡åç°æ¥è·å¾è¯¥æå¡çä¿¡æ¯\n\nå¼å¯æå¡åç°@enablediscoveryclientï¼\n\n@springbootapplication\n@enableeurekaclient\n@enablediscoveryclient    // å¼å¯æå¡åç°\npublic class paymentmain8001 {\n    public static void main(string[] args) {\n        springapplication.run(paymentmain8001.class, args);\n    }\n}\n\n\nä¿®æ¹eurekuä¸­çå®¢æ·ç«¯controllerï¼\n\n@resource\nprivate discoveryclient discoveryclient;\n\n@getmapping("/payment/discovery")\npublic object discovery() {\n    // è·å¾æå¡æ¸ååè¡¨\n    list<string> services = discoveryclient.getservices();\n    for (string service : services) {\n        log.info("serviceï¼{}", service);\n    }\n    // ä¸ä¸ªå¾®æå¡åç§°ä¸é¢çææå®ä¾\n    list<serviceinstance> instances = discoveryclient.getinstances("cloud-payment-service");\n    for (serviceinstance instance : instances) {\n        log.info("{}\\t{}\\t{}\\t{}", instance.getinstanceid(), instance.gethost(), \n            instance.getport(), instance.geturi());\n    }\n    return this.discoveryclient;\n}\n\n\néè¿æå¡åç°ç±»discoveryclientçgetservices()æ¹æ³ï¼å¯ä»¥è·åå°æå¡çæ¸ååè¡¨\n\n\n\néè¿getinstances("cloud-payment-service");æ¹æ³å¯ä»¥å¾å°è¯¥æå¡åä¸çææå®ä¾çä¿¡æ¯ï¼è¯¥æ¹æ³çä¼ åå°±æ¯æå¡å\n\nä¸¤ä¸ªæ¹æ³çè°ç¨åè¾åºï¼çå°å¦ä¸ä¿¡æ¯ï¼\n\n\n\nèwebç«¯æå°çä¿¡æ¯åæ¯æå¡çåè¡¨ï¼orderè¡¨ç¤ºçæ¯å½åæå¡çé¡ºåº\n\n\n\n\n# èªæä¿æ¤\n\n> ææ¶å»æä¸ä¸ªå¾®æå¡ä¸å¯ç¨äºï¼eurekaä¸ä¼ç«å»æ¸çï¼ä¾æ§ä¼å¯¹è¯¥å¾®æå¡çä¿¡æ¯è¿è¡ä¿å­ãå±äºcapéé¢çapåæ¯ã\n\nä¿æ¤æ¨¡å¼ä¸»è¦ç¨äºä¸ç»å®¢æ·ç«¯åeureka serverä¹é´å­å¨ç½ç»ååºåºæ¯ä¸çä¿æ¤ãä¸æ¦è¿å¥ä¿æ¤æ¨¡å¼ï¼eureka serverå°ä¼å°è¯ä¿æ¤å¶æå¡æ³¨åè¡¨ä¸­çä¿¡æ¯ï¼ä¸åå é¤æå¡æ³¨åè¡¨ä¸­çæ°æ®ï¼ä¹å°±æ¯ä¸ä¼æ³¨éä»»ä½å¾®æå¡ã\n\nå¦æå¨eureka serverçé¦é¡µçå°ä»¥ä¸è¿æ®µæç¤ºï¼åè¯´æeurekaè¿å¥äºä¿æ¤æ¨¡å¼ï¼\n\n\n\nä¸ºä»ä¹ä¼äº§çeurekaèªæä¿æ¤æºå¶ï¼\n\n> ä¸ºäºé²æ­¢eurekaclientå¯ä»¥æ­£å¸¸è¿è¡ï¼ä½æ¯ä¸eurekaserverç½ç»ä¸éæåµä¸ï¼eurekaserverä¸ä¼ç«å»å°eurekaclientæå¡åé¤ã\n\nä»ä¹æ¯èªæä¿æ¤æ¨¡å¼ï¼\n\n> é»è®¤æåµä¸ï¼å¦æeurekaserverå¨ä¸å®æ¶é´åæ²¡ææ¥æ¶å°æä¸ªå¾®æå¡å®ä¾çå¿è·³ï¼eurekaserverå°ä¼æ³¨éè¯¥å®ä¾ï¼é»è®¤90ç§ï¼ãä½æ¯å½ç½ç»ååºæéåç(å»¶æ¶ãå¡é¡¿ãæ¥æ¤)æ¶ï¼å¾®æå¡ä¸eurekaserverä¹é´æ æ³æ­£å¸¸éä¿¡ï¼ä»¥ä¸è¡ä¸ºå¯è½åå¾éå¸¸å±é©äºââå ä¸ºå¾®æå¡æ¬èº«å¶å®æ¯å¥åº·çï¼æ­¤æ¶æ¬ä¸åºè¯¥æ³¨éè¿ä¸ªå¾®æå¡ãeurekaéè¿âèªæä¿æ¤æ¨¡å¼âæ¥è§£å³è¿ä¸ªé®é¢ââå½eurekaserverèç¹å¨ç­æ¶é´åä¸¢å¤±è¿å¤å®¢æ·ç«¯æ¶ï¼å¯è½åçäºç½ç»ååºæéï¼ï¼é£ä¹è¿ä¸ªèç¹å°±ä¼è¿å¥èªæä¿æ¤æ¨¡å¼ã\n\n\n\nå¨èªæä¿æ¤æ¨¡å¼ä¸­ï¼eureka serverä¼ä¿æ¤æå¡æ³¨åè¡¨ä¸­çä¿¡æ¯ï¼ä¸åæ³¨éä»»ä½æå¡å®ä¾ãå®çè®¾è®¡å²å­¦å°±æ¯å®å¯ä¿çéè¯¯çæå¡æ³¨åä¿¡æ¯ï¼ä¹ä¸ç²ç®æ³¨éä»»ä½å¯è½å¥åº·çæå¡å®ä¾ã\n\nç»¼ä¸ï¼èªæä¿æ¤æ¨¡å¼æ¯ä¸ç§åºå¯¹ç½ç»å¼å¸¸çå®å¨ä¿æ¤æªæ½ãå®çæ¶æå²å­¦æ¯å®å¯åæ¶ä¿çææå¾®æå¡ï¼å¥åº·çå¾®æå¡åä¸å¥åº·çå¾®æå¡é½ä¼ä¿çï¼ä¹ä¸ç²ç®æ³¨éä»»ä½å¥åº·çå¾®æå¡ãä½¿ç¨èªæä¿æ¤æ¨¡å¼ï¼å¯ä»¥è®©eurekaéç¾¤æ´å çå¥å£®ãç¨³å®ã\n\n\n# ç¦æ­¢èªæä¿æ¤\n\n# æå¡ç«¯éç½®\n\nå¨application.ymlæä»¶ä¸­å å¥éç½®\n\neureka:\n  instance:\n    hostname: eureka7001.com\n  client:\n    register-with-eureka: false\n    fetch-registry: false\n    service-url:\n      defaultzone: http://eureka7002.com:7002/eureka/\n# ####################ç¦æ­¢èªæä¿æ¤####################\n  server:\n    # å³é­èªæä¿æ¤æºå¶ï¼ä¿è¯ä¸å¯ç¨æå¡è¢«åæ¶æ¸é¤\n    enable-self-preservation: false\n    # 2000æ¯«ç§æ²¡æååºå°±æ¸é¤\n    eviction-interval-timer-in-ms: 2000\n\n\néç½®å¥½åï¼å°±è½å¨eurekaçé¡µé¢çå°å¦ä¸ä¿¡æ¯ï¼\n\n\n\n# å®¢æ·ç«¯éç½®\n\nå¨application.ymléç½®æä»¶ä¸­è¿è¡éç½®ï¼\n\neureka:\n  client:\n    register-with-eureka: true\n    fetchregistry: true\n    service-url:\n      defaultzone: http://eureka7001.com:7001/eureka,http://eureka7002.com:7002/eureka\n  instance:\n    instance-id: payment8001\n    prefer-ip-address: true\n    # ####################è®¾ç½®å¿è·³æ¶é´####################\n    # eurekaå®¢æ·ç«¯åæå¡ç«¯åéå¿è·³çæ¶é´é´éï¼åä½ä¸ºç§(é»è®¤æ¯30ç§)\n    lease-renewal-interval-in-seconds: 1\n    # eurekaæå¡ç«¯å¨æ¶å°æåä¸æ¬¡å¿è·³åç­å¾æ¶é´ä¸éï¼åä½ä¸ºç§(é»è®¤æ¯90ç§)ï¼è¶æ¶å°åé¤æå¡\n    lease-expiration-duration-in-seconds: 2\n\n\néç½®æååéå¯åç°8001æå¡å·²ç»è¢«æ³¨åè¿äºeureka\n\n\n\nåè®¾ç°å¨8001åºç°é®é¢(å³é­8001æå¡)ï¼æ­¤æ¶å¯ä»¥çå°8001æå¡ç«å»è¢«æ¸é¤ï¼ä¸åè¿è¡èªæä¿æ¤æºå¶\n\n',charsets:{cjk:!0},lastUpdated:"2022/11/30, 16:24:57",lastUpdatedTimestamp:1669796697e3},{title:"Redisæ¦è¿°&å®è£",frontmatter:{title:"Redisæ¦è¿°&å®è£",date:"2022-11-25T14:27:01.000Z",permalink:"/pages/bp3ikv4g",categories:["æ°æ®åº"],tags:["Redis"],author:{name:"ä¹æ¨åç"}},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/02.Redis/01.Redis%E6%A6%82%E8%BF%B0&%E5%AE%89%E8%A3%85.html",relativePath:"03.æ°æ®åº/02.Redis/01.Redisæ¦è¿°&å®è£.md",key:"v-73a2391c",path:"/pages/bp3ikv4g/",headers:[{level:2,title:"ä»ä¹æ¯Redis",slug:"ä»ä¹æ¯redis",normalizedTitle:"ä»ä¹æ¯redis",charIndex:2},{level:2,title:"Redisçåºç¨åºæ¯",slug:"redisçåºç¨åºæ¯",normalizedTitle:"redisçåºç¨åºæ¯",charIndex:495},{level:2,title:"Rediså®è£",slug:"rediså®è£",normalizedTitle:"rediså®è£",charIndex:648},{level:2,title:"Rediså¸¸ç¨å½ä»¤",slug:"rediså¸¸ç¨å½ä»¤",normalizedTitle:"rediså¸¸ç¨å½ä»¤",charIndex:1309},{level:3,title:"åå°å¯å¨ï¼ä¸æ¨èï¼",slug:"åå°å¯å¨-ä¸æ¨è",normalizedTitle:"åå°å¯å¨ï¼ä¸æ¨èï¼",charIndex:1323},{level:3,title:"åå°å¯å¨ï¼æ¨èï¼",slug:"åå°å¯å¨-æ¨è",normalizedTitle:"åå°å¯å¨ï¼æ¨èï¼",charIndex:1352},{level:3,title:"å®¢æ·ç«¯",slug:"å®¢æ·ç«¯",normalizedTitle:"å®¢æ·ç«¯",charIndex:1296},{level:3,title:"å³é­Redis",slug:"å³é­redis",normalizedTitle:"å³é­redis",charIndex:1636}],excerpt:'<h2 id="ä»ä¹æ¯redis"><a class="header-anchor" href="#ä»ä¹æ¯redis">#</a> ä»ä¹æ¯Redis</h2>\n<p>Redisæ¯ç¨Cè¯­è¨å¼åçä¸ä¸ªå¼æºçé«æ§è½é®å¼å¯¹ï¼key-valueï¼æ°æ®åºï¼Rediséè¿æä¾å¤ç§é®å¼æ°æ®ç±»åæ¥éåºä¸ååºæ¯ä¸çå­å¨éæ±ã</p>\n',headersStr:"ä»ä¹æ¯Redis Redisçåºç¨åºæ¯ Rediså®è£ Rediså¸¸ç¨å½ä»¤ åå°å¯å¨ï¼ä¸æ¨èï¼ åå°å¯å¨ï¼æ¨èï¼ å®¢æ·ç«¯ å³é­Redis",content:"# ä»ä¹æ¯Redis\n\nRedisæ¯ç¨Cè¯­è¨å¼åçä¸ä¸ªå¼æºçé«æ§è½é®å¼å¯¹ï¼key-valueï¼æ°æ®åºï¼Rediséè¿æä¾å¤ç§é®å¼æ°æ®ç±»åæ¥éåºä¸ååºæ¯ä¸çå­å¨éæ±ã\n\nç®åä¸ºæ­¢Redisæ¯æçé®å¼æ°æ®ç±»åå¦ä¸ï¼\n\n * å­ç¬¦ä¸²ç±»å string\n * åå¸ç±»å hash\n * åè¡¨ç±»å list\n * éåç±»å set\n * æåºéåç±»å sortedset\n\nè¿äºæ°æ®ç±»åé½æ¯æpush/popãadd/removeååäº¤éå¹¶éåå·®éåæ´ä¸°å¯çæä½ï¼èä¸è¿äºæä½é½æ¯åå­æ§çï¼å¹¶æ¯æåç§ä¸åæ¹å¼çæåºã\n\nRedisæ°æ®æ¯ç¼å­å¨åå­ä¸­ï¼ä¼å¨ææ§çææ´æ°çæ°æ®åå¥ç£çæèæä¿®æ¹æä½åå¥è¿½å çè®°å½æä»¶ãå¹¶ä¸å¨æ­¤åºç¡ä¸å®ç°äºmaster-slave(ä¸»ä»)åæ­¥ã\n\nRedisæ¯åçº¿ç¨+å¤è·¯IOå¤ç¨ææ¯\n\n> å¤è·¯å¤ç¨æ¯æä½¿ç¨ä¸ä¸ªçº¿ç¨æ¥æ£æ¥å¤ä¸ªæä»¶æè¿°ç¬¦ï¼Socketï¼çå°±ç»ªç¶æï¼æ¯å¦è°ç¨selectåpollå½æ°ï¼ä¼ å¥å¤ä¸ªæä»¶æè¿°ç¬¦ï¼å¦ææä¸ä¸ªæä»¶æè¿°ç¬¦å°±ç»ªï¼åè¿åï¼å¦åé»å¡ç´å°è¶æ¶ãå¾å°å°±ç»ªç¶æåè¿è¡çæ­£çæä½å¯ä»¥å¨åä¸ä¸ªçº¿ç¨éæ§è¡ï¼ä¹å¯ä»¥å¯å¨çº¿ç¨æ§è¡ï¼æ¯å¦ä½¿ç¨çº¿ç¨æ± ï¼ã\n\n\n# Redisçåºç¨åºæ¯\n\n * éåå³ç³»åæ°æ®åºåé«éç¼å­ï¼æ°æ®æ¥è¯¢ãç­è¿æ¥ãæ°é»åå®¹ãåååå®¹ç­ç­ï¼\n * èå¤©å®¤çå¨çº¿å¥½ååè¡¨\n * ä»»å¡éåãï¼ç§æãæ¢è´­ã12306ç­ç­ï¼\n * åºç¨æè¡æ¦\n * ç½ç«è®¿é®ç»è®¡\n * æ°æ®è¿æå¤çï¼å¯ä»¥ç²¾ç¡®å°æ¯«ç§ï¼\n * åå¸å¼éç¾¤æ¶æä¸­çsessionåç¦»\n\n\n# Rediså®è£\n\n * å®ç½ï¼https://redis.io\n * ä¸­æç½ï¼http://www.redis.net.cn\n\nè¿éå®è£6.2.1 for Linux çæ¬\n\nå®è£GCC\n\nyum install centos-release-scl scl-utils-build\nyum install -y devtoolset-8-toolchain\nscl enable devtoolset-8 bash\n\n\næµè¯** gccçæ¬**\n\ngcc --version\n\n\nä¸è½½redis-6.2.1.tar.gzæ¾/optç®å½\n\nè§£åï¼å¹¶è¿å¥æä»¶å¤¹\n\ntar -zxvf redis-6.2.1.tar.gz\ncd redis-6.2.1\n\n\nå¨redis-6.2.1ç®å½ä¸æ§è¡å½ä»¤ï¼\n\nmake\nmake install\n\n\nå¦ææ²¡æåå¤å¥½Cè¯­è¨ç¼è¯ç¯å¢ï¼makeä¼æ¥éï¼Jemalloc/jemalloc.hï¼æ²¡æé£ä¸ªæä»¶ ï¼è¿æ¶æ§è¡make distclean å½ä»¤ååæ§è¡make å½ä»¤ã\n\nè¿å¥å®è£ç®å½ï¼\n\ncd /usr/local/bin\n\n\n * redis-benchmarkï¼æ§è½æµè¯å·¥å·\n * redis-check-aofï¼ä¿®å¤æé®é¢çAOFæä»¶\n * redis-check-dumpï¼ä¿®å¤æé®é¢çdump.rdbæä»¶\n * redis-sentinelï¼Rediséç¾¤ä½¿ç¨\n * redis-serverï¼Redisæå¡å¨å¯å¨å½ä»¤\n * redis-cliï¼å®¢æ·ç«¯ï¼æä½å¥å£\n\n\n# Rediså¸¸ç¨å½ä»¤\n\n\n# åå°å¯å¨ï¼ä¸æ¨èï¼\n\nredis-server\n\n\n\n# åå°å¯å¨ï¼æ¨èï¼\n\nå¤ä»½redis.confæä»¶ï¼æ·è´ä¸ä»½å°å¶ä»ç®å½\n\nmkdir /home/data\nmkdir /home/data/redis\ncp /opt/redis-6.2.1/redis.conf /home/data/redis\n\n\nä¿®æ¹redis.conf(128è¡)æä»¶å°éé¢çdaemonize noæ¹æyesï¼è®©æå¡å¨åå°å¯å¨ã\n\n\n\nå¯å¨Redisï¼\n\nredis-server /home/data/redis/redis.conf\n\n\n\n# å®¢æ·ç«¯\n\nredis-cli\n\n\næå®ç«¯å£ï¼\n\nredis-cli -p 6379\n\n\n\n# å³é­Redis\n\nåå®ä¾å³é­ï¼\n\nredis-cli shutdown\n\n\næå®ç«¯å£å³é­ï¼\n\nredis-cli -p 6379 shutdown\n\n\nè¿å¥Redisåå³é­ï¼\n\nshutdown\n\n\n",normalizedContent:"# ä»ä¹æ¯redis\n\nredisæ¯ç¨cè¯­è¨å¼åçä¸ä¸ªå¼æºçé«æ§è½é®å¼å¯¹ï¼key-valueï¼æ°æ®åºï¼rediséè¿æä¾å¤ç§é®å¼æ°æ®ç±»åæ¥éåºä¸ååºæ¯ä¸çå­å¨éæ±ã\n\nç®åä¸ºæ­¢redisæ¯æçé®å¼æ°æ®ç±»åå¦ä¸ï¼\n\n * å­ç¬¦ä¸²ç±»å string\n * åå¸ç±»å hash\n * åè¡¨ç±»å list\n * éåç±»å set\n * æåºéåç±»å sortedset\n\nè¿äºæ°æ®ç±»åé½æ¯æpush/popãadd/removeååäº¤éå¹¶éåå·®éåæ´ä¸°å¯çæä½ï¼èä¸è¿äºæä½é½æ¯åå­æ§çï¼å¹¶æ¯æåç§ä¸åæ¹å¼çæåºã\n\nredisæ°æ®æ¯ç¼å­å¨åå­ä¸­ï¼ä¼å¨ææ§çææ´æ°çæ°æ®åå¥ç£çæèæä¿®æ¹æä½åå¥è¿½å çè®°å½æä»¶ãå¹¶ä¸å¨æ­¤åºç¡ä¸å®ç°äºmaster-slave(ä¸»ä»)åæ­¥ã\n\nredisæ¯åçº¿ç¨+å¤è·¯ioå¤ç¨ææ¯\n\n> å¤è·¯å¤ç¨æ¯æä½¿ç¨ä¸ä¸ªçº¿ç¨æ¥æ£æ¥å¤ä¸ªæä»¶æè¿°ç¬¦ï¼socketï¼çå°±ç»ªç¶æï¼æ¯å¦è°ç¨selectåpollå½æ°ï¼ä¼ å¥å¤ä¸ªæä»¶æè¿°ç¬¦ï¼å¦ææä¸ä¸ªæä»¶æè¿°ç¬¦å°±ç»ªï¼åè¿åï¼å¦åé»å¡ç´å°è¶æ¶ãå¾å°å°±ç»ªç¶æåè¿è¡çæ­£çæä½å¯ä»¥å¨åä¸ä¸ªçº¿ç¨éæ§è¡ï¼ä¹å¯ä»¥å¯å¨çº¿ç¨æ§è¡ï¼æ¯å¦ä½¿ç¨çº¿ç¨æ± ï¼ã\n\n\n# redisçåºç¨åºæ¯\n\n * éåå³ç³»åæ°æ®åºåé«éç¼å­ï¼æ°æ®æ¥è¯¢ãç­è¿æ¥ãæ°é»åå®¹ãåååå®¹ç­ç­ï¼\n * èå¤©å®¤çå¨çº¿å¥½ååè¡¨\n * ä»»å¡éåãï¼ç§æãæ¢è´­ã12306ç­ç­ï¼\n * åºç¨æè¡æ¦\n * ç½ç«è®¿é®ç»è®¡\n * æ°æ®è¿æå¤çï¼å¯ä»¥ç²¾ç¡®å°æ¯«ç§ï¼\n * åå¸å¼éç¾¤æ¶æä¸­çsessionåç¦»\n\n\n# rediså®è£\n\n * å®ç½ï¼https://redis.io\n * ä¸­æç½ï¼http://www.redis.net.cn\n\nè¿éå®è£6.2.1 for linux çæ¬\n\nå®è£gcc\n\nyum install centos-release-scl scl-utils-build\nyum install -y devtoolset-8-toolchain\nscl enable devtoolset-8 bash\n\n\næµè¯** gccçæ¬**\n\ngcc --version\n\n\nä¸è½½redis-6.2.1.tar.gzæ¾/optç®å½\n\nè§£åï¼å¹¶è¿å¥æä»¶å¤¹\n\ntar -zxvf redis-6.2.1.tar.gz\ncd redis-6.2.1\n\n\nå¨redis-6.2.1ç®å½ä¸æ§è¡å½ä»¤ï¼\n\nmake\nmake install\n\n\nå¦ææ²¡æåå¤å¥½cè¯­è¨ç¼è¯ç¯å¢ï¼makeä¼æ¥éï¼jemalloc/jemalloc.hï¼æ²¡æé£ä¸ªæä»¶ ï¼è¿æ¶æ§è¡make distclean å½ä»¤ååæ§è¡make å½ä»¤ã\n\nè¿å¥å®è£ç®å½ï¼\n\ncd /usr/local/bin\n\n\n * redis-benchmarkï¼æ§è½æµè¯å·¥å·\n * redis-check-aofï¼ä¿®å¤æé®é¢çaofæä»¶\n * redis-check-dumpï¼ä¿®å¤æé®é¢çdump.rdbæä»¶\n * redis-sentinelï¼rediséç¾¤ä½¿ç¨\n * redis-serverï¼redisæå¡å¨å¯å¨å½ä»¤\n * redis-cliï¼å®¢æ·ç«¯ï¼æä½å¥å£\n\n\n# rediså¸¸ç¨å½ä»¤\n\n\n# åå°å¯å¨ï¼ä¸æ¨èï¼\n\nredis-server\n\n\n\n# åå°å¯å¨ï¼æ¨èï¼\n\nå¤ä»½redis.confæä»¶ï¼æ·è´ä¸ä»½å°å¶ä»ç®å½\n\nmkdir /home/data\nmkdir /home/data/redis\ncp /opt/redis-6.2.1/redis.conf /home/data/redis\n\n\nä¿®æ¹redis.conf(128è¡)æä»¶å°éé¢çdaemonize noæ¹æyesï¼è®©æå¡å¨åå°å¯å¨ã\n\n\n\nå¯å¨redisï¼\n\nredis-server /home/data/redis/redis.conf\n\n\n\n# å®¢æ·ç«¯\n\nredis-cli\n\n\næå®ç«¯å£ï¼\n\nredis-cli -p 6379\n\n\n\n# å³é­redis\n\nåå®ä¾å³é­ï¼\n\nredis-cli shutdown\n\n\næå®ç«¯å£å³é­ï¼\n\nredis-cli -p 6379 shutdown\n\n\nè¿å¥redisåå³é­ï¼\n\nshutdown\n\n\n",charsets:{cjk:!0},lastUpdated:"2022/11/25, 18:48:06",lastUpdatedTimestamp:1669373286e3},{title:"SpringCloud Consul",frontmatter:{title:"SpringCloud Consul",date:"2022-12-15T19:42:02.000Z",permalink:"/pages/yuu0dk4i/",categories:["Springçæ"],tags:["SpringCloud"],author:{name:"ä¹æ¨åç"}},regularPath:"/02.Java%E6%A1%86%E6%9E%B6/01.SpringCloud/03.SpringCloud%20Consul.html",relativePath:"02.Javaæ¡æ¶/01.SpringCloud/03.SpringCloud Consul.md",key:"v-2e82d988",path:"/pages/yuu0dk4i/",headers:[{level:2,title:"Consulæ¦è¿°",slug:"consulæ¦è¿°",normalizedTitle:"consulæ¦è¿°",charIndex:2},{level:2,title:"ä¸è½½&å®è£",slug:"ä¸è½½-å®è£",normalizedTitle:"ä¸è½½&amp;å®è£",charIndex:null},{level:2,title:"æå¡æä¾è",slug:"æå¡æä¾è",normalizedTitle:"æå¡æä¾è",charIndex:675},{level:2,title:"æå¡æ¶è´¹è",slug:"æå¡æ¶è´¹è",normalizedTitle:"æå¡æ¶è´¹è",charIndex:1770},{level:2,title:"ä¸ä¸ªæ³¨åä¸­å¿å¼åç¹",slug:"ä¸ä¸ªæ³¨åä¸­å¿å¼åç¹",normalizedTitle:"ä¸ä¸ªæ³¨åä¸­å¿å¼åç¹",charIndex:2705},{level:2,title:"CAP",slug:"cap",normalizedTitle:"cap",charIndex:2735},{level:3,title:"ç»å¸CAPå¾",slug:"ç»å¸capå¾",normalizedTitle:"ç»å¸capå¾",charIndex:3040},{level:3,title:"AP(Eureka)",slug:"ap-eureka",normalizedTitle:"ap(eureka)",charIndex:3287},{level:3,title:"CP(Zookeeper/Consul)",slug:"cp-zookeeper-consul",normalizedTitle:"cp(zookeeper/consul)",charIndex:3375}],excerpt:'<h2 id="consulæ¦è¿°"><a class="header-anchor" href="#consulæ¦è¿°">#</a> Consulæ¦è¿°</h2>\n<p>Consul æ¯ä¸å¥å¼æºçåå¸å¼æå¡åç°åéç½®ç®¡çç³»ç»ï¼ç± HashiCorp å¬å¸ç¨ Go è¯­è¨å¼åã</p>\n<p>æä¾äºå¾®æå¡ç³»ç»ä¸­çæå¡æ²»çãéç½®ä¸­å¿ãæ§å¶æ»çº¿ç­åè½ãè¿äºåè½ä¸­çæ¯ä¸ä¸ªé½å¯ä»¥æ ¹æ®éè¦åç¬ä½¿ç¨ï¼ä¹å¯ä»¥ä¸èµ·ä½¿ç¨ä»¥æå»ºå¨æ¹ä½çæå¡ç½æ ¼ï¼æ»ä¹Consulæä¾äºä¸ç§å®æ´çæå¡ç½æ ¼è§£å³æ¹æ¡ã</p>\n<p>å®å·æå¾å¤ä¼ç¹ãåæ¬ï¼åºäºraftåè®®ï¼æ¯è¾ç®æ´ï¼ æ¯æå¥åº·æ£æ¥ï¼åæ¶æ¯æ HTTP å DNS åè®®ï¼æ¯æè·¨æ°æ®ä¸­å¿ç WAN éç¾¤ï¼æä¾å¾å½¢çé¢ï¼è·¨å¹³å°ï¼æ¯æ LinuxãMacãWindowsã</p>\n<p>å®ç½ï¼<a href="https://developer.hashicorp.com/consul/docs/intro" target="_blank" rel="noopener noreferrer">https://developer.hashicorp.com/consul/docs/intro<OutboundLink/></a></p>\n',headersStr:"Consulæ¦è¿° ä¸è½½&å®è£ æå¡æä¾è æå¡æ¶è´¹è ä¸ä¸ªæ³¨åä¸­å¿å¼åç¹ CAP ç»å¸CAPå¾ AP(Eureka) CP(Zookeeper/Consul)",content:'# Consulæ¦è¿°\n\nConsul æ¯ä¸å¥å¼æºçåå¸å¼æå¡åç°åéç½®ç®¡çç³»ç»ï¼ç± HashiCorp å¬å¸ç¨ Go è¯­è¨å¼åã\n\næä¾äºå¾®æå¡ç³»ç»ä¸­çæå¡æ²»çãéç½®ä¸­å¿ãæ§å¶æ»çº¿ç­åè½ãè¿äºåè½ä¸­çæ¯ä¸ä¸ªé½å¯ä»¥æ ¹æ®éè¦åç¬ä½¿ç¨ï¼ä¹å¯ä»¥ä¸èµ·ä½¿ç¨ä»¥æå»ºå¨æ¹ä½çæå¡ç½æ ¼ï¼æ»ä¹Consulæä¾äºä¸ç§å®æ´çæå¡ç½æ ¼è§£å³æ¹æ¡ã\n\nå®å·æå¾å¤ä¼ç¹ãåæ¬ï¼åºäºraftåè®®ï¼æ¯è¾ç®æ´ï¼ æ¯æå¥åº·æ£æ¥ï¼åæ¶æ¯æ HTTP å DNS åè®®ï¼æ¯æè·¨æ°æ®ä¸­å¿ç WAN éç¾¤ï¼æä¾å¾å½¢çé¢ï¼è·¨å¹³å°ï¼æ¯æ LinuxãMacãWindowsã\n\nå®ç½ï¼https://developer.hashicorp.com/consul/docs/intro\n\nSpringCloud Consul å·æå¦ä¸ç¹æ§ï¼\n\n\n\n * æå¡åç°ï¼æä¾HTTPåDNSä¸¤ç§åç°æ¹å¼ã\n * å¥åº·çæµï¼æ¯æå¤ç§æ¹å¼ï¼HTTPãTCPãDockerãShellèæ¬å®å¶åçæ§\n * KVå­å¨ï¼KeyãValueçå­å¨æ¹å¼\n * å¤æ°æ®ä¸­å¿ï¼Consulæ¯æå¤æ°æ®ä¸­å¿\n * å¯è§åWebçé¢\n\n\n# ä¸è½½&å®è£\n\nä¸è½½å°åï¼https://www.consul.io/downloads.html\n\nä¸­æææ¡£ï¼https://www.springcloud.cc/spring-cloud-consul.html\n\nä¸è½½åæ¥ççæ¬å·ï¼\n\n\n\nä½¿ç¨å¼åæ¨¡å¼å¯å¨ï¼\n\nconsul agent -dev\n\n\n\n\néè¿http://localhost:8500è®¿é®Consulçé¦é¡µï¼\n\n\n\n\n# æå¡æä¾è\n\næ°å»ºä¸ä¸ªmavenå·¥ç¨ï¼æ·»å ç¸å³ä¾èµ\n\n\x3c!--SpringCloud consul-server --\x3e\n<dependency>\n    <groupId>org.springframework.cloud</groupId>\n    <artifactId>spring-cloud-starter-consul-discovery</artifactId>\n</dependency>\n\n\néç½®ymlæä»¶ï¼\n\n# consulæå¡ç«¯å£å·\nserver:\n  port: 8006\n\nspring:\n  application:\n    name: consul-provider-payment\n\n# consulæ³¨åä¸­å¿å°å\n  cloud:\n    consul:\n      host: localhost\n      port: 8500\n      discovery:\n        #hostname: 127.0.0.1\n        service-name: ${spring.application.name}\n\n\nä¸»å¯å¨ç±»ï¼\n\n@SpringBootApplication\n@EnableDiscoveryClient //è¯¥æ³¨è§£ç¨äºåä½¿ç¨consulæèzookeeperä½ä¸ºæ³¨åä¸­å¿æ¶æ³¨åæå¡\npublic class PaymentMain8006 {\n    public static void main(String[] args) {\n        SpringApplication.run(PaymentMain8006.class, args);\n    }\n}\n\n\nControllerï¼éä¾¿åä¸ä¸ªæ¥å£ï¼ä»¥æ£æ¥æ¯å¦æ³¨åè¿consulæå¡ï¼\n\n@RestController\npublic class PaymentController {\n    @Value("${server.port}")\n    private String serverPort;\n\n    @RequestMapping(value = "/payment/consul")\n    public String paymentConsul() {\n        return "springcloud with consul: " + serverPort + "\\t   " + UUID.randomUUID();\n    }\n}\n\n\nå¯å¨é¡¹ç®ï¼å¯ä»¥å¨Consulçç®¡çé¡µé¢çå°è¯¥æå¡ï¼\n\n\n\nè°ç¨æ¥å£ï¼ä¹æ¯æåçï¼\n\n\n\n\n# æå¡æ¶è´¹è\n\nåå»ºä¸ä¸ªMavenå·¥ç¨ï¼pomæä»¶åä¸é¢çæå¡æä¾èä¸æ ·ï¼\n\néç½®ymlæä»¶ï¼\n\n# consulæå¡ç«¯å£å·\nserver:\n  port: 80\n\nspring:\n  application:\n    name: cloud-consumer-order\n\n# consulæ³¨åä¸­å¿å°å\n  cloud:\n    consul:\n      host: localhost\n      port: 8500\n      discovery:\n        #hostname: 127.0.0.1\n        service-name: ${spring.application.name}\n\n\nä¸»å¯å¨ç±»å ä¸@EnableDiscoveryClient æ³¨è§£ã\n\nå°RestTemplateå å¥å°å®¹å¨ã\n\n@Bean\n@LoadBalanced\npublic RestTemplate getRestTemplate() {\n    return new RestTemplate();\n}\n\n\nä½¿ç¨RestTemplateè°ç¨æå¡æä¾èçæ¥å£ï¼\n\n@RestController\npublic class OrderConsulController {\n    public static final String INVOKE_URL = "http://consul-provider-payment";\n\n    @Resource\n    private RestTemplate restTemplate;\n\n    @GetMapping(value = "/consumer/payment/consul")\n    public String paymentInfo() {\n        String result = restTemplate.getForObject(INVOKE_URL + "/payment/consul", String.class);\n        return result;\n    }\n}\n\n\nå¯å¨é¡¹ç®ï¼æå¡æ¶è´¹èä¹æ³¨åè¿äºConsulä¸­ï¼å¹¶ä¸è°ç¨æå¡æ¶è´¹èçæ¥å£æåï¼\n\n\n\n\n\n\n# ä¸ä¸ªæ³¨åä¸­å¿å¼åç¹\n\nç»ä»¶å         è¯­è¨     CAP   æå¡å¥åº·æ£æ¥   å¯¹å¤æ´é²æ¥å£     SPRINGCLOUDéæ\nEureka      Java   AP    å¯éæ¯æ     HTTP       å·²éæ\nConsul      Go     CP    æ¯æ       HTTP/DNS   å·²éæ\nZookeeper   Java   CP    æ¯æ       å®¢æ·ç«¯        å·²éæ\n\n\n# CAP\n\n * Cï¼Consistencyï¼å¼ºä¸è´æ§ï¼\n * Aï¼Availabilityï¼å¯ç¨æ§ï¼\n * Pï¼Partition toleranceï¼ååºå®¹éæ§ï¼\n\nCAPçè®ºå³æ³¨ç²åº¦æ¯æ°æ®ï¼èä¸æ¯æ´ä½ç³»ç»è®¾è®¡çç­ç¥\n\n\n# ç»å¸CAPå¾\n\næå¤åªè½åæ¶è¾å¥½çæ»¡è¶³ä¸¤ä¸ªã\n\nCAPçè®ºçæ ¸å¿æ¯ï¼ä¸ä¸ªåå¸å¼ç³»ç»ä¸å¯è½åæ¶å¾å¥½çæ»¡è¶³ä¸è´æ§ï¼å¯ç¨æ§åååºå®¹éæ§è¿ä¸ä¸ªéæ±ï¼å æ­¤ï¼æ ¹æ® CAP åçå° NoSQL æ°æ®åºåæäºæ»¡è¶³ CA ååãæ»¡è¶³ CP åååæ»¡è¶³ AP ååä¸ å¤§ç±»ï¼\n\n * CA - åç¹éç¾¤ï¼æ»¡è¶³ä¸è´æ§ï¼å¯ç¨æ§çç³»ç»ï¼éå¸¸å¨å¯æ©å±æ§ä¸ä¸å¤ªå¼ºå¤§ã\n * CP - æ»¡è¶³ä¸è´æ§ï¼ååºå®¹å¿å¿çç³»ç»ï¼éå¸¸æ§è½ä¸æ¯ç¹å«é«ã\n * AP - æ»¡è¶³å¯ç¨æ§ï¼ååºå®¹å¿æ§çç³»ç»ï¼éå¸¸å¯è½å¯¹ä¸è´æ§è¦æ±ä½ä¸äºã\n\n\n\n\n# AP(Eureka)\n\nå½ç½ç»ååºåºç°åï¼ä¸ºäºä¿è¯å¯ç¨æ§ï¼ç³»ç»Bå¯ä»¥è¿åæ§å¼ï¼ä¿è¯ç³»ç»çå¯ç¨æ§ã\n\n> ç»è®ºï¼è¿èäºä¸è´æ§Cçè¦æ±ï¼åªæ»¡è¶³å¯ç¨æ§åååºå®¹éï¼å³AP\n\n\n\n\n# CP(Zookeeper/Consul)\n\nå½ç½ç»ååºåºç°åï¼ä¸ºäºä¿è¯ä¸è´æ§ï¼å°±å¿é¡»ææ¥è¯·æ±ï¼å¦åæ æ³ä¿è¯ä¸è´æ§\n\n> ç»è®ºï¼è¿èäºå¯ç¨æ§Açè¦æ±ï¼åªæ»¡è¶³ä¸è´æ§åååºå®¹éï¼å³CP\n\n',normalizedContent:'# consulæ¦è¿°\n\nconsul æ¯ä¸å¥å¼æºçåå¸å¼æå¡åç°åéç½®ç®¡çç³»ç»ï¼ç± hashicorp å¬å¸ç¨ go è¯­è¨å¼åã\n\næä¾äºå¾®æå¡ç³»ç»ä¸­çæå¡æ²»çãéç½®ä¸­å¿ãæ§å¶æ»çº¿ç­åè½ãè¿äºåè½ä¸­çæ¯ä¸ä¸ªé½å¯ä»¥æ ¹æ®éè¦åç¬ä½¿ç¨ï¼ä¹å¯ä»¥ä¸èµ·ä½¿ç¨ä»¥æå»ºå¨æ¹ä½çæå¡ç½æ ¼ï¼æ»ä¹consulæä¾äºä¸ç§å®æ´çæå¡ç½æ ¼è§£å³æ¹æ¡ã\n\nå®å·æå¾å¤ä¼ç¹ãåæ¬ï¼åºäºraftåè®®ï¼æ¯è¾ç®æ´ï¼ æ¯æå¥åº·æ£æ¥ï¼åæ¶æ¯æ http å dns åè®®ï¼æ¯æè·¨æ°æ®ä¸­å¿ç wan éç¾¤ï¼æä¾å¾å½¢çé¢ï¼è·¨å¹³å°ï¼æ¯æ linuxãmacãwindowsã\n\nå®ç½ï¼https://developer.hashicorp.com/consul/docs/intro\n\nspringcloud consul å·æå¦ä¸ç¹æ§ï¼\n\n\n\n * æå¡åç°ï¼æä¾httpådnsä¸¤ç§åç°æ¹å¼ã\n * å¥åº·çæµï¼æ¯æå¤ç§æ¹å¼ï¼httpãtcpãdockerãshellèæ¬å®å¶åçæ§\n * kvå­å¨ï¼keyãvalueçå­å¨æ¹å¼\n * å¤æ°æ®ä¸­å¿ï¼consulæ¯æå¤æ°æ®ä¸­å¿\n * å¯è§åwebçé¢\n\n\n# ä¸è½½&å®è£\n\nä¸è½½å°åï¼https://www.consul.io/downloads.html\n\nä¸­æææ¡£ï¼https://www.springcloud.cc/spring-cloud-consul.html\n\nä¸è½½åæ¥ççæ¬å·ï¼\n\n\n\nä½¿ç¨å¼åæ¨¡å¼å¯å¨ï¼\n\nconsul agent -dev\n\n\n\n\néè¿http://localhost:8500è®¿é®consulçé¦é¡µï¼\n\n\n\n\n# æå¡æä¾è\n\næ°å»ºä¸ä¸ªmavenå·¥ç¨ï¼æ·»å ç¸å³ä¾èµ\n\n\x3c!--springcloud consul-server --\x3e\n<dependency>\n    <groupid>org.springframework.cloud</groupid>\n    <artifactid>spring-cloud-starter-consul-discovery</artifactid>\n</dependency>\n\n\néç½®ymlæä»¶ï¼\n\n# consulæå¡ç«¯å£å·\nserver:\n  port: 8006\n\nspring:\n  application:\n    name: consul-provider-payment\n\n# consulæ³¨åä¸­å¿å°å\n  cloud:\n    consul:\n      host: localhost\n      port: 8500\n      discovery:\n        #hostname: 127.0.0.1\n        service-name: ${spring.application.name}\n\n\nä¸»å¯å¨ç±»ï¼\n\n@springbootapplication\n@enablediscoveryclient //è¯¥æ³¨è§£ç¨äºåä½¿ç¨consulæèzookeeperä½ä¸ºæ³¨åä¸­å¿æ¶æ³¨åæå¡\npublic class paymentmain8006 {\n    public static void main(string[] args) {\n        springapplication.run(paymentmain8006.class, args);\n    }\n}\n\n\ncontrollerï¼éä¾¿åä¸ä¸ªæ¥å£ï¼ä»¥æ£æ¥æ¯å¦æ³¨åè¿consulæå¡ï¼\n\n@restcontroller\npublic class paymentcontroller {\n    @value("${server.port}")\n    private string serverport;\n\n    @requestmapping(value = "/payment/consul")\n    public string paymentconsul() {\n        return "springcloud with consul: " + serverport + "\\t   " + uuid.randomuuid();\n    }\n}\n\n\nå¯å¨é¡¹ç®ï¼å¯ä»¥å¨consulçç®¡çé¡µé¢çå°è¯¥æå¡ï¼\n\n\n\nè°ç¨æ¥å£ï¼ä¹æ¯æåçï¼\n\n\n\n\n# æå¡æ¶è´¹è\n\nåå»ºä¸ä¸ªmavenå·¥ç¨ï¼pomæä»¶åä¸é¢çæå¡æä¾èä¸æ ·ï¼\n\néç½®ymlæä»¶ï¼\n\n# consulæå¡ç«¯å£å·\nserver:\n  port: 80\n\nspring:\n  application:\n    name: cloud-consumer-order\n\n# consulæ³¨åä¸­å¿å°å\n  cloud:\n    consul:\n      host: localhost\n      port: 8500\n      discovery:\n        #hostname: 127.0.0.1\n        service-name: ${spring.application.name}\n\n\nä¸»å¯å¨ç±»å ä¸@enablediscoveryclient æ³¨è§£ã\n\nå°resttemplateå å¥å°å®¹å¨ã\n\n@bean\n@loadbalanced\npublic resttemplate getresttemplate() {\n    return new resttemplate();\n}\n\n\nä½¿ç¨resttemplateè°ç¨æå¡æä¾èçæ¥å£ï¼\n\n@restcontroller\npublic class orderconsulcontroller {\n    public static final string invoke_url = "http://consul-provider-payment";\n\n    @resource\n    private resttemplate resttemplate;\n\n    @getmapping(value = "/consumer/payment/consul")\n    public string paymentinfo() {\n        string result = resttemplate.getforobject(invoke_url + "/payment/consul", string.class);\n        return result;\n    }\n}\n\n\nå¯å¨é¡¹ç®ï¼æå¡æ¶è´¹èä¹æ³¨åè¿äºconsulä¸­ï¼å¹¶ä¸è°ç¨æå¡æ¶è´¹èçæ¥å£æåï¼\n\n\n\n\n\n\n# ä¸ä¸ªæ³¨åä¸­å¿å¼åç¹\n\nç»ä»¶å         è¯­è¨     cap   æå¡å¥åº·æ£æ¥   å¯¹å¤æ´é²æ¥å£     springcloudéæ\neureka      java   ap    å¯éæ¯æ     http       å·²éæ\nconsul      go     cp    æ¯æ       http/dns   å·²éæ\nzookeeper   java   cp    æ¯æ       å®¢æ·ç«¯        å·²éæ\n\n\n# cap\n\n * cï¼consistencyï¼å¼ºä¸è´æ§ï¼\n * aï¼availabilityï¼å¯ç¨æ§ï¼\n * pï¼partition toleranceï¼ååºå®¹éæ§ï¼\n\ncapçè®ºå³æ³¨ç²åº¦æ¯æ°æ®ï¼èä¸æ¯æ´ä½ç³»ç»è®¾è®¡çç­ç¥\n\n\n# ç»å¸capå¾\n\næå¤åªè½åæ¶è¾å¥½çæ»¡è¶³ä¸¤ä¸ªã\n\ncapçè®ºçæ ¸å¿æ¯ï¼ä¸ä¸ªåå¸å¼ç³»ç»ä¸å¯è½åæ¶å¾å¥½çæ»¡è¶³ä¸è´æ§ï¼å¯ç¨æ§åååºå®¹éæ§è¿ä¸ä¸ªéæ±ï¼å æ­¤ï¼æ ¹æ® cap åçå° nosql æ°æ®åºåæäºæ»¡è¶³ ca ååãæ»¡è¶³ cp åååæ»¡è¶³ ap ååä¸ å¤§ç±»ï¼\n\n * ca - åç¹éç¾¤ï¼æ»¡è¶³ä¸è´æ§ï¼å¯ç¨æ§çç³»ç»ï¼éå¸¸å¨å¯æ©å±æ§ä¸ä¸å¤ªå¼ºå¤§ã\n * cp - æ»¡è¶³ä¸è´æ§ï¼ååºå®¹å¿å¿çç³»ç»ï¼éå¸¸æ§è½ä¸æ¯ç¹å«é«ã\n * ap - æ»¡è¶³å¯ç¨æ§ï¼ååºå®¹å¿æ§çç³»ç»ï¼éå¸¸å¯è½å¯¹ä¸è´æ§è¦æ±ä½ä¸äºã\n\n\n\n\n# ap(eureka)\n\nå½ç½ç»ååºåºç°åï¼ä¸ºäºä¿è¯å¯ç¨æ§ï¼ç³»ç»bå¯ä»¥è¿åæ§å¼ï¼ä¿è¯ç³»ç»çå¯ç¨æ§ã\n\n> ç»è®ºï¼è¿èäºä¸è´æ§cçè¦æ±ï¼åªæ»¡è¶³å¯ç¨æ§åååºå®¹éï¼å³ap\n\n\n\n\n# cp(zookeeper/consul)\n\nå½ç½ç»ååºåºç°åï¼ä¸ºäºä¿è¯ä¸è´æ§ï¼å°±å¿é¡»ææ¥è¯·æ±ï¼å¦åæ æ³ä¿è¯ä¸è´æ§\n\n> ç»è®ºï¼è¿èäºå¯ç¨æ§açè¦æ±ï¼åªæ»¡è¶³ä¸è´æ§åååºå®¹éï¼å³cp\n\n',charsets:{cjk:!0},lastUpdated:"2022/11/30, 16:24:57",lastUpdatedTimestamp:1669796697e3},{title:"Rediså¸¸ç¨å½ä»¤&æ°æ®ç±»å",frontmatter:{title:"Rediså¸¸ç¨å½ä»¤&æ°æ®ç±»å",date:"2022-11-26T11:44:41.000Z",permalink:"/pages/0oaka83c",categories:["æ°æ®åº"],tags:["Redis"],author:{name:"ä¹æ¨åç"}},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/02.Redis/02.Redis%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4&%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html",relativePath:"03.æ°æ®åº/02.Redis/02.Rediså¸¸ç¨å½ä»¤&æ°æ®ç±»å.md",key:"v-7d77e79a",path:"/pages/0oaka83c/",headers:[{level:2,title:"Redisåº",slug:"redisåº",normalizedTitle:"redisåº",charIndex:2},{level:2,title:"Redisé®",slug:"redisé®",normalizedTitle:"redisé®",charIndex:152},{level:2,title:"Rediså¸¸ç¨äºå¤§æ°æ®ç±»å",slug:"rediså¸¸ç¨äºå¤§æ°æ®ç±»å",normalizedTitle:"rediså¸¸ç¨äºå¤§æ°æ®ç±»å",charIndex:424},{level:3,title:"å­ç¬¦ä¸²ç±»å string",slug:"å­ç¬¦ä¸²ç±»å-string",normalizedTitle:"å­ç¬¦ä¸²ç±»å string",charIndex:641},{level:4,title:"å¸¸ç¨å½ä»¤",slug:"å¸¸ç¨å½ä»¤",normalizedTitle:"å¸¸ç¨å½ä»¤",charIndex:802},{level:4,title:"æ°æ®ç»æ",slug:"æ°æ®ç»æ",normalizedTitle:"æ°æ®ç»æ",charIndex:486},{level:3,title:"åè¡¨ç±»å list",slug:"åè¡¨ç±»å-list",normalizedTitle:"åè¡¨ç±»å list",charIndex:1936},{level:4,title:"å¸¸ç¨å½ä»¤",slug:"å¸¸ç¨å½ä»¤-2",normalizedTitle:"å¸¸ç¨å½ä»¤",charIndex:802},{level:4,title:"æ°æ®ç»æ",slug:"æ°æ®ç»æ-2",normalizedTitle:"æ°æ®ç»æ",charIndex:486},{level:3,title:"éåç±»å set",slug:"éåç±»å-set",normalizedTitle:"éåç±»å set",charIndex:2939},{level:4,title:"å¸¸ç¨å½ä»¤",slug:"å¸¸ç¨å½ä»¤-3",normalizedTitle:"å¸¸ç¨å½ä»¤",charIndex:802},{level:4,title:"æ°æ®ç»æ",slug:"æ°æ®ç»æ-3",normalizedTitle:"æ°æ®ç»æ",charIndex:486},{level:3,title:"åå¸ç±»å hash",slug:"åå¸ç±»å-hash",normalizedTitle:"åå¸ç±»å hash",charIndex:3838},{level:4,title:"å¸¸ç¨å½ä»¤",slug:"å¸¸ç¨å½ä»¤-4",normalizedTitle:"å¸¸ç¨å½ä»¤",charIndex:802},{level:4,title:"æ°æ®ç»æ",slug:"æ°æ®ç»æ-4",normalizedTitle:"æ°æ®ç»æ",charIndex:486},{level:3,title:"æåºéåç±»å sortedset",slug:"æåºéåç±»å-sortedset",normalizedTitle:"æåºéåç±»å sortedset",charIndex:4626},{level:4,title:"å¸¸ç¨å½ä»¤",slug:"å¸¸ç¨å½ä»¤-5",normalizedTitle:"å¸¸ç¨å½ä»¤",charIndex:802},{level:4,title:"æ°æ®ç»æ",slug:"æ°æ®ç»æ-5",normalizedTitle:"æ°æ®ç»æ",charIndex:486},{level:5,title:"è·³è·è¡¨ï¼è·³è¡¨ï¼",slug:"è·³è·è¡¨-è·³è¡¨",normalizedTitle:"è·³è·è¡¨ï¼è·³è¡¨ï¼",charIndex:5773}],headersStr:"Redisåº Redisé® Rediså¸¸ç¨äºå¤§æ°æ®ç±»å å­ç¬¦ä¸²ç±»å string å¸¸ç¨å½ä»¤ æ°æ®ç»æ åè¡¨ç±»å list å¸¸ç¨å½ä»¤ æ°æ®ç»æ éåç±»å set å¸¸ç¨å½ä»¤ æ°æ®ç»æ åå¸ç±»å hash å¸¸ç¨å½ä»¤ æ°æ®ç»æ æåºéåç±»å sortedset å¸¸ç¨å½ä»¤ æ°æ®ç»æ è·³è·è¡¨ï¼è·³è¡¨ï¼",content:"# Redisåº\n\né»è®¤16ä¸ªæ°æ®åºï¼ç±»ä¼¼æ°ç»ä¸æ ä»0å¼å§ï¼åå§é»è®¤ä½¿ç¨0å·åºã\n\nç»ä¸å¯ç ç®¡çï¼ææåºåæ ·å¯ç ã\n\n * select <dbid> ï¼åæ¢æ°æ®åº\n * dbsize ï¼æ¥çå½åæ°æ®åºçkeyçæ°é\n * flushdb ï¼æ¸ç©ºå½ååº\n * flushall ï¼éæå¨é¨åº\n\n\n\n\n# Redisé®\n\n * keys * ï¼æ¥çå½ååºæækey\n\n * keys *1 ï¼å¹ékey\n\n * exists key ï¼å¤æ­æä¸ªkeyæ¯å¦å­å¨\n\n * type key ï¼æ¥çkeyçç±»å\n\n * del key ï¼å é¤æå®çkeyæ°æ®\n\n * unlink key ï¼æ ¹æ®valueéæ©éé»å¡å é¤ï¼ä»å°keysä»keyspaceåæ°æ®ä¸­å é¤ï¼çæ­£çå é¤ä¼å¨åç»­å¼æ­¥æä½\n\n * expire key 10 ï¼ä¸ºkeyè®¾ç½®è¿ææ¶é´(åä½ ç§)\n\n * ttl key ï¼æ¥çè¿æå¤å°ç§è¿æï¼-1è¡¨ç¤ºæ°¸ä¸è¿æï¼-2è¡¨ç¤ºå·²è¿æï¼\n\n\n# Rediså¸¸ç¨äºå¤§æ°æ®ç±»å\n\nRediså­å¨çæ¯ï¼key,valueæ ¼å¼çæ°æ®ï¼å¶ä¸­keyé½æ¯å­ç¬¦ä¸²ï¼valueæ5ç§ä¸åçæ°æ®ç»æ\n\nvalueçæ°æ®ç»æï¼\n\n * stringï¼å­ç¬¦ä¸²ç±»å ã\n * hashï¼åå¸ç±»åï¼mapæ ¼å¼ ã\n * listï¼åè¡¨ç±»åï¼LinkedListæ ¼å¼ï¼æ¯æéå¤åç´  ã\n * setï¼éåç±»åï¼ä¸åè®¸éå¤åç´  ã\n * sortedsetï¼æåºéåç±»åï¼ä¸åè®¸éå¤åç´ ï¼ä¸åç´ æé¡ºåºã\n\n\n# å­ç¬¦ä¸²ç±»å string\n\nstringæ¯Redisæåºæ¬çç±»åï¼ä¸ä¸ªkeyå¯¹åºä¸ä¸ªvalueã\n\nstringç±»åæ¯äºè¿å¶å®å¨çãæå³çRedisçstringå¯ä»¥åå«ä»»ä½æ°æ®ãæ¯å¦jpgå¾çæèåºååçå¯¹è±¡ã\n\nstringç±»åæ¯Redisæåºæ¬çæ°æ®ç±»åï¼ä¸ä¸ªRedisä¸­å­ç¬¦ä¸²valueæå¤å¯ä»¥æ¯512Mã\n\n# å¸¸ç¨å½ä»¤\n\n * set <key> <value> ï¼æ·»å é®å¼å¯¹\n\n\n\n>  * NXï¼å½æ°æ®åºä¸­keyä¸å­å¨æ¶ï¼æ·»å \n>  * XXï¼å½æ°æ®åºä¸­keyå­å¨æ¶ï¼æ·»å ï¼ä¸NXåæ°äºæ¥\n>  * EXï¼keyçè¶æ¶ç§æ°\n>  * PXï¼keyçè¶æ¶æ¯«ç§æ°ï¼ä¸EXäºæ¥\n\n * setnx <key> <value>ï¼åªæå¨keyä¸å­å¨æ¶ï¼æ·»å é®å¼å¯¹\n\n * get <key> ï¼æ¥è¯¢å¯¹åºé®å¼\n\n * strlen <key>ï¼è·å¾å¼çé¿åº¦\n\n * del <key>ï¼å é¤é®å¼å¯¹\n\n * getrange <key> <èµ·å§ä½ç½®> <ç»æä½ç½®> ï¼è·å¾å¼çèå´ï¼ç±»ä¼¼javaä¸­çsubstringï¼åååå\n\n * setrange <key> <èµ·å§ä½ç½®> <value> ï¼ç¨è¦åæå¨å­çå­ç¬¦ä¸²å¼ï¼ä»<èµ·å§ä½ç½®>å¼å§(ç´¢å¼ä»0å¼å§)ã\n\n * incr <key>ï¼å°keyä¸­å¨å­çæ°å­å¼å¢1ï¼åªè½å¯¹æ°å­å¼æä½ï¼å¦æä¸ºç©ºï¼æ°å¢å¼ä¸º1\n\n * decr <key>ï¼å°keyä¸­å¨å­çæ°å­å¼å1ï¼åªè½å¯¹æ°å­å¼æä½ï¼å¦æä¸ºç©ºï¼æ°å¢å¼ä¸º-1\n\n * incrby/decrby <key> <æ­¥é¿>ï¼å° key ä¸­å¨å­çæ°å­å¼å¢åï¼èªå®ä¹æ­¥é¿\n\n * append <key> <value>ï¼å°ç»å®ç<value>è¿½å å°åå¼çæ«å°¾\n\n * mset <key1> <value1> <key2> <value2> ....ï¼åæ¶è®¾ç½®ä¸ä¸ªæå¤ä¸ª key-valueå¯¹ï¼è¦ä¹å¨æåï¼è¦ä¹å¨å¤±è´¥ï¼\n\n * mget <key1> <key2> <key3> .....ï¼åæ¶è·åä¸ä¸ªæå¤ä¸ªvalueï¼è¦ä¹å¨æåï¼è¦ä¹å¨å¤±è´¥ï¼\n\n * msetnx <key1> <value1> <key2> <value2> .....ï¼åæ¶è®¾ç½®ä¸ä¸ªæå¤ä¸ª key-value å¯¹ï¼å½ä¸ä»å½ææç»å® key é½ä¸å­å¨ï¼è¦ä¹å¨æåï¼è¦ä¹å¨å¤±è´¥ï¼\n\n * setex <key> <è¿ææ¶é´> <value>ï¼è®¾ç½®é®å¼çåæ¶ï¼è®¾ç½®è¿ææ¶é´ï¼åä½ç§ã\n\n * getset <key> <value>ï¼ä»¥æ°æ¢æ§ï¼è®¾ç½®äºæ°å¼åæ¶è·å¾æ§å¼ã\n\n# æ°æ®ç»æ\n\nstringçæ°æ®ç»æä¸ºç®åå¨æå­ç¬¦ä¸²(Simple Dynamic Stringï¼ç¼©åSDS)ãæ¯å¯ä»¥ä¿®æ¹çå­ç¬¦ä¸²ï¼åé¨ç»æå®ç°ä¸ç±»ä¼¼äºJavaçArrayListï¼éç¨é¢åéåä½ç©ºé´çæ¹å¼æ¥åå°åå­çé¢ç¹åéã\n\n\n\nå¦å¾ä¸­æç¤ºï¼åé¨ä¸ºå½åå­ç¬¦ä¸²å®éåéçç©ºé´capacityä¸è¬è¦é«äºå®éå­ç¬¦ä¸²é¿åº¦lenãå½å­ç¬¦ä¸²é¿åº¦å°äº1Mæ¶ï¼æ©å®¹é½æ¯å åç°æçç©ºé´ï¼å¦æè¶è¿1Mï¼æ©å®¹æ¶ä¸æ¬¡åªä¼å¤æ©1Mçç©ºé´ãå­ç¬¦ä¸²æå¤§é¿åº¦ä¸º512Mã\n\n\n# åè¡¨ç±»å list\n\nåé®å¤å¼\n\nRedisåè¡¨æ¯ç®åçå­ç¬¦ä¸²åè¡¨ï¼æç§æå¥é¡ºåºæåºãä½ å¯ä»¥æ·»å ä¸ä¸ªåç´ å°åè¡¨çå¤´é¨ï¼å·¦è¾¹ï¼æèå°¾é¨ï¼å³è¾¹ï¼ã\n\nå®çåºå±å®éæ¯ä¸ªååé¾è¡¨ï¼å¯¹ä¸¤ç«¯çæä½æ§è½å¾é«ï¼éè¿ç´¢å¼ä¸æ çæä½ä¸­é´çèç¹æ§è½ä¼è¾å·®ã\n\n\n\n# å¸¸ç¨å½ä»¤\n\n * lpush <key> <value1> <value2> <value3> ... ï¼å°ä¸ä¸ªæå¤ä¸ªåç´ å å¥åè¡¨å·¦è¾¹\n\n * rpush <key> <value1> <value2> <value3> ... ï¼å°ä¸ä¸ªæå¤ä¸ªåç´ å å¥åè¡¨å³è¾¹\n\n * lpop <key> ï¼ä»å·¦è¾¹ååºä¸ä¸ªå¼ãå¼å¨é®å¨ï¼å¼åé®äº¡ã\n\n * rpop <key> ï¼ä»å³è¾¹ååºä¸ä¸ªå¼ãå¼å¨é®å¨ï¼å¼åé®äº¡ã\n\n\n\n * rpoplpush <key1> <key2> ï¼ä»åè¡¨å³è¾¹ååºä¸ä¸ªå¼ï¼æå°åè¡¨å·¦è¾¹ã\n * lrange <key> <start> <stop> ï¼æç§ç´¢å¼ä¸æ è·å¾åç´ (ä»å·¦å°å³)\n * lrange mylist 0 -1 ï¼ 0å·¦è¾¹ç¬¬ä¸ä¸ªï¼-1å³è¾¹ç¬¬ä¸ä¸ªï¼ï¼0-1è¡¨ç¤ºè·åææï¼\n * lindex <key> <index> ï¼æç§ç´¢å¼ä¸æ è·å¾åç´ (ä»å·¦å°å³)\n * llen <key> ï¼è·å¾åè¡¨é¿åº¦\n\n\n\n * linsert <key> before <value> <newvalue> ï¼å¨çåé¢æå¥æå¥å¼\n * lrem <key> <n> <value> ï¼ä»å·¦è¾¹å é¤nä¸ªvalue(ä»å·¦å°å³)\n * lset<key> <index> <value> ï¼å°åè¡¨keyä¸æ ä¸ºindexçå¼æ¿æ¢ævalue\n\n# æ°æ®ç»æ\n\nListçæ°æ®ç»æä¸ºå¿«éé¾è¡¨quickListã\n\né¦åå¨åè¡¨åç´ è¾å°çæåµä¸ä¼ä½¿ç¨ä¸åè¿ç»­çåå­å­å¨ï¼è¿ä¸ªç»ææ¯ziplistï¼ä¹å³æ¯åç¼©åè¡¨ã\n\nå®å°ææçåç´ ç´§æ¨çä¸èµ·å­å¨ï¼åéçæ¯ä¸åè¿ç»­çåå­ã\n\nå½æ°æ®éæ¯è¾å¤çæ¶åæä¼æ¹æquicklistã\n\nå ä¸ºæ®éçé¾è¡¨éè¦çéå æéç©ºé´å¤ªå¤§ï¼ä¼æ¯è¾æµªè´¹ç©ºé´ãæ¯å¦è¿ä¸ªåè¡¨éå­çåªæ¯intç±»åçæ°æ®ï¼ç»æä¸è¿éè¦ä¸¤ä¸ªé¢å¤çæéprevånextã\n\n\n\nRediså°é¾è¡¨åziplistç»åèµ·æ¥ç»æäºquicklistãä¹å°±æ¯å°å¤ä¸ªziplistä½¿ç¨ååæéä¸²èµ·æ¥ä½¿ç¨ãè¿æ ·æ¢æ»¡è¶³äºå¿«éçæå¥å é¤æ§è½ï¼åä¸ä¼åºç°å¤ªå¤§çç©ºé´åä½ã\n\n\n# éåç±»å set\n\nRedis setå¯¹å¤æä¾çåè½ä¸listç±»ä¼¼æ¯ä¸ä¸ªåè¡¨çåè½ï¼ç¹æ®ä¹å¤å¨äºsetå¯ä»¥èªå¨æéï¼å½éè¦å­å¨ä¸ä¸ªåè¡¨æ°æ®ï¼åä¸å¸æåºç°éå¤æ°æ®æ¶ï¼setæ¯ä¸ä¸ªå¾å¥½çéæ©ï¼å¹¶ä¸setæä¾äºå¤æ­æä¸ªæåæ¯å¦å¨ä¸ä¸ªsetéååçéè¦æ¥å£ï¼è¿ä¸ªä¹æ¯listæä¸è½æä¾çã\n\nRedisçSetæ¯stringç±»åçæ åºéåãå®åºå±å¶å®æ¯ä¸ä¸ªvalueä¸ºnullçhashè¡¨ï¼æä»¥æ·»å ï¼å é¤ï¼æ¥æ¾çå¤æåº¦é½æ¯O(1)ã\n\nä¸ä¸ªç®æ³ï¼éçæ°æ®çå¢å ï¼æ§è¡æ¶é´çé¿ç­ï¼å¦ææ¯O(1)ï¼æ°æ®å¢å ï¼æ¥æ¾æ°æ®çæ¶é´ä¸åã\n\n# å¸¸ç¨å½ä»¤\n\n * sadd <key> <value1> <value2> ..... ï¼å°ä¸ä¸ªæå¤ä¸ªåç´ å å¥å°éåkeyä¸­ï¼å·²ç»å­å¨çåç´ å°è¢«å¿½ç¥\n\n * smembers <key> ï¼ååºè¯¥éåçææå¼\n\n * sismember <key> <value> ï¼å¤æ­éåæ¯å¦ä¸ºå«æè¯¥å¼ï¼æ1ï¼æ²¡æ0\n\n * scard <key> ï¼è¿åè¯¥éåçåç´ ä¸ªæ°\n\n * spop <key>ï¼éæºä»è¯¥éåä¸­ååºä¸ä¸ªå¼ã\n\n * srandmember <key> <n> ï¼éæºä»è¯¥éåä¸­ååºnä¸ªå¼ï¼ä¸ä¼ä»éåä¸­å é¤\n\n * srem <key> <value1> <value2> .... ï¼å é¤éåä¸­çæä¸ªåç´ \n\n * smove <source><destination> ï¼valueæéåä¸­ä¸ä¸ªå¼ä»ä¸ä¸ªéåç§»å¨å°å¦ä¸ä¸ªéå\n\n * sinter <key1><key2> ï¼è¿åä¸¤ä¸ªéåçäº¤éåç´ ã\n\n * sunion <key1><key2> ï¼è¿åä¸¤ä¸ªéåçå¹¶éåç´ ã\n\n * sdiff <key1><key2> ï¼è¿åä¸¤ä¸ªéåçå·®éåç´ (key1ä¸­çï¼ä¸åå«key2ä¸­ç)\n\n# æ°æ®ç»æ\n\nSetæ°æ®ç»ææ¯dictå­å¸ï¼å­å¸æ¯ç¨åå¸è¡¨å®ç°çã\n\nJavaä¸­HashSetçåé¨å®ç°ä½¿ç¨çæ¯HashMapï¼åªä¸è¿ææçvalueé½æååä¸ä¸ªå¯¹è±¡ãRedisçsetç»æä¹æ¯ä¸æ ·ï¼å®çåé¨ä¹ä½¿ç¨hashç»æï¼ææçvalueé½æååä¸ä¸ªåé¨å¼ã\n\n\n# åå¸ç±»å hash\n\nRedis hash æ¯ä¸ä¸ªé®å¼å¯¹éåã\n\nRedis hashæ¯ä¸ä¸ªstringç±»åçfieldåvalueçæ å°è¡¨ï¼hashç¹å«éåç¨äºå­å¨å¯¹è±¡ãç±»ä¼¼Javaéé¢çMap<String, Object>\n\nç¨æ·IDä¸ºæ¥æ¾çkeyï¼å­å¨çvalueç¨æ·å¯¹è±¡åå«å§åï¼å¹´é¾ï¼çæ¥ç­ä¿¡æ¯ï¼å¦æç¨æ®éçkey/valueç»ææ¥å­å¨\n\nä¸»è¦æä»¥ä¸2ç§å­å¨æ¹å¼ï¼\n\n\n\néè¿key(ç¨æ·ID) + field(å±æ§æ ç­¾)å°±å¯ä»¥æä½å¯¹åºå±æ§æ°æ®äºï¼æ¢ä¸éè¦éå¤å­å¨æ°æ®ï¼ä¹ä¸ä¼å¸¦æ¥åºåååå¹¶åä¿®æ¹æ§å¶çé®é¢ï¼\n\n\n\n# å¸¸ç¨å½ä»¤\n\n * hset <key> <field> <value> ï¼ç»éåä¸­çé®èµå¼\n * hget <key> <field> ï¼ä»éåååº value\n * hmset <key> <field1> <value1> <field2> <value2>... ï¼æ¹éè®¾ç½®hashçå¼\n * hexists <key> <field> ï¼æ¥çåå¸è¡¨keyä¸­ï¼ç»å®åfieldæ¯å¦å­å¨ã\n * hkeys <key> ï¼ååºè¯¥hashéåçææfield\n * hvals <key> ï¼ååºè¯¥hashéåçæævalue\n * hincrby <key> <field> <increment> ï¼ä¸ºåå¸è¡¨ key ä¸­çå field çå¼å ä¸å¢é 1 -1\n * hsetnx <key> <field> <value> ï¼å°åå¸è¡¨ key ä¸­çå field çå¼è®¾ç½®ä¸º value ï¼å½ä¸ä»å½å field ä¸å­å¨\n\n# æ°æ®ç»æ\n\nHashç±»åå¯¹åºçæ°æ®ç»ææ¯ä¸¤ç§ï¼ziplistï¼åç¼©åè¡¨ï¼ï¼hashtableï¼åå¸è¡¨ï¼ãå½field-valueé¿åº¦è¾ç­ä¸ä¸ªæ°è¾å°æ¶ï¼ä½¿ç¨ziplistï¼å¦åä½¿ç¨hashtableã\n\n\n# æåºéåç±»å sortedset\n\nRedisæåºéåzsetä¸æ®ééåsetéå¸¸ç¸ä¼¼ï¼æ¯ä¸ä¸ªæ²¡æéå¤åç´ çå­ç¬¦ä¸²éåã\n\nä¸åä¹å¤æ¯æåºéåçæ¯ä¸ªæåé½å³èäºä¸ä¸ªè¯åï¼scoreï¼ï¼è¿ä¸ªè¯åï¼scoreï¼è¢«ç¨æ¥æç§ä»æä½åå°æé«åçæ¹å¼æåºéåä¸­çæåãéåçæåæ¯å¯ä¸çï¼ä½è¯åå¯ä»¥éå¤ã\n\nå ä¸ºåç´ æ¯æåºçï¼æä»¥å¯ä»¥å¾å¿«çæ ¹æ®è¯åï¼scoreï¼æèæ¬¡åºï¼positionï¼æ¥è·åä¸ä¸ªèå´çåç´ ã\n\nè®¿é®æåºéåçä¸­é´åç´ ä¹æ¯éå¸¸å¿«çï¼å æ­¤è½å¤ä½¿ç¨æåºéåä½ä¸ºä¸ä¸ªæ²¡æéå¤æåçæºè½åè¡¨ã\n\n# å¸¸ç¨å½ä»¤\n\n * zadd <key> <score1> <value1> <score2> <value2>â¦ ï¼å°ä¸ä¸ªæå¤ä¸ªåç´ åscoreå¼å å¥å°æåºékeyä¸­\n * zrange <key> <start> <stop> [withscores] ï¼è¿åæåºékeyä¸­ä¸æ å¨ä¹é´çåç´ ï¼å¸¦withscoresï¼å¯ä»¥è®©åæ°ä¸èµ·åå¼è¿åå°ç»æé\n * zrangebyscore key min max [withscores] [limit offset count] ï¼è¿åæåºékeyä¸­ï¼ææ score å¼ä»äº min å max ä¹é´(åæ¬ç­äº min æ max )çæåï¼æåºéæåæ score å¼éå¢(ä»å°å°å¤§)æ¬¡åºæå\n * zrevrangebyscore key max min [withscores] [limit offset count] ï¼ åä¸ï¼æ¹ä¸ºä»å¤§å°å°æåã\n * zincrby <key> <increment> <value> ï¼ä¸ºåç´ çscoreå ä¸å¢é\n * zrem <key> <value> ï¼å é¤è¯¥éåä¸æå®å¼çåç´ \n * zcount <key> <min> <max> ï¼ç»è®¡è¯¥éåï¼åæ°åºé´åçåç´ ä¸ªæ°\n * zrank <key> <value> ï¼è¿åè¯¥å¼å¨éåä¸­çæåï¼ä»0å¼å§\n\n# æ°æ®ç»æ\n\nSortedSet(zset)æ¯Redisæä¾çä¸ä¸ªéå¸¸ç¹å«çæ°æ®ç»æï¼ä¸æ¹é¢å®ç­ä»·äºJavaçæ°æ®ç»æMap<String, Double>ï¼å¯ä»¥ç»æ¯ä¸ä¸ªåç´ valueèµäºä¸ä¸ªæéscoreï¼å¦ä¸æ¹é¢å®åç±»ä¼¼äºTreeSetï¼åé¨çåç´ ä¼æç§æéscoreè¿è¡æåºï¼å¯ä»¥å¾å°æ¯ä¸ªåç´ çåæ¬¡ï¼è¿å¯ä»¥éè¿scoreçèå´æ¥è·ååç´ çåè¡¨ã\n\nzsetåºå±ä½¿ç¨äºä¸¤ä¸ªæ°æ®ç»æï¼\n\n 1. hashï¼hashçä½ç¨å°±æ¯å³èåç´ valueåæéscoreï¼ä¿éåç´ valueçå¯ä¸æ§ï¼å¯ä»¥éè¿åç´ valueæ¾å°ç¸åºçscoreå¼ã\n 2. è·³è·è¡¨ï¼è·³è·è¡¨çç®çå¨äºç»åç´ valueæåºï¼æ ¹æ®scoreçèå´è·ååç´ åè¡¨ã\n\n# è·³è·è¡¨ï¼è·³è¡¨ï¼\n\næåºéåå¨çæ´»ä¸­æ¯è¾å¸¸è§ï¼ä¾å¦æ ¹æ®æç»©å¯¹å­¦çæåï¼æ ¹æ®å¾åå¯¹ç©å®¶æåç­ãå¯¹äºæåºéåçåºå±å®ç°ï¼å¯ä»¥ç¨æ°ç»ãå¹³è¡¡æ ãé¾è¡¨ç­ãæ°ç»ä¸ä¾¿åç´ çæå¥ãå é¤ï¼å¹³è¡¡æ æçº¢é»æ è½ç¶æçé«ä½ç»æå¤æï¼é¾è¡¨æ¥è¯¢éè¦éåæææçä½ã\n\nRediséç¨çæ¯è·³è·è¡¨ãè·³è·è¡¨æçå ªæ¯çº¢é»æ ï¼å®ç°è¿æ¯çº¢é»æ ç®åã\n\næåºé¾è¡¨ï¼\n\n\n\nè¦æ¥æ¾å¼ä¸º51çåç´ ï¼éè¦ä»ç¬¬ä¸ä¸ªåç´ å¼å§ä¾æ¬¡æ¥æ¾ãæ¯è¾æè½æ¾å°ï¼å±éè¦6æ¬¡æ¯è¾ã\n\nè·³è·è¡¨ï¼\n\n\n\n 1. ä»ç¬¬2å±å¼å§ï¼1èç¹æ¯51èç¹å°ï¼ååæ¯è¾ã\n 2. 21èç¹æ¯51èç¹å°ï¼ç»§ç»­ååæ¯è¾ï¼åé¢å°±æ¯NULLäºï¼æä»¥ä»21èç¹åä¸å°ç¬¬1å±ã\n 3. å¨ç¬¬1å±ï¼41èç¹æ¯51èç¹å°ï¼ç»§ç»­ååï¼61èç¹æ¯51èç¹å¤§ï¼æä»¥ä»41åä¸\n 4. å¨ç¬¬0å±ï¼51èç¹ä¸ºè¦æ¥æ¾çèç¹ï¼èç¹è¢«æ¾å°ï¼å±æ¥æ¾4æ¬¡ã\n\nä»æ­¤å¯ä»¥çåºè·³è·è¡¨æ¯æåºé¾è¡¨æçè¦é«ã",normalizedContent:"# redisåº\n\né»è®¤16ä¸ªæ°æ®åºï¼ç±»ä¼¼æ°ç»ä¸æ ä»0å¼å§ï¼åå§é»è®¤ä½¿ç¨0å·åºã\n\nç»ä¸å¯ç ç®¡çï¼ææåºåæ ·å¯ç ã\n\n * select <dbid> ï¼åæ¢æ°æ®åº\n * dbsize ï¼æ¥çå½åæ°æ®åºçkeyçæ°é\n * flushdb ï¼æ¸ç©ºå½ååº\n * flushall ï¼éæå¨é¨åº\n\n\n\n\n# redisé®\n\n * keys * ï¼æ¥çå½ååºæækey\n\n * keys *1 ï¼å¹ékey\n\n * exists key ï¼å¤æ­æä¸ªkeyæ¯å¦å­å¨\n\n * type key ï¼æ¥çkeyçç±»å\n\n * del key ï¼å é¤æå®çkeyæ°æ®\n\n * unlink key ï¼æ ¹æ®valueéæ©éé»å¡å é¤ï¼ä»å°keysä»keyspaceåæ°æ®ä¸­å é¤ï¼çæ­£çå é¤ä¼å¨åç»­å¼æ­¥æä½\n\n * expire key 10 ï¼ä¸ºkeyè®¾ç½®è¿ææ¶é´(åä½ ç§)\n\n * ttl key ï¼æ¥çè¿æå¤å°ç§è¿æï¼-1è¡¨ç¤ºæ°¸ä¸è¿æï¼-2è¡¨ç¤ºå·²è¿æï¼\n\n\n# rediså¸¸ç¨äºå¤§æ°æ®ç±»å\n\nrediså­å¨çæ¯ï¼key,valueæ ¼å¼çæ°æ®ï¼å¶ä¸­keyé½æ¯å­ç¬¦ä¸²ï¼valueæ5ç§ä¸åçæ°æ®ç»æ\n\nvalueçæ°æ®ç»æï¼\n\n * stringï¼å­ç¬¦ä¸²ç±»å ã\n * hashï¼åå¸ç±»åï¼mapæ ¼å¼ ã\n * listï¼åè¡¨ç±»åï¼linkedlistæ ¼å¼ï¼æ¯æéå¤åç´  ã\n * setï¼éåç±»åï¼ä¸åè®¸éå¤åç´  ã\n * sortedsetï¼æåºéåç±»åï¼ä¸åè®¸éå¤åç´ ï¼ä¸åç´ æé¡ºåºã\n\n\n# å­ç¬¦ä¸²ç±»å string\n\nstringæ¯redisæåºæ¬çç±»åï¼ä¸ä¸ªkeyå¯¹åºä¸ä¸ªvalueã\n\nstringç±»åæ¯äºè¿å¶å®å¨çãæå³çredisçstringå¯ä»¥åå«ä»»ä½æ°æ®ãæ¯å¦jpgå¾çæèåºååçå¯¹è±¡ã\n\nstringç±»åæ¯redisæåºæ¬çæ°æ®ç±»åï¼ä¸ä¸ªredisä¸­å­ç¬¦ä¸²valueæå¤å¯ä»¥æ¯512mã\n\n# å¸¸ç¨å½ä»¤\n\n * set <key> <value> ï¼æ·»å é®å¼å¯¹\n\n\n\n>  * nxï¼å½æ°æ®åºä¸­keyä¸å­å¨æ¶ï¼æ·»å \n>  * xxï¼å½æ°æ®åºä¸­keyå­å¨æ¶ï¼æ·»å ï¼ä¸nxåæ°äºæ¥\n>  * exï¼keyçè¶æ¶ç§æ°\n>  * pxï¼keyçè¶æ¶æ¯«ç§æ°ï¼ä¸exäºæ¥\n\n * setnx <key> <value>ï¼åªæå¨keyä¸å­å¨æ¶ï¼æ·»å é®å¼å¯¹\n\n * get <key> ï¼æ¥è¯¢å¯¹åºé®å¼\n\n * strlen <key>ï¼è·å¾å¼çé¿åº¦\n\n * del <key>ï¼å é¤é®å¼å¯¹\n\n * getrange <key> <èµ·å§ä½ç½®> <ç»æä½ç½®> ï¼è·å¾å¼çèå´ï¼ç±»ä¼¼javaä¸­çsubstringï¼åååå\n\n * setrange <key> <èµ·å§ä½ç½®> <value> ï¼ç¨è¦åæå¨å­çå­ç¬¦ä¸²å¼ï¼ä»<èµ·å§ä½ç½®>å¼å§(ç´¢å¼ä»0å¼å§)ã\n\n * incr <key>ï¼å°keyä¸­å¨å­çæ°å­å¼å¢1ï¼åªè½å¯¹æ°å­å¼æä½ï¼å¦æä¸ºç©ºï¼æ°å¢å¼ä¸º1\n\n * decr <key>ï¼å°keyä¸­å¨å­çæ°å­å¼å1ï¼åªè½å¯¹æ°å­å¼æä½ï¼å¦æä¸ºç©ºï¼æ°å¢å¼ä¸º-1\n\n * incrby/decrby <key> <æ­¥é¿>ï¼å° key ä¸­å¨å­çæ°å­å¼å¢åï¼èªå®ä¹æ­¥é¿\n\n * append <key> <value>ï¼å°ç»å®ç<value>è¿½å å°åå¼çæ«å°¾\n\n * mset <key1> <value1> <key2> <value2> ....ï¼åæ¶è®¾ç½®ä¸ä¸ªæå¤ä¸ª key-valueå¯¹ï¼è¦ä¹å¨æåï¼è¦ä¹å¨å¤±è´¥ï¼\n\n * mget <key1> <key2> <key3> .....ï¼åæ¶è·åä¸ä¸ªæå¤ä¸ªvalueï¼è¦ä¹å¨æåï¼è¦ä¹å¨å¤±è´¥ï¼\n\n * msetnx <key1> <value1> <key2> <value2> .....ï¼åæ¶è®¾ç½®ä¸ä¸ªæå¤ä¸ª key-value å¯¹ï¼å½ä¸ä»å½ææç»å® key é½ä¸å­å¨ï¼è¦ä¹å¨æåï¼è¦ä¹å¨å¤±è´¥ï¼\n\n * setex <key> <è¿ææ¶é´> <value>ï¼è®¾ç½®é®å¼çåæ¶ï¼è®¾ç½®è¿ææ¶é´ï¼åä½ç§ã\n\n * getset <key> <value>ï¼ä»¥æ°æ¢æ§ï¼è®¾ç½®äºæ°å¼åæ¶è·å¾æ§å¼ã\n\n# æ°æ®ç»æ\n\nstringçæ°æ®ç»æä¸ºç®åå¨æå­ç¬¦ä¸²(simple dynamic stringï¼ç¼©åsds)ãæ¯å¯ä»¥ä¿®æ¹çå­ç¬¦ä¸²ï¼åé¨ç»æå®ç°ä¸ç±»ä¼¼äºjavaçarraylistï¼éç¨é¢åéåä½ç©ºé´çæ¹å¼æ¥åå°åå­çé¢ç¹åéã\n\n\n\nå¦å¾ä¸­æç¤ºï¼åé¨ä¸ºå½åå­ç¬¦ä¸²å®éåéçç©ºé´capacityä¸è¬è¦é«äºå®éå­ç¬¦ä¸²é¿åº¦lenãå½å­ç¬¦ä¸²é¿åº¦å°äº1mæ¶ï¼æ©å®¹é½æ¯å åç°æçç©ºé´ï¼å¦æè¶è¿1mï¼æ©å®¹æ¶ä¸æ¬¡åªä¼å¤æ©1mçç©ºé´ãå­ç¬¦ä¸²æå¤§é¿åº¦ä¸º512mã\n\n\n# åè¡¨ç±»å list\n\nåé®å¤å¼\n\nredisåè¡¨æ¯ç®åçå­ç¬¦ä¸²åè¡¨ï¼æç§æå¥é¡ºåºæåºãä½ å¯ä»¥æ·»å ä¸ä¸ªåç´ å°åè¡¨çå¤´é¨ï¼å·¦è¾¹ï¼æèå°¾é¨ï¼å³è¾¹ï¼ã\n\nå®çåºå±å®éæ¯ä¸ªååé¾è¡¨ï¼å¯¹ä¸¤ç«¯çæä½æ§è½å¾é«ï¼éè¿ç´¢å¼ä¸æ çæä½ä¸­é´çèç¹æ§è½ä¼è¾å·®ã\n\n\n\n# å¸¸ç¨å½ä»¤\n\n * lpush <key> <value1> <value2> <value3> ... ï¼å°ä¸ä¸ªæå¤ä¸ªåç´ å å¥åè¡¨å·¦è¾¹\n\n * rpush <key> <value1> <value2> <value3> ... ï¼å°ä¸ä¸ªæå¤ä¸ªåç´ å å¥åè¡¨å³è¾¹\n\n * lpop <key> ï¼ä»å·¦è¾¹ååºä¸ä¸ªå¼ãå¼å¨é®å¨ï¼å¼åé®äº¡ã\n\n * rpop <key> ï¼ä»å³è¾¹ååºä¸ä¸ªå¼ãå¼å¨é®å¨ï¼å¼åé®äº¡ã\n\n\n\n * rpoplpush <key1> <key2> ï¼ä»åè¡¨å³è¾¹ååºä¸ä¸ªå¼ï¼æå°åè¡¨å·¦è¾¹ã\n * lrange <key> <start> <stop> ï¼æç§ç´¢å¼ä¸æ è·å¾åç´ (ä»å·¦å°å³)\n * lrange mylist 0 -1 ï¼ 0å·¦è¾¹ç¬¬ä¸ä¸ªï¼-1å³è¾¹ç¬¬ä¸ä¸ªï¼ï¼0-1è¡¨ç¤ºè·åææï¼\n * lindex <key> <index> ï¼æç§ç´¢å¼ä¸æ è·å¾åç´ (ä»å·¦å°å³)\n * llen <key> ï¼è·å¾åè¡¨é¿åº¦\n\n\n\n * linsert <key> before <value> <newvalue> ï¼å¨çåé¢æå¥æå¥å¼\n * lrem <key> <n> <value> ï¼ä»å·¦è¾¹å é¤nä¸ªvalue(ä»å·¦å°å³)\n * lset<key> <index> <value> ï¼å°åè¡¨keyä¸æ ä¸ºindexçå¼æ¿æ¢ævalue\n\n# æ°æ®ç»æ\n\nlistçæ°æ®ç»æä¸ºå¿«éé¾è¡¨quicklistã\n\né¦åå¨åè¡¨åç´ è¾å°çæåµä¸ä¼ä½¿ç¨ä¸åè¿ç»­çåå­å­å¨ï¼è¿ä¸ªç»ææ¯ziplistï¼ä¹å³æ¯åç¼©åè¡¨ã\n\nå®å°ææçåç´ ç´§æ¨çä¸èµ·å­å¨ï¼åéçæ¯ä¸åè¿ç»­çåå­ã\n\nå½æ°æ®éæ¯è¾å¤çæ¶åæä¼æ¹æquicklistã\n\nå ä¸ºæ®éçé¾è¡¨éè¦çéå æéç©ºé´å¤ªå¤§ï¼ä¼æ¯è¾æµªè´¹ç©ºé´ãæ¯å¦è¿ä¸ªåè¡¨éå­çåªæ¯intç±»åçæ°æ®ï¼ç»æä¸è¿éè¦ä¸¤ä¸ªé¢å¤çæéprevånextã\n\n\n\nrediså°é¾è¡¨åziplistç»åèµ·æ¥ç»æäºquicklistãä¹å°±æ¯å°å¤ä¸ªziplistä½¿ç¨ååæéä¸²èµ·æ¥ä½¿ç¨ãè¿æ ·æ¢æ»¡è¶³äºå¿«éçæå¥å é¤æ§è½ï¼åä¸ä¼åºç°å¤ªå¤§çç©ºé´åä½ã\n\n\n# éåç±»å set\n\nredis setå¯¹å¤æä¾çåè½ä¸listç±»ä¼¼æ¯ä¸ä¸ªåè¡¨çåè½ï¼ç¹æ®ä¹å¤å¨äºsetå¯ä»¥èªå¨æéï¼å½éè¦å­å¨ä¸ä¸ªåè¡¨æ°æ®ï¼åä¸å¸æåºç°éå¤æ°æ®æ¶ï¼setæ¯ä¸ä¸ªå¾å¥½çéæ©ï¼å¹¶ä¸setæä¾äºå¤æ­æä¸ªæåæ¯å¦å¨ä¸ä¸ªsetéååçéè¦æ¥å£ï¼è¿ä¸ªä¹æ¯listæä¸è½æä¾çã\n\nredisçsetæ¯stringç±»åçæ åºéåãå®åºå±å¶å®æ¯ä¸ä¸ªvalueä¸ºnullçhashè¡¨ï¼æä»¥æ·»å ï¼å é¤ï¼æ¥æ¾çå¤æåº¦é½æ¯o(1)ã\n\nä¸ä¸ªç®æ³ï¼éçæ°æ®çå¢å ï¼æ§è¡æ¶é´çé¿ç­ï¼å¦ææ¯o(1)ï¼æ°æ®å¢å ï¼æ¥æ¾æ°æ®çæ¶é´ä¸åã\n\n# å¸¸ç¨å½ä»¤\n\n * sadd <key> <value1> <value2> ..... ï¼å°ä¸ä¸ªæå¤ä¸ªåç´ å å¥å°éåkeyä¸­ï¼å·²ç»å­å¨çåç´ å°è¢«å¿½ç¥\n\n * smembers <key> ï¼ååºè¯¥éåçææå¼\n\n * sismember <key> <value> ï¼å¤æ­éåæ¯å¦ä¸ºå«æè¯¥å¼ï¼æ1ï¼æ²¡æ0\n\n * scard <key> ï¼è¿åè¯¥éåçåç´ ä¸ªæ°\n\n * spop <key>ï¼éæºä»è¯¥éåä¸­ååºä¸ä¸ªå¼ã\n\n * srandmember <key> <n> ï¼éæºä»è¯¥éåä¸­ååºnä¸ªå¼ï¼ä¸ä¼ä»éåä¸­å é¤\n\n * srem <key> <value1> <value2> .... ï¼å é¤éåä¸­çæä¸ªåç´ \n\n * smove <source><destination> ï¼valueæéåä¸­ä¸ä¸ªå¼ä»ä¸ä¸ªéåç§»å¨å°å¦ä¸ä¸ªéå\n\n * sinter <key1><key2> ï¼è¿åä¸¤ä¸ªéåçäº¤éåç´ ã\n\n * sunion <key1><key2> ï¼è¿åä¸¤ä¸ªéåçå¹¶éåç´ ã\n\n * sdiff <key1><key2> ï¼è¿åä¸¤ä¸ªéåçå·®éåç´ (key1ä¸­çï¼ä¸åå«key2ä¸­ç)\n\n# æ°æ®ç»æ\n\nsetæ°æ®ç»ææ¯dictå­å¸ï¼å­å¸æ¯ç¨åå¸è¡¨å®ç°çã\n\njavaä¸­hashsetçåé¨å®ç°ä½¿ç¨çæ¯hashmapï¼åªä¸è¿ææçvalueé½æååä¸ä¸ªå¯¹è±¡ãredisçsetç»æä¹æ¯ä¸æ ·ï¼å®çåé¨ä¹ä½¿ç¨hashç»æï¼ææçvalueé½æååä¸ä¸ªåé¨å¼ã\n\n\n# åå¸ç±»å hash\n\nredis hash æ¯ä¸ä¸ªé®å¼å¯¹éåã\n\nredis hashæ¯ä¸ä¸ªstringç±»åçfieldåvalueçæ å°è¡¨ï¼hashç¹å«éåç¨äºå­å¨å¯¹è±¡ãç±»ä¼¼javaéé¢çmap<string, object>\n\nç¨æ·idä¸ºæ¥æ¾çkeyï¼å­å¨çvalueç¨æ·å¯¹è±¡åå«å§åï¼å¹´é¾ï¼çæ¥ç­ä¿¡æ¯ï¼å¦æç¨æ®éçkey/valueç»ææ¥å­å¨\n\nä¸»è¦æä»¥ä¸2ç§å­å¨æ¹å¼ï¼\n\n\n\néè¿key(ç¨æ·id) + field(å±æ§æ ç­¾)å°±å¯ä»¥æä½å¯¹åºå±æ§æ°æ®äºï¼æ¢ä¸éè¦éå¤å­å¨æ°æ®ï¼ä¹ä¸ä¼å¸¦æ¥åºåååå¹¶åä¿®æ¹æ§å¶çé®é¢ï¼\n\n\n\n# å¸¸ç¨å½ä»¤\n\n * hset <key> <field> <value> ï¼ç»éåä¸­çé®èµå¼\n * hget <key> <field> ï¼ä»éåååº value\n * hmset <key> <field1> <value1> <field2> <value2>... ï¼æ¹éè®¾ç½®hashçå¼\n * hexists <key> <field> ï¼æ¥çåå¸è¡¨keyä¸­ï¼ç»å®åfieldæ¯å¦å­å¨ã\n * hkeys <key> ï¼ååºè¯¥hashéåçææfield\n * hvals <key> ï¼ååºè¯¥hashéåçæævalue\n * hincrby <key> <field> <increment> ï¼ä¸ºåå¸è¡¨ key ä¸­çå field çå¼å ä¸å¢é 1 -1\n * hsetnx <key> <field> <value> ï¼å°åå¸è¡¨ key ä¸­çå field çå¼è®¾ç½®ä¸º value ï¼å½ä¸ä»å½å field ä¸å­å¨\n\n# æ°æ®ç»æ\n\nhashç±»åå¯¹åºçæ°æ®ç»ææ¯ä¸¤ç§ï¼ziplistï¼åç¼©åè¡¨ï¼ï¼hashtableï¼åå¸è¡¨ï¼ãå½field-valueé¿åº¦è¾ç­ä¸ä¸ªæ°è¾å°æ¶ï¼ä½¿ç¨ziplistï¼å¦åä½¿ç¨hashtableã\n\n\n# æåºéåç±»å sortedset\n\nredisæåºéåzsetä¸æ®ééåsetéå¸¸ç¸ä¼¼ï¼æ¯ä¸ä¸ªæ²¡æéå¤åç´ çå­ç¬¦ä¸²éåã\n\nä¸åä¹å¤æ¯æåºéåçæ¯ä¸ªæåé½å³èäºä¸ä¸ªè¯åï¼scoreï¼ï¼è¿ä¸ªè¯åï¼scoreï¼è¢«ç¨æ¥æç§ä»æä½åå°æé«åçæ¹å¼æåºéåä¸­çæåãéåçæåæ¯å¯ä¸çï¼ä½è¯åå¯ä»¥éå¤ã\n\nå ä¸ºåç´ æ¯æåºçï¼æä»¥å¯ä»¥å¾å¿«çæ ¹æ®è¯åï¼scoreï¼æèæ¬¡åºï¼positionï¼æ¥è·åä¸ä¸ªèå´çåç´ ã\n\nè®¿é®æåºéåçä¸­é´åç´ ä¹æ¯éå¸¸å¿«çï¼å æ­¤è½å¤ä½¿ç¨æåºéåä½ä¸ºä¸ä¸ªæ²¡æéå¤æåçæºè½åè¡¨ã\n\n# å¸¸ç¨å½ä»¤\n\n * zadd <key> <score1> <value1> <score2> <value2>â¦ ï¼å°ä¸ä¸ªæå¤ä¸ªåç´ åscoreå¼å å¥å°æåºékeyä¸­\n * zrange <key> <start> <stop> [withscores] ï¼è¿åæåºékeyä¸­ä¸æ å¨ä¹é´çåç´ ï¼å¸¦withscoresï¼å¯ä»¥è®©åæ°ä¸èµ·åå¼è¿åå°ç»æé\n * zrangebyscore key min max [withscores] [limit offset count] ï¼è¿åæåºékeyä¸­ï¼ææ score å¼ä»äº min å max ä¹é´(åæ¬ç­äº min æ max )çæåï¼æåºéæåæ score å¼éå¢(ä»å°å°å¤§)æ¬¡åºæå\n * zrevrangebyscore key max min [withscores] [limit offset count] ï¼ åä¸ï¼æ¹ä¸ºä»å¤§å°å°æåã\n * zincrby <key> <increment> <value> ï¼ä¸ºåç´ çscoreå ä¸å¢é\n * zrem <key> <value> ï¼å é¤è¯¥éåä¸æå®å¼çåç´ \n * zcount <key> <min> <max> ï¼ç»è®¡è¯¥éåï¼åæ°åºé´åçåç´ ä¸ªæ°\n * zrank <key> <value> ï¼è¿åè¯¥å¼å¨éåä¸­çæåï¼ä»0å¼å§\n\n# æ°æ®ç»æ\n\nsortedset(zset)æ¯redisæä¾çä¸ä¸ªéå¸¸ç¹å«çæ°æ®ç»æï¼ä¸æ¹é¢å®ç­ä»·äºjavaçæ°æ®ç»æmap<string, double>ï¼å¯ä»¥ç»æ¯ä¸ä¸ªåç´ valueèµäºä¸ä¸ªæéscoreï¼å¦ä¸æ¹é¢å®åç±»ä¼¼äºtreesetï¼åé¨çåç´ ä¼æç§æéscoreè¿è¡æåºï¼å¯ä»¥å¾å°æ¯ä¸ªåç´ çåæ¬¡ï¼è¿å¯ä»¥éè¿scoreçèå´æ¥è·ååç´ çåè¡¨ã\n\nzsetåºå±ä½¿ç¨äºä¸¤ä¸ªæ°æ®ç»æï¼\n\n 1. hashï¼hashçä½ç¨å°±æ¯å³èåç´ valueåæéscoreï¼ä¿éåç´ valueçå¯ä¸æ§ï¼å¯ä»¥éè¿åç´ valueæ¾å°ç¸åºçscoreå¼ã\n 2. è·³è·è¡¨ï¼è·³è·è¡¨çç®çå¨äºç»åç´ valueæåºï¼æ ¹æ®scoreçèå´è·ååç´ åè¡¨ã\n\n# è·³è·è¡¨ï¼è·³è¡¨ï¼\n\næåºéåå¨çæ´»ä¸­æ¯è¾å¸¸è§ï¼ä¾å¦æ ¹æ®æç»©å¯¹å­¦çæåï¼æ ¹æ®å¾åå¯¹ç©å®¶æåç­ãå¯¹äºæåºéåçåºå±å®ç°ï¼å¯ä»¥ç¨æ°ç»ãå¹³è¡¡æ ãé¾è¡¨ç­ãæ°ç»ä¸ä¾¿åç´ çæå¥ãå é¤ï¼å¹³è¡¡æ æçº¢é»æ è½ç¶æçé«ä½ç»æå¤æï¼é¾è¡¨æ¥è¯¢éè¦éåæææçä½ã\n\nrediséç¨çæ¯è·³è·è¡¨ãè·³è·è¡¨æçå ªæ¯çº¢é»æ ï¼å®ç°è¿æ¯çº¢é»æ ç®åã\n\næåºé¾è¡¨ï¼\n\n\n\nè¦æ¥æ¾å¼ä¸º51çåç´ ï¼éè¦ä»ç¬¬ä¸ä¸ªåç´ å¼å§ä¾æ¬¡æ¥æ¾ãæ¯è¾æè½æ¾å°ï¼å±éè¦6æ¬¡æ¯è¾ã\n\nè·³è·è¡¨ï¼\n\n\n\n 1. ä»ç¬¬2å±å¼å§ï¼1èç¹æ¯51èç¹å°ï¼ååæ¯è¾ã\n 2. 21èç¹æ¯51èç¹å°ï¼ç»§ç»­ååæ¯è¾ï¼åé¢å°±æ¯nulläºï¼æä»¥ä»21èç¹åä¸å°ç¬¬1å±ã\n 3. å¨ç¬¬1å±ï¼41èç¹æ¯51èç¹å°ï¼ç»§ç»­ååï¼61èç¹æ¯51èç¹å¤§ï¼æä»¥ä»41åä¸\n 4. å¨ç¬¬0å±ï¼51èç¹ä¸ºè¦æ¥æ¾çèç¹ï¼èç¹è¢«æ¾å°ï¼å±æ¥æ¾4æ¬¡ã\n\nä»æ­¤å¯ä»¥çåºè·³è·è¡¨æ¯æåºé¾è¡¨æçè¦é«ã",charsets:{cjk:!0},lastUpdated:"2022/11/25, 18:48:06",lastUpdatedTimestamp:1669373286e3},{title:"Redisæ°æ°æ®ç±»å",frontmatter:{title:"Redisæ°æ°æ®ç±»å",date:"2022-12-12T14:59:51.000Z",permalink:"/pages/wuy0993s/",categories:["æ°æ®åº"],tags:["Redis"],author:{name:"ä¹æ¨åç"}},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/02.Redis/05.Redis%E6%96%B0%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html",relativePath:"03.æ°æ®åº/02.Redis/05.Redisæ°æ°æ®ç±»å.md",key:"v-fbe99ed8",path:"/pages/wuy0993s/",headers:[{level:2,title:"Bitmaps",slug:"bitmaps",normalizedTitle:"bitmaps",charIndex:2},{level:3,title:"å½ä»¤",slug:"å½ä»¤",normalizedTitle:"å½ä»¤",charIndex:305},{level:4,title:"setbit",slug:"setbit",normalizedTitle:"setbit",charIndex:418},{level:4,title:"getbit",slug:"getbit",normalizedTitle:"getbit",charIndex:817},{level:4,title:"bitcount",slug:"bitcount",normalizedTitle:"bitcount",charIndex:948},{level:4,title:"bitop",slug:"bitop",normalizedTitle:"bitop",charIndex:1664},{level:3,title:"Bitmapsä¸setå¯¹æ¯",slug:"bitmapsä¸setå¯¹æ¯",normalizedTitle:"bitmapsä¸setå¯¹æ¯",charIndex:2193},{level:2,title:"HyperLogLog",slug:"hyperloglog",normalizedTitle:"hyperloglog",charIndex:2830},{level:3,title:"å½ä»¤",slug:"å½ä»¤-2",normalizedTitle:"å½ä»¤",charIndex:305},{level:4,title:"pfadd",slug:"pfadd",normalizedTitle:"pfadd",charIndex:3563},{level:4,title:"pfcount",slug:"pfcount",normalizedTitle:"pfcount",charIndex:3702},{level:4,title:"pfmerge",slug:"pfmerge",normalizedTitle:"pfmerge",charIndex:3807},{level:2,title:"Geospatial",slug:"geospatial",normalizedTitle:"geospatial",charIndex:3930},{level:3,title:"å½ä»¤",slug:"å½ä»¤-3",normalizedTitle:"å½ä»¤",charIndex:305},{level:4,title:"geoadd",slug:"geoadd",normalizedTitle:"geoadd",charIndex:4069},{level:4,title:"geopos",slug:"geopos",normalizedTitle:"geopos",charIndex:4459},{level:4,title:"geodist",slug:"geodist",normalizedTitle:"geodist",charIndex:4526},{level:4,title:"georadius",slug:"georadius",normalizedTitle:"georadius",charIndex:4719}],headersStr:"Bitmaps å½ä»¤ setbit getbit bitcount bitop Bitmapsä¸setå¯¹æ¯ HyperLogLog å½ä»¤ pfadd pfcount pfmerge Geospatial å½ä»¤ geoadd geopos geodist georadius",content:"# Bitmaps\n\nç°ä»£è®¡ç®æºç¨äºè¿å¶ï¼ä½ï¼ ä½ä¸ºä¿¡æ¯çåºç¡åä½ï¼ 1ä¸ªå­èç­äº8ä½ï¼ ä¾å¦âabcâå­ç¬¦ä¸²æ¯ç±3ä¸ªå­èç»æï¼ ä½å®éå¨è®¡ç®æºå­å¨æ¶å°å¶ç¨äºè¿å¶è¡¨ç¤ºï¼ âabcâåå«å¯¹åºçASCIIç åå«æ¯97ã 98ã 99ï¼ å¯¹åºçäºè¿å¶åå«æ¯01100001ã 01100010å01100011ï¼å¦ä¸å¾\n\n\n\nåçå°ä½¿ç¨æä½ä½è½å¤ææå°æé«åå­ä½¿ç¨çåå¼åæçã\n\nRedisæä¾äºBitmapsè¿ä¸ªâæ°æ®ç±»åâå¯ä»¥å®ç°å¯¹ä½çæä½ï¼\n\n\n 1. Bitmapsæ¬èº«ä¸æ¯ä¸ç§æ°æ®ç±»åï¼ å®éä¸å®å°±æ¯å­ç¬¦ä¸²ï¼key-valueï¼ ï¼ ä½æ¯å®å¯ä»¥å¯¹å­ç¬¦ä¸²çä½è¿è¡æä½ã\n 2. Bitmapsåç¬æä¾äºä¸å¥å½ä»¤ï¼ æä»¥å¨Redisä¸­ä½¿ç¨Bitmapsåä½¿ç¨å­ç¬¦ä¸²çæ¹æ³ä¸å¤ªç¸åã å¯ä»¥æBitmapsæ³è±¡æä¸ä¸ªä»¥'ä½'ä¸ºåä½çæ°ç»ï¼ æ°ç»çæ¯ä¸ªåååªè½å­å¨0å1ï¼ æ°ç»çä¸æ å¨Bitmapsä¸­å«ååç§»éã\n\n\n\n\n# å½ä»¤\n\n# setbit\n\n * setbit <key> <offset> <value> ï¼è®¾ç½®Bitmapsä¸­æä¸ªåç§»éçå¼ï¼0æ1ï¼\n   * offsetï¼åç§»éä»0å¼å§\n\nå®ä¾ï¼æ¯ä¸ªç¬ç«ç¨æ·æ¯å¦è®¿é®è¿ç½ç«å­æ¾å¨Bitmapsä¸­ï¼ å°è®¿é®çç¨æ·è®°å1ï¼ æ²¡æè®¿é®çç¨æ·è®°å0ï¼ ç¨åç§»éä½ä¸ºç¨æ·çidã\n\nè®¾ç½®é®çç¬¬offsetä¸ªä½çå¼ï¼ä»0ç®èµ·ï¼ï¼åè®¾ç°å¨æ20ä¸ªç¨æ·ï¼userid=1ã6ã11ã15ã19 çç¨æ·å¯¹ç½ç«è¿è¡äºè®¿é®ï¼ é£ä¹å½åBitmapsåå§åç»æå¦å¾ï¼\n\n\n\n\n\nå¾å¤åºç¨çç¨æ·idä»¥ä¸ä¸ªæå®æ°å­ï¼ä¾å¦10000ï¼ å¼å¤´ï¼ ç´æ¥å°ç¨æ·idåBitmapsçåç§»éå¯¹åºå¿å¿ä¼é æä¸å®çæµªè´¹ï¼ éå¸¸çåæ³æ¯æ¯æ¬¡åsetbitæä½æ¶å°ç¨æ·idåå»è¿ä¸ªæå®æ°å­ã\n\n> å¨ç¬¬ä¸æ¬¡åå§åBitmapsæ¶ï¼åå¦åç§»ééå¸¸å¤§ï¼æ´ä¸ªåå§åè¿ç¨æ§è¡ä¼æ¯è¾æ¢ï¼å¯è½ä¼é æRedisçé»å¡ã\n\n# getbit\n\n * getbit <key> <offset> ï¼è·åBitmapsä¸­æä¸ªåç§»éçå¼ï¼è·åé®çç¬¬offsetä½çå¼ï¼ä»0å¼å§ç®ï¼\n\nå®ä¾ï¼è·åid=8çç¨æ·æ¯å¦è®¿é®è¿ï¼ è¿å0è¯´ææ²¡æè®¿é®è¿ï¼\n\n\n\nå ä¸º100æ ¹æ¬ä¸å­å¨ï¼æä»¥ä¹æ¯è¿å0\n\n# bitcount\n\nç»è®¡å­ç¬¦ä¸²è¢«è®¾ç½®ä¸º1çbitæ°ãä¸è¬æåµä¸ï¼ç»å®çæ´ä¸ªå­ç¬¦ä¸²é½ä¼è¢«è¿è¡è®¡æ°ï¼éè¿æå®é¢å¤ç start æ end åæ°ï¼å¯ä»¥è®©è®¡æ°åªå¨ç¹å®çä½ä¸è¿è¡ã\n\nstart å end åæ°çè®¾ç½®ï¼é½å¯ä»¥ä½¿ç¨è´æ°å¼ï¼æ¯å¦ -1 è¡¨ç¤ºæåä¸ä¸ªä½ï¼è -2 è¡¨ç¤ºåæ°ç¬¬äºä¸ªä½ï¼startãend æ¯æbitç»çå­èçä¸æ æ°ï¼äºèçåå«ã\n\n * bitcount <key> [start end] ï¼ç»è®¡å­ç¬¦ä¸²ä»startå­èå°endå­èæ¯ç¹å¼ä¸º1çæ°é\n\nå®ä¾ï¼è®¡ç®è®¿é®çç¨æ·æ°é\n\n\n\nstartåendä»£è¡¨èµ·å§åç»æå­èæ°ï¼ä¸é¢æä½è®¡ç®ç¨æ·idå¨ç¬¬1ä¸ªå­èå°ç¬¬3ä¸ªå­èä¹é´çç¬ç«è®¿é®ç¨æ·æ°ï¼ å¯¹åºçç¨æ·idæ¯11ï¼15ï¼ 19ã\n\n\n\nä¸¾ä¾ï¼ K1 ã01000001 01000000 00000000 00100001ãï¼å¯¹åºã0ï¼1ï¼2ï¼3ã\n\n * bitcount K1 1 2 ï¼ ç»è®¡ä¸æ 1ã2å­èç»ä¸­bit=1çä¸ªæ°ï¼å³01000000 00000000\n   * bitcount K1 1 2 â 1\n * bitcount K1 1 3 ï¼ ç»è®¡ä¸æ 1ã3å­èç»ä¸­bit=1çä¸ªæ°ï¼å³01000000 00000000 00100001\n   * bitcount K1 1 3 â 3\n * bitcount K1 0 -2 ï¼ç»è®¡ä¸æ 0å°ä¸æ åæ°ç¬¬2ï¼å­èç»ä¸­bit=1çä¸ªæ°ï¼å³01000001 01000000 00000000\n   * bitcount K1 0 -2 â 3\n\n> redisçsetbitè®¾ç½®ææ¸é¤çæ¯bitä½ç½®ï¼èbitcountè®¡ç®çæ¯byteä½ç½®\n\n# bitop\n\n * bitop and(or/not/xor) <destkey> [keyâ¦] ï¼bitopæ¯ä¸ä¸ªå¤åæä½ï¼å®å¯ä»¥åå¤ä¸ªBitmapsçandï¼äº¤éï¼ãorï¼å¹¶éï¼ãnotï¼éï¼ãxorï¼å¼æï¼æä½å¹¶å°ç»æä¿å­å¨destkeyä¸­ã\n\nå®ä¾ï¼\n\n11-04è®¿é®ç½ç«çuserid=1,2,5,9ã\n\nsetbit user:1104 1 1\nsetbit user:1104 2 1\nsetbit user:1104 5 1\nsetbit user:1104 9 1\n\n\n\n\n11-03è®¿é®ç½ç«çuserid=0,1,4,9ã\n\nsetbit user:1103 0 1\nsetbit user:1103 1 1\nsetbit user:1103 4 1\nsetbit user:1103 9 1\n\n\n\n\nè®¡ç®åºä¸¤å¤©é½è®¿é®è¿ç½ç«çç¨æ·æ°éï¼\n\nbitop and user:and:1104_03 user:1103 user:1104\n\n\n\n\n\n\nè®¡ç®åºä»»æä¸å¤©é½è®¿é®è¿ç½ç«çç¨æ·æ°éï¼ä¾å¦ææ´»è·å°±æ¯ç±»ä¼¼è¿ç§ï¼ï¼å¯ä»¥ä½¿ç¨oræ±å¹¶éï¼\n\nbitop or user:or:1104_03 user:1103 user:1104\n\n\n\n\n\n# Bitmapsä¸setå¯¹æ¯\n\nåè®¾ç½ç«æ1äº¿ç¨æ·ï¼æ¯å¤©ç¬ç«è®¿é®çç¨æ·æ5åä¸ï¼å¦ææ¯å¤©ç¨éåç±»ååBitmapsåå«å­å¨æ´»è·ç¨æ·å¯ä»¥å¾å°è¡¨ï¼\n\næ°æ®ç±»å      æ¯ä¸ªç¨æ·IDå ç¨ç©ºé´   éè¦å­å¨çç¨æ·é    å¨é¨åå­é\néåç±»å      64ä½          50000000    64ä½*50000000 = 400MB\nBitmaps   1ä½           100000000   1ä½*100000000 = 12.5MB\n\nå¾ææ¾ï¼è¿ç§æåµä¸ä½¿ç¨Bitmapsè½èçå¾å¤çåå­ç©ºé´ï¼å°¤å¶æ¯éçæ¶é´æ¨ç§»èççåå­è¿æ¯éå¸¸å¯è§çï¼\n\næ°æ®ç±»å      ä¸å¤©       ä¸ä¸ªæ     ä¸å¹´\néåç±»å      400MB    12GB    144GB\nBitmaps   12.5MB   375MB   4.5GB\n\nä½Bitmapså¹¶ä¸æ¯ä¸éæ²¹ï¼åå¦è¯¥ç½ç«æ¯å¤©çç¬ç«è®¿é®ç¨æ·å¾å°ï¼ä¾å¦åªæ10ä¸ï¼å¤§éçåµå°¸ç¨æ·ï¼ï¼é£ä¹ä¸¤èçå¯¹æ¯å¦ä¸è¡¨æç¤ºï¼ å¾æ¾ç¶ï¼ä½¿ç¨Bitmapså°±ä¸å¤ªåéäºï¼å ä¸ºåºæ¬ä¸å¤§é¨åä½é½æ¯0ã\n\næ°æ®ç±»å      æ¯ä¸ªUSERIDå ç¨ç©ºé´   éè¦å­å¨çç¨æ·é    å¨é¨åå­é\néåç±»å      64ä½            100000      64ä½*100000 = 800KB\nBitmaps   1ä½             100000000   1ä½*100000000 = 12.5MB\n\n\n# HyperLogLog\n\nå¨å·¥ä½å½ä¸­ï¼ç»å¸¸ä¼éå°ä¸ç»è®¡ç¸å³çåè½éæ±ï¼æ¯å¦ç»è®¡ç½ç«PVï¼PageViewé¡µé¢è®¿é®éï¼ï¼å¯ä»¥ä½¿ç¨Redisçincrãincrbyè½»æ¾å®ç°ã\n\nä½åUVï¼UniqueVisitorï¼ç¬ç«è®¿å®¢ï¼ãç¬ç«IPæ°ãæç´¢è®°å½æ°ç­éè¦å»éåè®¡æ°çé®é¢å¦ä½è§£å³ï¼è¿ç§æ±éåä¸­ä¸éå¤åç´ ä¸ªæ°çé®é¢ç§°ä¸ºåºæ°é®é¢ã\n\nè§£å³åºæ°é®é¢æå¾å¤ç§æ¹æ¡ï¼\n\n 1. æ°æ®å­å¨å¨MySQLè¡¨ä¸­ï¼ä½¿ç¨distinct countè®¡ç®ä¸éå¤ä¸ªæ°\n 2. ä½¿ç¨Redisæä¾çhashãsetãbitmapsç­æ°æ®ç»ææ¥å¤ç\n\nä»¥ä¸çæ¹æ¡ç»æç²¾ç¡®ï¼ä½éçæ°æ®ä¸æ­å¢å ï¼å¯¼è´å ç¨ç©ºé´è¶æ¥è¶å¤§ï¼å¯¹äºéå¸¸å¤§çæ°æ®éæ¯ä¸åå®éçã\n\nè½å¦è½å¤éä½ä¸å®çç²¾åº¦æ¥å¹³è¡¡å­å¨ç©ºé´ï¼Redisæ¨åºäºHyperLogLogã\n\nRedis HyperLogLog æ¯ç¨æ¥ååºæ°ç»è®¡çç®æ³ï¼HyperLogLog çä¼ç¹æ¯ï¼å¨è¾å¥åç´ çæ°éæèä½ç§¯éå¸¸éå¸¸å¤§æ¶ï¼è®¡ç®åºæ°æéçç©ºé´æ»æ¯åºå®çãå¹¶ä¸æ¯å¾å°çã\n\nå¨ Redis éé¢ï¼æ¯ä¸ª HyperLogLog é®åªéè¦è±è´¹ 12 KB åå­ï¼å°±å¯ä»¥è®¡ç®æ¥è¿ 2^64 ä¸ªä¸ååç´ çåºæ°ãè¿åè®¡ç®åºæ°æ¶ï¼åç´ è¶å¤èè´¹åå­å°±è¶å¤çéåå½¢æé²æå¯¹æ¯ã\n\nä½æ¯ï¼å ä¸º HyperLogLog åªä¼æ ¹æ®è¾å¥åç´ æ¥è®¡ç®åºæ°ï¼èä¸ä¼å¨å­è¾å¥åç´ æ¬èº«ï¼æä»¥ HyperLogLog ä¸è½åéåé£æ ·ï¼è¿åè¾å¥çåä¸ªåç´ ã\n\n\n\n> ä»ä¹æ¯åºæ°?\n\n> æ¯å¦æ°æ®é {1, 3, 5, 7, 5, 7, 8} é£ä¹è¿ä¸ªæ°æ®éçåºæ°éä¸º {1, 3, 5 ,7, 8}ï¼åºæ°(ä¸éå¤åç´ )ä¸º5ã åºæ°ä¼°è®¡å°±æ¯å¨è¯¯å·®å¯æ¥åçèå´åï¼å¿«éè®¡ç®åºæ°ã\n\n\n# å½ä»¤\n\n# pfadd\n\n * pfadd <key> <element> [element ...] ï¼æ·»å æå®åç´ å° HyperLogLog ä¸­\n\nå®ä¾ï¼å°ææåç´ æ·»å å°æå®HyperLogLogæ°æ®ç»æä¸­ãå¦ææ§è¡å½ä»¤åHLLä¼°è®¡çè¿ä¼¼åºæ°åçååï¼åè¿å1ï¼å¦åè¿å0ã\n\n\n\n# pfcount\n\n * pfcount<key> [key ...] ï¼è®¡ç®HLLçè¿ä¼¼åºæ°ï¼å¯ä»¥è®¡ç®å¤ä¸ªHLLï¼æ¯å¦ç¨HLLå­å¨æ¯å¤©çUVï¼è®¡ç®ä¸å¨çUVå¯ä»¥ä½¿ç¨7å¤©çUVåå¹¶è®¡ç®å³å¯ã\n\nå®ä¾ï¼\n\n\n\n# pfmerge\n\n * pfmerge <destkey> <sourcekey> [sourcekey ...] ï¼å°ä¸ä¸ªæå¤ä¸ªHLLåå¹¶åçç»æå­å¨å¨å¦ä¸ä¸ªHLLä¸­ï¼æ¯å¦æ¯ææ´»è·ç¨æ·å¯ä»¥ä½¿ç¨æ¯å¤©çæ´»è·ç¨æ·æ¥åå¹¶è®¡ç®å¯å¾\n\nå®ä¾ï¼\n\n\n\n\n# Geospatial\n\nRedis 3.2ä¸­å¢å äºå¯¹GEOç±»åçæ¯æãGEOï¼Geographicï¼å°çä¿¡æ¯çç¼©åãè¯¥ç±»åï¼å°±æ¯åç´ ç2ç»´åæ ï¼å¨å°å¾ä¸å°±æ¯ç»çº¬åº¦ãredisåºäºè¯¥ç±»åï¼æä¾äºç»çº¬åº¦è®¾ç½®ï¼æ¥è¯¢ï¼èå´æ¥è¯¢ï¼è·ç¦»æ¥è¯¢ï¼ç»çº¬åº¦Hashç­å¸¸è§æä½ã\n\n\n# å½ä»¤\n\n# geoadd\n\n * geoadd <key> <longitude> <latitude> <member> [longitude latitude member...] ï¼ æ·»å å°çä½ç½®ï¼ç»åº¦ï¼çº¬åº¦ï¼åç§°ï¼\n\nä¸¤ææ æ³ç´æ¥æ·»å ï¼ä¸è¬ä¼ä¸è½½åå¸æ°æ®ï¼ç´æ¥éè¿ Java ç¨åºä¸æ¬¡æ§å¯¼å¥ã\n\nææçç»åº¦ä» -180 åº¦å° 180 åº¦ãææççº¬åº¦ä» -85.05112878 åº¦å° 85.05112878 åº¦ã\n\nå½åæ ä½ç½®è¶åºæå®èå´æ¶ï¼è¯¥å½ä»¤å°ä¼è¿åä¸ä¸ªéè¯¯ã\n\nå·²ç»æ·»å çæ°æ®ï¼æ¯æ æ³åæ¬¡å¾éé¢æ·»å çã\n\nå®ä¾ï¼\n\ngeoadd china:city 121.47 31.23 shanghai\ngeoadd china:city 106.50 29.53 chongqing 114.05 22.52 shenzhen 116.38 39.90 beijing\n\n\n\n\n# geopos\n\n * geopos <key> <member> [member...] ï¼è·å¾æå®å°åºçåæ å¼\n\nå®ä¾ï¼\n\n\n\n# geodist\n\n * geodist <key> <member1> <member2> [m|km|ft|mi ] ï¼è·åä¸¤ä¸ªä½ç½®ä¹é´çç´çº¿è·ç¦»\n\nåä½ï¼\n\n * m è¡¨ç¤ºåä½ä¸ºç±³[é»è®¤å¼]ã\n * km è¡¨ç¤ºåä½ä¸ºåç±³ã\n * mi è¡¨ç¤ºåä½ä¸ºè±éã\n * ft è¡¨ç¤ºåä½ä¸ºè±å°ºã\n\nå¦æç¨æ·æ²¡ææ¾å¼å°æå®åä½åæ°ï¼ é£ä¹ GEODIST é»è®¤ä½¿ç¨ç±³ä½ä¸ºåä½\n\nå®ä¾ï¼\n\n\n\n# georadius\n\n * georadius <key> < longitude> <latitude> radius m|km|ft|mi ï¼ä»¥ç»å®çç»çº¬åº¦ä¸ºä¸­å¿ï¼æ¾åºæä¸åå¾åçåç´ \n   * ç»åº¦ çº¬åº¦ è·ç¦» åä½\n\nå®ä¾ï¼\n\n",normalizedContent:"# bitmaps\n\nç°ä»£è®¡ç®æºç¨äºè¿å¶ï¼ä½ï¼ ä½ä¸ºä¿¡æ¯çåºç¡åä½ï¼ 1ä¸ªå­èç­äº8ä½ï¼ ä¾å¦âabcâå­ç¬¦ä¸²æ¯ç±3ä¸ªå­èç»æï¼ ä½å®éå¨è®¡ç®æºå­å¨æ¶å°å¶ç¨äºè¿å¶è¡¨ç¤ºï¼ âabcâåå«å¯¹åºçasciiç åå«æ¯97ã 98ã 99ï¼ å¯¹åºçäºè¿å¶åå«æ¯01100001ã 01100010å01100011ï¼å¦ä¸å¾\n\n\n\nåçå°ä½¿ç¨æä½ä½è½å¤ææå°æé«åå­ä½¿ç¨çåå¼åæçã\n\nredisæä¾äºbitmapsè¿ä¸ªâæ°æ®ç±»åâå¯ä»¥å®ç°å¯¹ä½çæä½ï¼\n\n\n 1. bitmapsæ¬èº«ä¸æ¯ä¸ç§æ°æ®ç±»åï¼ å®éä¸å®å°±æ¯å­ç¬¦ä¸²ï¼key-valueï¼ ï¼ ä½æ¯å®å¯ä»¥å¯¹å­ç¬¦ä¸²çä½è¿è¡æä½ã\n 2. bitmapsåç¬æä¾äºä¸å¥å½ä»¤ï¼ æä»¥å¨redisä¸­ä½¿ç¨bitmapsåä½¿ç¨å­ç¬¦ä¸²çæ¹æ³ä¸å¤ªç¸åã å¯ä»¥æbitmapsæ³è±¡æä¸ä¸ªä»¥'ä½'ä¸ºåä½çæ°ç»ï¼ æ°ç»çæ¯ä¸ªåååªè½å­å¨0å1ï¼ æ°ç»çä¸æ å¨bitmapsä¸­å«ååç§»éã\n\n\n\n\n# å½ä»¤\n\n# setbit\n\n * setbit <key> <offset> <value> ï¼è®¾ç½®bitmapsä¸­æä¸ªåç§»éçå¼ï¼0æ1ï¼\n   * offsetï¼åç§»éä»0å¼å§\n\nå®ä¾ï¼æ¯ä¸ªç¬ç«ç¨æ·æ¯å¦è®¿é®è¿ç½ç«å­æ¾å¨bitmapsä¸­ï¼ å°è®¿é®çç¨æ·è®°å1ï¼ æ²¡æè®¿é®çç¨æ·è®°å0ï¼ ç¨åç§»éä½ä¸ºç¨æ·çidã\n\nè®¾ç½®é®çç¬¬offsetä¸ªä½çå¼ï¼ä»0ç®èµ·ï¼ï¼åè®¾ç°å¨æ20ä¸ªç¨æ·ï¼userid=1ã6ã11ã15ã19 çç¨æ·å¯¹ç½ç«è¿è¡äºè®¿é®ï¼ é£ä¹å½åbitmapsåå§åç»æå¦å¾ï¼\n\n\n\n\n\nå¾å¤åºç¨çç¨æ·idä»¥ä¸ä¸ªæå®æ°å­ï¼ä¾å¦10000ï¼ å¼å¤´ï¼ ç´æ¥å°ç¨æ·idåbitmapsçåç§»éå¯¹åºå¿å¿ä¼é æä¸å®çæµªè´¹ï¼ éå¸¸çåæ³æ¯æ¯æ¬¡åsetbitæä½æ¶å°ç¨æ·idåå»è¿ä¸ªæå®æ°å­ã\n\n> å¨ç¬¬ä¸æ¬¡åå§åbitmapsæ¶ï¼åå¦åç§»ééå¸¸å¤§ï¼æ´ä¸ªåå§åè¿ç¨æ§è¡ä¼æ¯è¾æ¢ï¼å¯è½ä¼é æredisçé»å¡ã\n\n# getbit\n\n * getbit <key> <offset> ï¼è·åbitmapsä¸­æä¸ªåç§»éçå¼ï¼è·åé®çç¬¬offsetä½çå¼ï¼ä»0å¼å§ç®ï¼\n\nå®ä¾ï¼è·åid=8çç¨æ·æ¯å¦è®¿é®è¿ï¼ è¿å0è¯´ææ²¡æè®¿é®è¿ï¼\n\n\n\nå ä¸º100æ ¹æ¬ä¸å­å¨ï¼æä»¥ä¹æ¯è¿å0\n\n# bitcount\n\nç»è®¡å­ç¬¦ä¸²è¢«è®¾ç½®ä¸º1çbitæ°ãä¸è¬æåµä¸ï¼ç»å®çæ´ä¸ªå­ç¬¦ä¸²é½ä¼è¢«è¿è¡è®¡æ°ï¼éè¿æå®é¢å¤ç start æ end åæ°ï¼å¯ä»¥è®©è®¡æ°åªå¨ç¹å®çä½ä¸è¿è¡ã\n\nstart å end åæ°çè®¾ç½®ï¼é½å¯ä»¥ä½¿ç¨è´æ°å¼ï¼æ¯å¦ -1 è¡¨ç¤ºæåä¸ä¸ªä½ï¼è -2 è¡¨ç¤ºåæ°ç¬¬äºä¸ªä½ï¼startãend æ¯æbitç»çå­èçä¸æ æ°ï¼äºèçåå«ã\n\n * bitcount <key> [start end] ï¼ç»è®¡å­ç¬¦ä¸²ä»startå­èå°endå­èæ¯ç¹å¼ä¸º1çæ°é\n\nå®ä¾ï¼è®¡ç®è®¿é®çç¨æ·æ°é\n\n\n\nstartåendä»£è¡¨èµ·å§åç»æå­èæ°ï¼ä¸é¢æä½è®¡ç®ç¨æ·idå¨ç¬¬1ä¸ªå­èå°ç¬¬3ä¸ªå­èä¹é´çç¬ç«è®¿é®ç¨æ·æ°ï¼ å¯¹åºçç¨æ·idæ¯11ï¼15ï¼ 19ã\n\n\n\nä¸¾ä¾ï¼ k1 ã01000001 01000000 00000000 00100001ãï¼å¯¹åºã0ï¼1ï¼2ï¼3ã\n\n * bitcount k1 1 2 ï¼ ç»è®¡ä¸æ 1ã2å­èç»ä¸­bit=1çä¸ªæ°ï¼å³01000000 00000000\n   * bitcount k1 1 2 â 1\n * bitcount k1 1 3 ï¼ ç»è®¡ä¸æ 1ã3å­èç»ä¸­bit=1çä¸ªæ°ï¼å³01000000 00000000 00100001\n   * bitcount k1 1 3 â 3\n * bitcount k1 0 -2 ï¼ç»è®¡ä¸æ 0å°ä¸æ åæ°ç¬¬2ï¼å­èç»ä¸­bit=1çä¸ªæ°ï¼å³01000001 01000000 00000000\n   * bitcount k1 0 -2 â 3\n\n> redisçsetbitè®¾ç½®ææ¸é¤çæ¯bitä½ç½®ï¼èbitcountè®¡ç®çæ¯byteä½ç½®\n\n# bitop\n\n * bitop and(or/not/xor) <destkey> [keyâ¦] ï¼bitopæ¯ä¸ä¸ªå¤åæä½ï¼å®å¯ä»¥åå¤ä¸ªbitmapsçandï¼äº¤éï¼ãorï¼å¹¶éï¼ãnotï¼éï¼ãxorï¼å¼æï¼æä½å¹¶å°ç»æä¿å­å¨destkeyä¸­ã\n\nå®ä¾ï¼\n\n11-04è®¿é®ç½ç«çuserid=1,2,5,9ã\n\nsetbit user:1104 1 1\nsetbit user:1104 2 1\nsetbit user:1104 5 1\nsetbit user:1104 9 1\n\n\n\n\n11-03è®¿é®ç½ç«çuserid=0,1,4,9ã\n\nsetbit user:1103 0 1\nsetbit user:1103 1 1\nsetbit user:1103 4 1\nsetbit user:1103 9 1\n\n\n\n\nè®¡ç®åºä¸¤å¤©é½è®¿é®è¿ç½ç«çç¨æ·æ°éï¼\n\nbitop and user:and:1104_03 user:1103 user:1104\n\n\n\n\n\n\nè®¡ç®åºä»»æä¸å¤©é½è®¿é®è¿ç½ç«çç¨æ·æ°éï¼ä¾å¦ææ´»è·å°±æ¯ç±»ä¼¼è¿ç§ï¼ï¼å¯ä»¥ä½¿ç¨oræ±å¹¶éï¼\n\nbitop or user:or:1104_03 user:1103 user:1104\n\n\n\n\n\n# bitmapsä¸setå¯¹æ¯\n\nåè®¾ç½ç«æ1äº¿ç¨æ·ï¼æ¯å¤©ç¬ç«è®¿é®çç¨æ·æ5åä¸ï¼å¦ææ¯å¤©ç¨éåç±»ååbitmapsåå«å­å¨æ´»è·ç¨æ·å¯ä»¥å¾å°è¡¨ï¼\n\næ°æ®ç±»å      æ¯ä¸ªç¨æ·idå ç¨ç©ºé´   éè¦å­å¨çç¨æ·é    å¨é¨åå­é\néåç±»å      64ä½          50000000    64ä½*50000000 = 400mb\nbitmaps   1ä½           100000000   1ä½*100000000 = 12.5mb\n\nå¾ææ¾ï¼è¿ç§æåµä¸ä½¿ç¨bitmapsè½èçå¾å¤çåå­ç©ºé´ï¼å°¤å¶æ¯éçæ¶é´æ¨ç§»èççåå­è¿æ¯éå¸¸å¯è§çï¼\n\næ°æ®ç±»å      ä¸å¤©       ä¸ä¸ªæ     ä¸å¹´\néåç±»å      400mb    12gb    144gb\nbitmaps   12.5mb   375mb   4.5gb\n\nä½bitmapså¹¶ä¸æ¯ä¸éæ²¹ï¼åå¦è¯¥ç½ç«æ¯å¤©çç¬ç«è®¿é®ç¨æ·å¾å°ï¼ä¾å¦åªæ10ä¸ï¼å¤§éçåµå°¸ç¨æ·ï¼ï¼é£ä¹ä¸¤èçå¯¹æ¯å¦ä¸è¡¨æç¤ºï¼ å¾æ¾ç¶ï¼ä½¿ç¨bitmapså°±ä¸å¤ªåéäºï¼å ä¸ºåºæ¬ä¸å¤§é¨åä½é½æ¯0ã\n\næ°æ®ç±»å      æ¯ä¸ªuseridå ç¨ç©ºé´   éè¦å­å¨çç¨æ·é    å¨é¨åå­é\néåç±»å      64ä½            100000      64ä½*100000 = 800kb\nbitmaps   1ä½             100000000   1ä½*100000000 = 12.5mb\n\n\n# hyperloglog\n\nå¨å·¥ä½å½ä¸­ï¼ç»å¸¸ä¼éå°ä¸ç»è®¡ç¸å³çåè½éæ±ï¼æ¯å¦ç»è®¡ç½ç«pvï¼pageviewé¡µé¢è®¿é®éï¼ï¼å¯ä»¥ä½¿ç¨redisçincrãincrbyè½»æ¾å®ç°ã\n\nä½åuvï¼uniquevisitorï¼ç¬ç«è®¿å®¢ï¼ãç¬ç«ipæ°ãæç´¢è®°å½æ°ç­éè¦å»éåè®¡æ°çé®é¢å¦ä½è§£å³ï¼è¿ç§æ±éåä¸­ä¸éå¤åç´ ä¸ªæ°çé®é¢ç§°ä¸ºåºæ°é®é¢ã\n\nè§£å³åºæ°é®é¢æå¾å¤ç§æ¹æ¡ï¼\n\n 1. æ°æ®å­å¨å¨mysqlè¡¨ä¸­ï¼ä½¿ç¨distinct countè®¡ç®ä¸éå¤ä¸ªæ°\n 2. ä½¿ç¨redisæä¾çhashãsetãbitmapsç­æ°æ®ç»ææ¥å¤ç\n\nä»¥ä¸çæ¹æ¡ç»æç²¾ç¡®ï¼ä½éçæ°æ®ä¸æ­å¢å ï¼å¯¼è´å ç¨ç©ºé´è¶æ¥è¶å¤§ï¼å¯¹äºéå¸¸å¤§çæ°æ®éæ¯ä¸åå®éçã\n\nè½å¦è½å¤éä½ä¸å®çç²¾åº¦æ¥å¹³è¡¡å­å¨ç©ºé´ï¼redisæ¨åºäºhyperloglogã\n\nredis hyperloglog æ¯ç¨æ¥ååºæ°ç»è®¡çç®æ³ï¼hyperloglog çä¼ç¹æ¯ï¼å¨è¾å¥åç´ çæ°éæèä½ç§¯éå¸¸éå¸¸å¤§æ¶ï¼è®¡ç®åºæ°æéçç©ºé´æ»æ¯åºå®çãå¹¶ä¸æ¯å¾å°çã\n\nå¨ redis éé¢ï¼æ¯ä¸ª hyperloglog é®åªéè¦è±è´¹ 12 kb åå­ï¼å°±å¯ä»¥è®¡ç®æ¥è¿ 2^64 ä¸ªä¸ååç´ çåºæ°ãè¿åè®¡ç®åºæ°æ¶ï¼åç´ è¶å¤èè´¹åå­å°±è¶å¤çéåå½¢æé²æå¯¹æ¯ã\n\nä½æ¯ï¼å ä¸º hyperloglog åªä¼æ ¹æ®è¾å¥åç´ æ¥è®¡ç®åºæ°ï¼èä¸ä¼å¨å­è¾å¥åç´ æ¬èº«ï¼æä»¥ hyperloglog ä¸è½åéåé£æ ·ï¼è¿åè¾å¥çåä¸ªåç´ ã\n\n\n\n> ä»ä¹æ¯åºæ°?\n\n> æ¯å¦æ°æ®é {1, 3, 5, 7, 5, 7, 8} é£ä¹è¿ä¸ªæ°æ®éçåºæ°éä¸º {1, 3, 5 ,7, 8}ï¼åºæ°(ä¸éå¤åç´ )ä¸º5ã åºæ°ä¼°è®¡å°±æ¯å¨è¯¯å·®å¯æ¥åçèå´åï¼å¿«éè®¡ç®åºæ°ã\n\n\n# å½ä»¤\n\n# pfadd\n\n * pfadd <key> <element> [element ...] ï¼æ·»å æå®åç´ å° hyperloglog ä¸­\n\nå®ä¾ï¼å°ææåç´ æ·»å å°æå®hyperloglogæ°æ®ç»æä¸­ãå¦ææ§è¡å½ä»¤åhllä¼°è®¡çè¿ä¼¼åºæ°åçååï¼åè¿å1ï¼å¦åè¿å0ã\n\n\n\n# pfcount\n\n * pfcount<key> [key ...] ï¼è®¡ç®hllçè¿ä¼¼åºæ°ï¼å¯ä»¥è®¡ç®å¤ä¸ªhllï¼æ¯å¦ç¨hllå­å¨æ¯å¤©çuvï¼è®¡ç®ä¸å¨çuvå¯ä»¥ä½¿ç¨7å¤©çuvåå¹¶è®¡ç®å³å¯ã\n\nå®ä¾ï¼\n\n\n\n# pfmerge\n\n * pfmerge <destkey> <sourcekey> [sourcekey ...] ï¼å°ä¸ä¸ªæå¤ä¸ªhllåå¹¶åçç»æå­å¨å¨å¦ä¸ä¸ªhllä¸­ï¼æ¯å¦æ¯ææ´»è·ç¨æ·å¯ä»¥ä½¿ç¨æ¯å¤©çæ´»è·ç¨æ·æ¥åå¹¶è®¡ç®å¯å¾\n\nå®ä¾ï¼\n\n\n\n\n# geospatial\n\nredis 3.2ä¸­å¢å äºå¯¹geoç±»åçæ¯æãgeoï¼geographicï¼å°çä¿¡æ¯çç¼©åãè¯¥ç±»åï¼å°±æ¯åç´ ç2ç»´åæ ï¼å¨å°å¾ä¸å°±æ¯ç»çº¬åº¦ãredisåºäºè¯¥ç±»åï¼æä¾äºç»çº¬åº¦è®¾ç½®ï¼æ¥è¯¢ï¼èå´æ¥è¯¢ï¼è·ç¦»æ¥è¯¢ï¼ç»çº¬åº¦hashç­å¸¸è§æä½ã\n\n\n# å½ä»¤\n\n# geoadd\n\n * geoadd <key> <longitude> <latitude> <member> [longitude latitude member...] ï¼ æ·»å å°çä½ç½®ï¼ç»åº¦ï¼çº¬åº¦ï¼åç§°ï¼\n\nä¸¤ææ æ³ç´æ¥æ·»å ï¼ä¸è¬ä¼ä¸è½½åå¸æ°æ®ï¼ç´æ¥éè¿ java ç¨åºä¸æ¬¡æ§å¯¼å¥ã\n\nææçç»åº¦ä» -180 åº¦å° 180 åº¦ãææççº¬åº¦ä» -85.05112878 åº¦å° 85.05112878 åº¦ã\n\nå½åæ ä½ç½®è¶åºæå®èå´æ¶ï¼è¯¥å½ä»¤å°ä¼è¿åä¸ä¸ªéè¯¯ã\n\nå·²ç»æ·»å çæ°æ®ï¼æ¯æ æ³åæ¬¡å¾éé¢æ·»å çã\n\nå®ä¾ï¼\n\ngeoadd china:city 121.47 31.23 shanghai\ngeoadd china:city 106.50 29.53 chongqing 114.05 22.52 shenzhen 116.38 39.90 beijing\n\n\n\n\n# geopos\n\n * geopos <key> <member> [member...] ï¼è·å¾æå®å°åºçåæ å¼\n\nå®ä¾ï¼\n\n\n\n# geodist\n\n * geodist <key> <member1> <member2> [m|km|ft|mi ] ï¼è·åä¸¤ä¸ªä½ç½®ä¹é´çç´çº¿è·ç¦»\n\nåä½ï¼\n\n * m è¡¨ç¤ºåä½ä¸ºç±³[é»è®¤å¼]ã\n * km è¡¨ç¤ºåä½ä¸ºåç±³ã\n * mi è¡¨ç¤ºåä½ä¸ºè±éã\n * ft è¡¨ç¤ºåä½ä¸ºè±å°ºã\n\nå¦æç¨æ·æ²¡ææ¾å¼å°æå®åä½åæ°ï¼ é£ä¹ geodist é»è®¤ä½¿ç¨ç±³ä½ä¸ºåä½\n\nå®ä¾ï¼\n\n\n\n# georadius\n\n * georadius <key> < longitude> <latitude> radius m|km|ft|mi ï¼ä»¥ç»å®çç»çº¬åº¦ä¸ºä¸­å¿ï¼æ¾åºæä¸åå¾åçåç´ \n   * ç»åº¦ çº¬åº¦ è·ç¦» åä½\n\nå®ä¾ï¼\n\n",charsets:{cjk:!0},lastUpdated:"2022/11/30, 16:24:57",lastUpdatedTimestamp:1669796697e3},{title:"Redis Javaå®¢æ·ç«¯Jedis",frontmatter:{title:"Redis Javaå®¢æ·ç«¯Jedis",date:"2022-12-20T16:00:30.000Z",permalink:"/pages/a7v81744",categories:["æ°æ®åº"],tags:["Redis"],author:{name:"ä¹æ¨åç"}},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/02.Redis/06.Redis%20Java%E5%AE%A2%E6%88%B7%E7%AB%AFJedis.html",relativePath:"03.æ°æ®åº/02.Redis/06.Redis Javaå®¢æ·ç«¯Jedis.md",key:"v-62132423",path:"/pages/a7v81744/",headers:[{level:2,title:"å¿«éå¥é¨",slug:"å¿«éå¥é¨",normalizedTitle:"å¿«éå¥é¨",charIndex:318},{level:3,title:"åå»ºMavenå·¥ç¨",slug:"åå»ºmavenå·¥ç¨",normalizedTitle:"åå»ºmavenå·¥ç¨",charIndex:327},{level:3,title:"æ·»å ä¾èµ",slug:"æ·»å ä¾èµ",normalizedTitle:"æ·»å ä¾èµ",charIndex:343},{level:3,title:"æµè¯ç¨åº",slug:"æµè¯ç¨åº",normalizedTitle:"æµè¯ç¨åº",charIndex:550},{level:2,title:"Jediså¸¸ç¨API",slug:"jediså¸¸ç¨api",normalizedTitle:"jediså¸¸ç¨api",charIndex:965},{level:3,title:"åºæ¬æä½",slug:"åºæ¬æä½",normalizedTitle:"åºæ¬æä½",charIndex:980},{level:3,title:"key",slug:"key",normalizedTitle:"key",charIndex:1334},{level:3,title:"string",slug:"string",normalizedTitle:"string",charIndex:2758},{level:3,title:"list",slug:"list",normalizedTitle:"list",charIndex:5090},{level:3,title:"set",slug:"set",normalizedTitle:"set",charIndex:844},{level:3,title:"hash",slug:"hash",normalizedTitle:"hash",charIndex:9931},{level:3,title:"äºå¡",slug:"äºå¡",normalizedTitle:"äºå¡",charIndex:11482},{level:2,title:"Jedisè¿æ¥æ± ",slug:"jedisè¿æ¥æ± ",normalizedTitle:"jedisè¿æ¥æ± ",charIndex:12322},{level:3,title:"è¿æ¥æ± å·¥å·ç±»",slug:"è¿æ¥æ± å·¥å·ç±»",normalizedTitle:"è¿æ¥æ± å·¥å·ç±»",charIndex:12701}],excerpt:'<p>Jedisæéè¦çjaråï¼</p>\n\x3c!--beforebegin--\x3e<div class="language-xml extra-class">\x3c!--afterbegin--\x3e<pre v-pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>redis.clients<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jedis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.2.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>\n</code></pre>\n\x3c!--beforeend--\x3e</div>\x3c!--afterend--\x3e',headersStr:"å¿«éå¥é¨ åå»ºMavenå·¥ç¨ æ·»å ä¾èµ æµè¯ç¨åº Jediså¸¸ç¨API åºæ¬æä½ key string list set hash äºå¡ Jedisè¿æ¥æ±  è¿æ¥æ± å·¥å·ç±»",content:'Jedisæéè¦çjaråï¼\n\n<dependency>\n    <groupId>redis.clients</groupId>\n    <artifactId>jedis</artifactId>\n    <version>3.2.0</version>\n</dependency>\n\n\nè¿æ¥Redisæ³¨æäºé¡¹ï¼\n\n 1. ç¦ç¨Linuxçé²ç«å¢ï¼Linux(CentOS7)éæ§è¡å½ä»¤\n\nsystemctl stop/disable firewalld.service   \n\n\n 2. redis.confä¸­æ³¨éæ bind 127.0.0.1\n 3. redis.confä¸­ä¿®æ¹ä¸º protected-mode no\n\n\n# å¿«éå¥é¨\n\n\n# åå»ºMavenå·¥ç¨\n\n\n\n\n# æ·»å ä¾èµ\n\nå¨pom.xmlæä»¶ä¸­æ·»å ä¾èµ\n\n<dependencies>\n    <dependency>\n        <groupId>redis.clients</groupId>\n        <artifactId>jedis</artifactId>\n        <version>3.2.0</version>\n    </dependency>\n</dependencies>\n\n\n\n# æµè¯ç¨åº\n\npublic static void main(String[] args) {\n    // 1. åå»ºè¿æ¥å¯¹è±¡\n    Jedis jedis = new Jedis("192.168.182.133", 6379);\n    // 2. è®¾ç½®Redisçå¯ç ï¼å¦ææ å¯ç å¯ä»¥å¿½ç¥\n    jedis.auth("123456");\n    // 3. æµè¯è¿æ¥æ¯å¦å­å¨\n    String pong = jedis.ping();\n    System.out.println("è¿æ¥æåï¼" + pong);\n\n    // 4. å­å¥ä¸ä¸ªæ°æ®\n    jedis.set("k1", "v1");\n    // 5. ååºä¸ä¸ªæ°æ®\n    System.out.println(jedis.get("k1"));\n    \n    // 6. å³é­è¿æ¥\n    jedis.close();\n}\n\n\n\n# Jediså¸¸ç¨API\n\n\n# åºæ¬æä½\n\npublic static void main(String[] args) {\n    // è®¾ç½®è¿æ¥åæ°\n    Jedis jedis = new Jedis("192.168.182.133", 6379);\n    // éªè¯å¯ç ï¼å¦ææ²¡æè®¾ç½®å¯ç è¿æ®µä»£ç çç¥\n    // éªè¯å¯ç çåæ¶ä¼è¿è¡connectæä½\n    jedis.auth("123456");\n    // è¿æ¥\n    jedis.connect();\n    // æµè¯æ¯å¦è¿è½è¿æ¥ï¼æ¯çè¯è¿åpongï¼æµè¯çåæ¶ä¼è¿è¡connectæä½\n    String pong = jedis.ping();\n    System.out.println("è¿æ¥æåï¼" + pong);\n    // æ¸ç©ºææçkey\n    jedis.flushAll();\n    // éæ¾èµæº\n    jedis.close();\n}\n\n\n\n# key\n\npublic static void main(String[] args) {\n    Jedis jedis = new Jedis("192.168.182.133", 6379);\n    jedis.auth("123456");\n\n    System.out.println("æ¸ç©ºæ°æ®ï¼" + jedis.flushDB());\n    System.out.println("å¤æ­æä¸ªé®æ¯å¦å­å¨ï¼" + jedis.exists("username"));\n    System.out.println("æ°å¢ <\'username\',\'aaa\'> çé®å¼å¯¹ï¼" + jedis.set("username", "aaa"));\n    System.out.println("æ°å¢ <\'password\',\'123\'> çé®å¼å¯¹ï¼" + jedis.set("password", "123"));\n\n    System.out.println("ç³»ç»ä¸­ææçé®å¦ä¸ï¼");\n    Set<String> keys = jedis.keys("*");\n    for (String key : keys) {\n        System.out.println(key);\n    }\n\n    System.out.println("å é¤é® password:" + jedis.del("password"));\n    System.out.println("å¤æ­é® password æ¯å¦å­å¨ï¼" + jedis.exists("password"));\n    System.out.println("æ¥çé® username æå­å¨çå¼çç±»åï¼" + jedis.type("username"));\n    System.out.println("è®¾ç½® username çè¿ææ¶é´:"+jedis.expire("username",60));\n    System.out.println("æ¥ç username çè¿ææ¶é´:"+jedis.ttl("username"));\n    System.out.println("éæºè¿å key ç©ºé´çä¸ä¸ªï¼" + jedis.randomKey());\n    System.out.println("éå½å keyï¼" + jedis.rename("username", "name"));\n    System.out.println("ååºæ¹åç nameï¼" + jedis.get("name"));\n    System.out.println("æç´¢å¼æ¥è¯¢ï¼" + jedis.select(0));\n    System.out.println("å é¤å½åéæ©æ°æ®åºä¸­çææ keyï¼" + jedis.flushDB());\n    System.out.println("è¿åå½åæ°æ®åºä¸­ key çæ°ç®ï¼" + jedis.dbSize());\n    System.out.println("å é¤æææ°æ®åºä¸­çææ keyï¼" + jedis.flushAll());\n}\n\n\n\n# string\n\npublic static void main(String[] args) {\n    Jedis jedis = new Jedis("192.168.182.133", 6379);\n    jedis.auth("123456");\n\n    jedis.flushDB();\n    System.out.println("=========== å¢å æ°æ®å¼å§ ===========");\n    System.out.println(jedis.set("key1", "value1"));\n    System.out.println(jedis.set("key2", "value2"));\n    System.out.println(jedis.set("key3", "value3"));\n    System.out.println("å é¤é® key2:" + jedis.del("key2"));\n    System.out.println("è·åé® key2:" + jedis.get("key2"));\n    System.out.println("ä¿®æ¹ key1:" + jedis.set("key1", "newValue1"));\n    System.out.println("è·å key1 çå¼ï¼" + jedis.get("key1"));\n    System.out.println("å¨ key3 åé¢å å¥å¼ï¼" + jedis.append("key3", "key4"));\n    System.out.println("key3 çå¼ï¼" + jedis.get("key3"));\n    System.out.println("å¢å å¤ä¸ªé®å¼å¯¹ï¼" + jedis.mset("key01", "value01", "key02", "value02", "key03", "value03"));\n    System.out.println("è·åå¤ä¸ªé®å¼å¯¹ï¼" + jedis.mget("key01", "key02", "key03"));\n    System.out.println("è·åå¤ä¸ªé®å¼å¯¹ï¼" + jedis.mget("key01", "key02", "key03", "key04"));\n    System.out.println("å é¤å¤ä¸ªé®å¼å¯¹ï¼" + jedis.del("key01", "key02"));\n    System.out.println("è·åå¤ä¸ªé®å¼å¯¹ï¼" + jedis.mget("key01", "key02", "key03"));\n    System.out.println("=========== å¢å æ°æ®ç»æ ===========");\n\n    jedis.flushDB();\n    System.out.println("=========== æ°å¢é®å¼å¯¹é²æ­¢è¦çååå¼å¼å§ ==============");\n    System.out.println(jedis.setnx("key1", "value1"));\n    System.out.println(jedis.setnx("key2", "value2"));\n    System.out.println(jedis.setnx("key2", "value2-new"));\n    System.out.println(jedis.get("key1"));\n    System.out.println(jedis.get("key2"));\n    System.out.println("=========== æ°å¢é®å¼å¯¹é²æ­¢è¦çååå¼ç»æ ==============");\n\n    System.out.println("=========== æ°å¢é®å¼å¯¹å¹¶è®¾ç½®æææ¶é´å¼å§ =============");\n    System.out.println(jedis.setex("key3", 2, "value3"));\n    System.out.println(jedis.get("key3"));\n    try {\n        TimeUnit.SECONDS.sleep(3);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    System.out.println(jedis.get("key3"));\n    System.out.println("=========== æ°å¢é®å¼å¯¹å¹¶è®¾ç½®æææ¶é´ç»æ =============");\n\n    System.out.println("=========== è·ååå¼ï¼æ´æ°ä¸ºæ°å¼å¼å§ ==========");\n    System.out.println(jedis.getSet("key2", "key2GetSet"));\n    System.out.println(jedis.get("key2"));\n    System.out.println("è·å¾ key2 çå¼çå­ä¸²ï¼" + jedis.getrange("key2", 2,4));\n    System.out.println("=========== è·ååå¼ï¼æ´æ°ä¸ºæ°å¼ç»æ ==========");\n}\n\n\n\n# list\n\npublic static void main(String[] args) {\n    Jedis jedis = new Jedis("192.168.182.133", 6379);\n    jedis.auth("123456");\n\n    jedis.flushDB();\n    System.out.println("===========æ·»å ä¸ä¸ª list===========");\n    jedis.lpush("collections", "ArrayList", "Vector", "Stack", "HashMap", "WeakHashMap", "LinkedHashMap");\n    jedis.lpush("collections", "HashSet");\n    jedis.lpush("collections", "TreeSet");\n    jedis.lpush("collections", "TreeMap");\n    //-1 ä»£è¡¨åæ°ç¬¬ä¸ä¸ªåç´ ï¼-2 ä»£è¡¨åæ°ç¬¬äºä¸ªåç´ ï¼end ä¸º -1 è¡¨ç¤ºæ¥è¯¢å¨é¨\n    System.out.println("collections çåå®¹ï¼" + jedis.lrange("collections", 0, -1));\n    System.out.println("collections åºé´ 0-3 çåç´ ï¼" + jedis.lrange("collections", 0, 3));\n\n    System.out.println("===============================");\n    // å é¤åè¡¨æå®çå¼ ï¼ç¬¬äºä¸ªåæ°ä¸ºå é¤çä¸ªæ°ï¼æéå¤æ¶ï¼ï¼å add è¿å»çå¼åè¢«å ï¼ç±»ä¼¼äºåºæ \n    System.out.println("å é¤æå®åç´ ä¸ªæ°ï¼" + jedis.lrem("collections", 2, "HashMap"));\n    System.out.println("collections çåå®¹ï¼" + jedis.lrange("collections", 0, -1));\n    System.out.println("å é¤ä¸æ  0-3 åºé´ä¹å¤çåç´ ï¼" + jedis.ltrim("collections", 0, 3));\n    System.out.println("collections çåå®¹ï¼" + jedis.lrange("collections", 0, -1));\n    System.out.println("collections åè¡¨åºæ ï¼å·¦ç«¯ï¼ï¼" + jedis.lpop("collections"));\n    System.out.println("collections çåå®¹ï¼" + jedis.lrange("collections", 0, -1));\n    System.out.println("collections æ·»å åç´ ï¼ä»åè¡¨å³ç«¯ï¼ä¸ lpush ç¸å¯¹åºï¼" + jedis.rpush("collections", "EnumMap"));\n    System.out.println("collections çåå®¹ï¼" + jedis.lrange("collections", 0, -1));\n    System.out.println("collections åè¡¨åºæ ï¼å³ç«¯ï¼ï¼" + jedis.rpop("collections"));\n    System.out.println("collections çåå®¹ï¼" + jedis.lrange("collections", 0, -1));\n    System.out.println("ä¿®æ¹ collections æå®ä¸æ  1 çåå®¹ï¼" + jedis.lset("collections", 1, "LinkedArrayList"));\n    System.out.println("collections çåå®¹ï¼" + jedis.lrange("collections", 0, -1));\n\n    System.out.println("===============================");\n    System.out.println("collections çé¿åº¦ï¼" + jedis.llen("collections"));\n    System.out.println("è·å collections ä¸æ ä¸º 2 çåç´ ï¼" + jedis.lindex("collections", 2));\n    System.out.println("===============================");\n\n    jedis.lpush("sortedList", "3", "6", "2", "0", "7", "4");\n    System.out.println("sortedList æåºåï¼" + jedis.lrange("sortedList", 0, -1));\n    System.out.println(jedis.sort("sortedList"));\n    System.out.println("sortedList æåºåï¼" + jedis.lrange("sortedList", 0, -1));\n}\n\n\n\n# set\n\npublic static void main(String[] args) {\n    Jedis jedis = new Jedis("192.168.182.133", 6379);\n    jedis.auth("123456");\n\n    jedis.flushDB();\n    System.out.println("============åéåä¸­æ·»å åç´ ï¼ä¸éå¤ï¼============");\n    System.out.println(jedis.sadd("eleSet", "e1", "e2", "e4", "e3", "e0", "e8", "e7", "e5"));\n    System.out.println(jedis.sadd("eleSet", "e6"));\n    System.out.println(jedis.sadd("eleSet", "e6"));\n    System.out.println("eleSet çææåç´ ä¸ºï¼" + jedis.smembers("eleSet"));\n    System.out.println("å é¤ä¸ä¸ªåç´  e0ï¼" + jedis.srem("eleSet", "e0"));\n    System.out.println("eleSet çææåç´ ä¸ºï¼" + jedis.smembers("eleSet"));\n    System.out.println("å é¤ä¸¤ä¸ªåç´  e7 å e6ï¼" + jedis.srem("eleSet", "e7", "e6"));\n    System.out.println("eleSet çææåç´ ä¸ºï¼" + jedis.smembers("eleSet"));\n    System.out.println("éæºçç§»é¤éåä¸­çä¸ä¸ªåç´ ï¼" + jedis.spop("eleSet"));\n    System.out.println("éæºçç§»é¤éåä¸­çä¸ä¸ªåç´ ï¼" + jedis.spop("eleSet"));\n    System.out.println("eleSet çææåç´ ä¸ºï¼" + jedis.smembers("eleSet"));\n    System.out.println("eleSet ä¸­åå«åç´ çä¸ªæ°ï¼" + jedis.scard("eleSet"));\n    System.out.println("e3 æ¯å¦å¨ eleSet ä¸­ï¼" + jedis.sismember("eleSet", "e3"));\n    System.out.println("e1 æ¯å¦å¨ eleSet ä¸­ï¼" + jedis.sismember("eleSet", "e1"));\n    System.out.println("e5 æ¯å¦å¨ eleSet ä¸­ï¼" + jedis.sismember("eleSet", "e5"));\n\n    System.out.println("=================================");\n    System.out.println(jedis.sadd("eleSet1", "e1", "e2", "e4", "e3", "e0", "e8", "e7", "e5"));\n    System.out.println(jedis.sadd("eleSet2", "e1", "e2", "e4", "e3", "e0", "e8"));\n    // ç§»å°éååç´ \n    System.out.println("å° eleSet1 ä¸­å é¤ e1 å¹¶å­å¥ eleSet3 ä¸­ï¼" + jedis.smove("eleSet1", "eleSet3", "e1"));\n    System.out.println("å° eleSet1 ä¸­å é¤ e2 å¹¶å­å¥ eleSet3 ä¸­ï¼" + jedis.smove("eleSet1", "eleSet3", "e2"));\n    System.out.println("eleSet1 ä¸­çåç´ ï¼" + jedis.smembers("eleSet1"));\n    System.out.println("eleSet3 ä¸­çåç´ ï¼" + jedis.smembers("eleSet3"));\n\n    System.out.println("============éåè¿ç®=================");\n    System.out.println("eleSet1 ä¸­çåç´ ï¼" + jedis.smembers("eleSet1"));\n    System.out.println("eleSet2 ä¸­çåç´ ï¼" + jedis.smembers("eleSet2"));\n    System.out.println("eleSet1 å eleSet2 çäº¤é:" + jedis.sinter("eleSet1", "eleSet2"));\n    System.out.println("eleSet1 å eleSet2 çå¹¶é:" + jedis.sunion("eleSet1", "eleSet2"));\n    // eleSet1 ä¸­æï¼eleSet2 ä¸­æ²¡æ\n    System.out.println("eleSet1åeleSet2çå·®é:" + jedis.sdiff("eleSet1", "eleSet2"));\n    // æ±äº¤éå¹¶å°äº¤éä¿å­å° dstkey çéå\n    jedis.sinterstore("eleSet4", "eleSet1", "eleSet2");\n    System.out.println("eleSet4 ä¸­çåç´ ï¼" + jedis.smembers("eleSet4"));\n}\n\n\n\n# hash\n\npublic static void main(String[] args) {\n    Jedis jedis = new Jedis("192.168.182.133", 6379);\n    jedis.auth("123456");\n    jedis.flushDB();\n    Map<String, String> map = new HashMap<>();\n    map.put("key1", "value1");\n    map.put("key2", "value2");\n    map.put("key3", "value3");\n    map.put("key4", "value4");\n    //æ·»å åç§°ä¸ºhashï¼keyï¼çhashåç´ \n    jedis.hmset("hash", map);\n    //ååç§°ä¸ºhashçhashä¸­æ·»å keyä¸ºkey5ï¼valueä¸ºvalue5åç´ \n    jedis.hset("hash", "key5", "value5");\n    System.out.println("æ£åhashçææé®å¼å¯¹ä¸ºï¼" + jedis.hgetAll("hash")); //return Map<String,String>\n    System.out.println("æ£åhashçææé®ä¸ºï¼" + jedis.hkeys("hash")); //return Set<String>\n    System.out.println("æ£åhashçææå¼ä¸ºï¼" + jedis.hvals("hash")); //return List<String>\n    System.out.println("å°key6ä¿å­çå¼å ä¸ä¸ä¸ªæ´æ°ï¼å¦ækey6ä¸å­å¨åæ·»å key6ï¼" + jedis.hincrBy("hash", "key6", 6));\n    System.out.println("æ£åhashçææé®å¼å¯¹ä¸ºï¼" + jedis.hgetAll("hash"));\n    System.out.println("å°key6ä¿å­çå¼å ä¸ä¸ä¸ªæ´æ°ï¼å¦ækey6ä¸å­å¨åæ·»å key6ï¼" + jedis.hincrBy("hash", "key6", 3));\n    System.out.println("æ£åhashçææé®å¼å¯¹ä¸ºï¼" + jedis.hgetAll("hash"));\n    System.out.println("å é¤ä¸ä¸ªæèå¤ä¸ªé®å¼å¯¹ï¼" + jedis.hdel("hash", "key2"));\n    System.out.println("æ£åhashçææé®å¼å¯¹ä¸ºï¼" + jedis.hgetAll("hash"));\n    System.out.println("æ£åhashä¸­é®å¼å¯¹çä¸ªæ°ï¼" + jedis.hlen("hash"));\n    System.out.println("å¤æ­hashä¸­æ¯å¦å­å¨key2ï¼" + jedis.hexists("hash", "key2"));\n    System.out.println("å¤æ­hashä¸­æ¯å¦å­å¨key3ï¼" + jedis.hexists("hash", "key3"));\n    System.out.println("è·åhashä¸­çå¼ï¼" + jedis.hmget("hash", "key3"));\n    System.out.println("è·åhashä¸­çå¼ï¼" + jedis.hmget("hash", "key3", "key4"));\n}\n\n\n\n# äºå¡\n\npublic static void main(String[] args) {\n    Jedis jedis = new Jedis("192.168.182.133", 6379);\n    jedis.auth("123456");\n    jedis.flushDB();\n\n    Map<String, String> map = new HashMap<>();\n    map.put("hello", "world");\n    map.put("name", "java");\n    String result = map.toString();\n\n    // å¼å¯äºå¡\n    Transaction multi = jedis.multi();\n    try {\n        // å redis å­å¥ä¸æ¡æ°æ®\n        multi.set("map1", result);\n        // åå­å¥ä¸æ¡æ°æ®\n        multi.set("map2", result);\n\n        // è¿éå¼åäºå¼å¸¸ï¼ç¨ 0 ä½ä¸ºè¢«é¤æ°\n        int i = 1 / 0;\n        // å¦ææ²¡æå¼åå¼å¸¸ï¼æ§è¡è¿å¥éåçå½ä»¤\n        multi.exec();\n    } catch (Exception e) {\n        e.printStackTrace();\n        // å¦æåºç°å¼å¸¸ï¼åæ»\n        multi.discard();\n    } finally {\n        System.out.println(jedis.get("map1"));\n        System.out.println(jedis.get("map2"));\n        // æç»å³é­å®¢æ·ç«¯\n        jedis.close();\n    }\n}\n\n\n\n# Jedisè¿æ¥æ± \n\n 1. åå»ºJedisPoolè¿æ¥æ± å¯¹è±¡\n 2. è°ç¨æ¹æ³ getResource() æ¹æ³è·åJedisè¿æ¥\n\n//0.åå»ºä¸ä¸ªéç½®å¯¹è±¡\nJedisPoolConfig config = new JedisPoolConfig();\nconfig.setMaxTotal(50);\nconfig.setMaxIdle(10);\n\n//1.åå»ºJedisè¿æ¥æ± å¯¹è±¡\nJedisPool jedisPool = new JedisPool(config, "localhost", 6379);\n//2.è·åè¿æ¥\nJedis jedis = jedisPool.getResource();\n\n//3. ä½¿ç¨\njedis.set("hehe","heihei");\n\n//4. å³é­ å½è¿å°è¿æ¥æ± ä¸­\njedis.close();\n\n\n\n# è¿æ¥æ± å·¥å·ç±»\n\npublic class JedisPoolUtils {\n    \n\tprivate static JedisPool jedisPool;\n    \n\tstatic{\n\t\t//è¯»åéç½®æä»¶\n\n\t\tInputStream is = JedisPoolUtils.class.getClassLoader()\n            .getResourceAsStream("jedis.properties");\n\n\t\t//åå»ºPropertieså¯¹è±¡\n\t\tProperties pro = new Properties();\n\t\t//å³èæä»¶\n\t\ttry {\n\t\t\tpro.load(is);\n\t\t} catch (IOException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\n\t\t//è·åæ°æ®ï¼è®¾ç½®å°JedisPoolConfigä¸­\n\t\tJedisPoolConfig config = new JedisPoolConfig();\n\t\tconfig.setMaxTotal(Integer.parseInt(pro.getProperty("maxTotal")));\n\t\tconfig.setMaxIdle(Integer.parseInt(pro.getProperty("maxIdle")));\n        \n\t\t//åå§åJedisPool\n\t\tjedisPool = new JedisPool(\n            config,pro.getProperty("host"),\n            Integer.parseInt(pro.getProperty("port"))\n        );\n   }\n  \n\n\t/**\n\t * è·åè¿æ¥æ¹æ³\n\t */\n\tpublic static Jedis getJedis(){\n\t\treturn jedisPool.getResource();\n\t}\n}\n',normalizedContent:'jedisæéè¦çjaråï¼\n\n<dependency>\n    <groupid>redis.clients</groupid>\n    <artifactid>jedis</artifactid>\n    <version>3.2.0</version>\n</dependency>\n\n\nè¿æ¥redisæ³¨æäºé¡¹ï¼\n\n 1. ç¦ç¨linuxçé²ç«å¢ï¼linux(centos7)éæ§è¡å½ä»¤\n\nsystemctl stop/disable firewalld.service   \n\n\n 2. redis.confä¸­æ³¨éæ bind 127.0.0.1\n 3. redis.confä¸­ä¿®æ¹ä¸º protected-mode no\n\n\n# å¿«éå¥é¨\n\n\n# åå»ºmavenå·¥ç¨\n\n\n\n\n# æ·»å ä¾èµ\n\nå¨pom.xmlæä»¶ä¸­æ·»å ä¾èµ\n\n<dependencies>\n    <dependency>\n        <groupid>redis.clients</groupid>\n        <artifactid>jedis</artifactid>\n        <version>3.2.0</version>\n    </dependency>\n</dependencies>\n\n\n\n# æµè¯ç¨åº\n\npublic static void main(string[] args) {\n    // 1. åå»ºè¿æ¥å¯¹è±¡\n    jedis jedis = new jedis("192.168.182.133", 6379);\n    // 2. è®¾ç½®redisçå¯ç ï¼å¦ææ å¯ç å¯ä»¥å¿½ç¥\n    jedis.auth("123456");\n    // 3. æµè¯è¿æ¥æ¯å¦å­å¨\n    string pong = jedis.ping();\n    system.out.println("è¿æ¥æåï¼" + pong);\n\n    // 4. å­å¥ä¸ä¸ªæ°æ®\n    jedis.set("k1", "v1");\n    // 5. ååºä¸ä¸ªæ°æ®\n    system.out.println(jedis.get("k1"));\n    \n    // 6. å³é­è¿æ¥\n    jedis.close();\n}\n\n\n\n# jediså¸¸ç¨api\n\n\n# åºæ¬æä½\n\npublic static void main(string[] args) {\n    // è®¾ç½®è¿æ¥åæ°\n    jedis jedis = new jedis("192.168.182.133", 6379);\n    // éªè¯å¯ç ï¼å¦ææ²¡æè®¾ç½®å¯ç è¿æ®µä»£ç çç¥\n    // éªè¯å¯ç çåæ¶ä¼è¿è¡connectæä½\n    jedis.auth("123456");\n    // è¿æ¥\n    jedis.connect();\n    // æµè¯æ¯å¦è¿è½è¿æ¥ï¼æ¯çè¯è¿åpongï¼æµè¯çåæ¶ä¼è¿è¡connectæä½\n    string pong = jedis.ping();\n    system.out.println("è¿æ¥æåï¼" + pong);\n    // æ¸ç©ºææçkey\n    jedis.flushall();\n    // éæ¾èµæº\n    jedis.close();\n}\n\n\n\n# key\n\npublic static void main(string[] args) {\n    jedis jedis = new jedis("192.168.182.133", 6379);\n    jedis.auth("123456");\n\n    system.out.println("æ¸ç©ºæ°æ®ï¼" + jedis.flushdb());\n    system.out.println("å¤æ­æä¸ªé®æ¯å¦å­å¨ï¼" + jedis.exists("username"));\n    system.out.println("æ°å¢ <\'username\',\'aaa\'> çé®å¼å¯¹ï¼" + jedis.set("username", "aaa"));\n    system.out.println("æ°å¢ <\'password\',\'123\'> çé®å¼å¯¹ï¼" + jedis.set("password", "123"));\n\n    system.out.println("ç³»ç»ä¸­ææçé®å¦ä¸ï¼");\n    set<string> keys = jedis.keys("*");\n    for (string key : keys) {\n        system.out.println(key);\n    }\n\n    system.out.println("å é¤é® password:" + jedis.del("password"));\n    system.out.println("å¤æ­é® password æ¯å¦å­å¨ï¼" + jedis.exists("password"));\n    system.out.println("æ¥çé® username æå­å¨çå¼çç±»åï¼" + jedis.type("username"));\n    system.out.println("è®¾ç½® username çè¿ææ¶é´:"+jedis.expire("username",60));\n    system.out.println("æ¥ç username çè¿ææ¶é´:"+jedis.ttl("username"));\n    system.out.println("éæºè¿å key ç©ºé´çä¸ä¸ªï¼" + jedis.randomkey());\n    system.out.println("éå½å keyï¼" + jedis.rename("username", "name"));\n    system.out.println("ååºæ¹åç nameï¼" + jedis.get("name"));\n    system.out.println("æç´¢å¼æ¥è¯¢ï¼" + jedis.select(0));\n    system.out.println("å é¤å½åéæ©æ°æ®åºä¸­çææ keyï¼" + jedis.flushdb());\n    system.out.println("è¿åå½åæ°æ®åºä¸­ key çæ°ç®ï¼" + jedis.dbsize());\n    system.out.println("å é¤æææ°æ®åºä¸­çææ keyï¼" + jedis.flushall());\n}\n\n\n\n# string\n\npublic static void main(string[] args) {\n    jedis jedis = new jedis("192.168.182.133", 6379);\n    jedis.auth("123456");\n\n    jedis.flushdb();\n    system.out.println("=========== å¢å æ°æ®å¼å§ ===========");\n    system.out.println(jedis.set("key1", "value1"));\n    system.out.println(jedis.set("key2", "value2"));\n    system.out.println(jedis.set("key3", "value3"));\n    system.out.println("å é¤é® key2:" + jedis.del("key2"));\n    system.out.println("è·åé® key2:" + jedis.get("key2"));\n    system.out.println("ä¿®æ¹ key1:" + jedis.set("key1", "newvalue1"));\n    system.out.println("è·å key1 çå¼ï¼" + jedis.get("key1"));\n    system.out.println("å¨ key3 åé¢å å¥å¼ï¼" + jedis.append("key3", "key4"));\n    system.out.println("key3 çå¼ï¼" + jedis.get("key3"));\n    system.out.println("å¢å å¤ä¸ªé®å¼å¯¹ï¼" + jedis.mset("key01", "value01", "key02", "value02", "key03", "value03"));\n    system.out.println("è·åå¤ä¸ªé®å¼å¯¹ï¼" + jedis.mget("key01", "key02", "key03"));\n    system.out.println("è·åå¤ä¸ªé®å¼å¯¹ï¼" + jedis.mget("key01", "key02", "key03", "key04"));\n    system.out.println("å é¤å¤ä¸ªé®å¼å¯¹ï¼" + jedis.del("key01", "key02"));\n    system.out.println("è·åå¤ä¸ªé®å¼å¯¹ï¼" + jedis.mget("key01", "key02", "key03"));\n    system.out.println("=========== å¢å æ°æ®ç»æ ===========");\n\n    jedis.flushdb();\n    system.out.println("=========== æ°å¢é®å¼å¯¹é²æ­¢è¦çååå¼å¼å§ ==============");\n    system.out.println(jedis.setnx("key1", "value1"));\n    system.out.println(jedis.setnx("key2", "value2"));\n    system.out.println(jedis.setnx("key2", "value2-new"));\n    system.out.println(jedis.get("key1"));\n    system.out.println(jedis.get("key2"));\n    system.out.println("=========== æ°å¢é®å¼å¯¹é²æ­¢è¦çååå¼ç»æ ==============");\n\n    system.out.println("=========== æ°å¢é®å¼å¯¹å¹¶è®¾ç½®æææ¶é´å¼å§ =============");\n    system.out.println(jedis.setex("key3", 2, "value3"));\n    system.out.println(jedis.get("key3"));\n    try {\n        timeunit.seconds.sleep(3);\n    } catch (interruptedexception e) {\n        e.printstacktrace();\n    }\n    system.out.println(jedis.get("key3"));\n    system.out.println("=========== æ°å¢é®å¼å¯¹å¹¶è®¾ç½®æææ¶é´ç»æ =============");\n\n    system.out.println("=========== è·ååå¼ï¼æ´æ°ä¸ºæ°å¼å¼å§ ==========");\n    system.out.println(jedis.getset("key2", "key2getset"));\n    system.out.println(jedis.get("key2"));\n    system.out.println("è·å¾ key2 çå¼çå­ä¸²ï¼" + jedis.getrange("key2", 2,4));\n    system.out.println("=========== è·ååå¼ï¼æ´æ°ä¸ºæ°å¼ç»æ ==========");\n}\n\n\n\n# list\n\npublic static void main(string[] args) {\n    jedis jedis = new jedis("192.168.182.133", 6379);\n    jedis.auth("123456");\n\n    jedis.flushdb();\n    system.out.println("===========æ·»å ä¸ä¸ª list===========");\n    jedis.lpush("collections", "arraylist", "vector", "stack", "hashmap", "weakhashmap", "linkedhashmap");\n    jedis.lpush("collections", "hashset");\n    jedis.lpush("collections", "treeset");\n    jedis.lpush("collections", "treemap");\n    //-1 ä»£è¡¨åæ°ç¬¬ä¸ä¸ªåç´ ï¼-2 ä»£è¡¨åæ°ç¬¬äºä¸ªåç´ ï¼end ä¸º -1 è¡¨ç¤ºæ¥è¯¢å¨é¨\n    system.out.println("collections çåå®¹ï¼" + jedis.lrange("collections", 0, -1));\n    system.out.println("collections åºé´ 0-3 çåç´ ï¼" + jedis.lrange("collections", 0, 3));\n\n    system.out.println("===============================");\n    // å é¤åè¡¨æå®çå¼ ï¼ç¬¬äºä¸ªåæ°ä¸ºå é¤çä¸ªæ°ï¼æéå¤æ¶ï¼ï¼å add è¿å»çå¼åè¢«å ï¼ç±»ä¼¼äºåºæ \n    system.out.println("å é¤æå®åç´ ä¸ªæ°ï¼" + jedis.lrem("collections", 2, "hashmap"));\n    system.out.println("collections çåå®¹ï¼" + jedis.lrange("collections", 0, -1));\n    system.out.println("å é¤ä¸æ  0-3 åºé´ä¹å¤çåç´ ï¼" + jedis.ltrim("collections", 0, 3));\n    system.out.println("collections çåå®¹ï¼" + jedis.lrange("collections", 0, -1));\n    system.out.println("collections åè¡¨åºæ ï¼å·¦ç«¯ï¼ï¼" + jedis.lpop("collections"));\n    system.out.println("collections çåå®¹ï¼" + jedis.lrange("collections", 0, -1));\n    system.out.println("collections æ·»å åç´ ï¼ä»åè¡¨å³ç«¯ï¼ä¸ lpush ç¸å¯¹åºï¼" + jedis.rpush("collections", "enummap"));\n    system.out.println("collections çåå®¹ï¼" + jedis.lrange("collections", 0, -1));\n    system.out.println("collections åè¡¨åºæ ï¼å³ç«¯ï¼ï¼" + jedis.rpop("collections"));\n    system.out.println("collections çåå®¹ï¼" + jedis.lrange("collections", 0, -1));\n    system.out.println("ä¿®æ¹ collections æå®ä¸æ  1 çåå®¹ï¼" + jedis.lset("collections", 1, "linkedarraylist"));\n    system.out.println("collections çåå®¹ï¼" + jedis.lrange("collections", 0, -1));\n\n    system.out.println("===============================");\n    system.out.println("collections çé¿åº¦ï¼" + jedis.llen("collections"));\n    system.out.println("è·å collections ä¸æ ä¸º 2 çåç´ ï¼" + jedis.lindex("collections", 2));\n    system.out.println("===============================");\n\n    jedis.lpush("sortedlist", "3", "6", "2", "0", "7", "4");\n    system.out.println("sortedlist æåºåï¼" + jedis.lrange("sortedlist", 0, -1));\n    system.out.println(jedis.sort("sortedlist"));\n    system.out.println("sortedlist æåºåï¼" + jedis.lrange("sortedlist", 0, -1));\n}\n\n\n\n# set\n\npublic static void main(string[] args) {\n    jedis jedis = new jedis("192.168.182.133", 6379);\n    jedis.auth("123456");\n\n    jedis.flushdb();\n    system.out.println("============åéåä¸­æ·»å åç´ ï¼ä¸éå¤ï¼============");\n    system.out.println(jedis.sadd("eleset", "e1", "e2", "e4", "e3", "e0", "e8", "e7", "e5"));\n    system.out.println(jedis.sadd("eleset", "e6"));\n    system.out.println(jedis.sadd("eleset", "e6"));\n    system.out.println("eleset çææåç´ ä¸ºï¼" + jedis.smembers("eleset"));\n    system.out.println("å é¤ä¸ä¸ªåç´  e0ï¼" + jedis.srem("eleset", "e0"));\n    system.out.println("eleset çææåç´ ä¸ºï¼" + jedis.smembers("eleset"));\n    system.out.println("å é¤ä¸¤ä¸ªåç´  e7 å e6ï¼" + jedis.srem("eleset", "e7", "e6"));\n    system.out.println("eleset çææåç´ ä¸ºï¼" + jedis.smembers("eleset"));\n    system.out.println("éæºçç§»é¤éåä¸­çä¸ä¸ªåç´ ï¼" + jedis.spop("eleset"));\n    system.out.println("éæºçç§»é¤éåä¸­çä¸ä¸ªåç´ ï¼" + jedis.spop("eleset"));\n    system.out.println("eleset çææåç´ ä¸ºï¼" + jedis.smembers("eleset"));\n    system.out.println("eleset ä¸­åå«åç´ çä¸ªæ°ï¼" + jedis.scard("eleset"));\n    system.out.println("e3 æ¯å¦å¨ eleset ä¸­ï¼" + jedis.sismember("eleset", "e3"));\n    system.out.println("e1 æ¯å¦å¨ eleset ä¸­ï¼" + jedis.sismember("eleset", "e1"));\n    system.out.println("e5 æ¯å¦å¨ eleset ä¸­ï¼" + jedis.sismember("eleset", "e5"));\n\n    system.out.println("=================================");\n    system.out.println(jedis.sadd("eleset1", "e1", "e2", "e4", "e3", "e0", "e8", "e7", "e5"));\n    system.out.println(jedis.sadd("eleset2", "e1", "e2", "e4", "e3", "e0", "e8"));\n    // ç§»å°éååç´ \n    system.out.println("å° eleset1 ä¸­å é¤ e1 å¹¶å­å¥ eleset3 ä¸­ï¼" + jedis.smove("eleset1", "eleset3", "e1"));\n    system.out.println("å° eleset1 ä¸­å é¤ e2 å¹¶å­å¥ eleset3 ä¸­ï¼" + jedis.smove("eleset1", "eleset3", "e2"));\n    system.out.println("eleset1 ä¸­çåç´ ï¼" + jedis.smembers("eleset1"));\n    system.out.println("eleset3 ä¸­çåç´ ï¼" + jedis.smembers("eleset3"));\n\n    system.out.println("============éåè¿ç®=================");\n    system.out.println("eleset1 ä¸­çåç´ ï¼" + jedis.smembers("eleset1"));\n    system.out.println("eleset2 ä¸­çåç´ ï¼" + jedis.smembers("eleset2"));\n    system.out.println("eleset1 å eleset2 çäº¤é:" + jedis.sinter("eleset1", "eleset2"));\n    system.out.println("eleset1 å eleset2 çå¹¶é:" + jedis.sunion("eleset1", "eleset2"));\n    // eleset1 ä¸­æï¼eleset2 ä¸­æ²¡æ\n    system.out.println("eleset1åeleset2çå·®é:" + jedis.sdiff("eleset1", "eleset2"));\n    // æ±äº¤éå¹¶å°äº¤éä¿å­å° dstkey çéå\n    jedis.sinterstore("eleset4", "eleset1", "eleset2");\n    system.out.println("eleset4 ä¸­çåç´ ï¼" + jedis.smembers("eleset4"));\n}\n\n\n\n# hash\n\npublic static void main(string[] args) {\n    jedis jedis = new jedis("192.168.182.133", 6379);\n    jedis.auth("123456");\n    jedis.flushdb();\n    map<string, string> map = new hashmap<>();\n    map.put("key1", "value1");\n    map.put("key2", "value2");\n    map.put("key3", "value3");\n    map.put("key4", "value4");\n    //æ·»å åç§°ä¸ºhashï¼keyï¼çhashåç´ \n    jedis.hmset("hash", map);\n    //ååç§°ä¸ºhashçhashä¸­æ·»å keyä¸ºkey5ï¼valueä¸ºvalue5åç´ \n    jedis.hset("hash", "key5", "value5");\n    system.out.println("æ£åhashçææé®å¼å¯¹ä¸ºï¼" + jedis.hgetall("hash")); //return map<string,string>\n    system.out.println("æ£åhashçææé®ä¸ºï¼" + jedis.hkeys("hash")); //return set<string>\n    system.out.println("æ£åhashçææå¼ä¸ºï¼" + jedis.hvals("hash")); //return list<string>\n    system.out.println("å°key6ä¿å­çå¼å ä¸ä¸ä¸ªæ´æ°ï¼å¦ækey6ä¸å­å¨åæ·»å key6ï¼" + jedis.hincrby("hash", "key6", 6));\n    system.out.println("æ£åhashçææé®å¼å¯¹ä¸ºï¼" + jedis.hgetall("hash"));\n    system.out.println("å°key6ä¿å­çå¼å ä¸ä¸ä¸ªæ´æ°ï¼å¦ækey6ä¸å­å¨åæ·»å key6ï¼" + jedis.hincrby("hash", "key6", 3));\n    system.out.println("æ£åhashçææé®å¼å¯¹ä¸ºï¼" + jedis.hgetall("hash"));\n    system.out.println("å é¤ä¸ä¸ªæèå¤ä¸ªé®å¼å¯¹ï¼" + jedis.hdel("hash", "key2"));\n    system.out.println("æ£åhashçææé®å¼å¯¹ä¸ºï¼" + jedis.hgetall("hash"));\n    system.out.println("æ£åhashä¸­é®å¼å¯¹çä¸ªæ°ï¼" + jedis.hlen("hash"));\n    system.out.println("å¤æ­hashä¸­æ¯å¦å­å¨key2ï¼" + jedis.hexists("hash", "key2"));\n    system.out.println("å¤æ­hashä¸­æ¯å¦å­å¨key3ï¼" + jedis.hexists("hash", "key3"));\n    system.out.println("è·åhashä¸­çå¼ï¼" + jedis.hmget("hash", "key3"));\n    system.out.println("è·åhashä¸­çå¼ï¼" + jedis.hmget("hash", "key3", "key4"));\n}\n\n\n\n# äºå¡\n\npublic static void main(string[] args) {\n    jedis jedis = new jedis("192.168.182.133", 6379);\n    jedis.auth("123456");\n    jedis.flushdb();\n\n    map<string, string> map = new hashmap<>();\n    map.put("hello", "world");\n    map.put("name", "java");\n    string result = map.tostring();\n\n    // å¼å¯äºå¡\n    transaction multi = jedis.multi();\n    try {\n        // å redis å­å¥ä¸æ¡æ°æ®\n        multi.set("map1", result);\n        // åå­å¥ä¸æ¡æ°æ®\n        multi.set("map2", result);\n\n        // è¿éå¼åäºå¼å¸¸ï¼ç¨ 0 ä½ä¸ºè¢«é¤æ°\n        int i = 1 / 0;\n        // å¦ææ²¡æå¼åå¼å¸¸ï¼æ§è¡è¿å¥éåçå½ä»¤\n        multi.exec();\n    } catch (exception e) {\n        e.printstacktrace();\n        // å¦æåºç°å¼å¸¸ï¼åæ»\n        multi.discard();\n    } finally {\n        system.out.println(jedis.get("map1"));\n        system.out.println(jedis.get("map2"));\n        // æç»å³é­å®¢æ·ç«¯\n        jedis.close();\n    }\n}\n\n\n\n# jedisè¿æ¥æ± \n\n 1. åå»ºjedispoolè¿æ¥æ± å¯¹è±¡\n 2. è°ç¨æ¹æ³ getresource() æ¹æ³è·åjedisè¿æ¥\n\n//0.åå»ºä¸ä¸ªéç½®å¯¹è±¡\njedispoolconfig config = new jedispoolconfig();\nconfig.setmaxtotal(50);\nconfig.setmaxidle(10);\n\n//1.åå»ºjedisè¿æ¥æ± å¯¹è±¡\njedispool jedispool = new jedispool(config, "localhost", 6379);\n//2.è·åè¿æ¥\njedis jedis = jedispool.getresource();\n\n//3. ä½¿ç¨\njedis.set("hehe","heihei");\n\n//4. å³é­ å½è¿å°è¿æ¥æ± ä¸­\njedis.close();\n\n\n\n# è¿æ¥æ± å·¥å·ç±»\n\npublic class jedispoolutils {\n    \n\tprivate static jedispool jedispool;\n    \n\tstatic{\n\t\t//è¯»åéç½®æä»¶\n\n\t\tinputstream is = jedispoolutils.class.getclassloader()\n            .getresourceasstream("jedis.properties");\n\n\t\t//åå»ºpropertieså¯¹è±¡\n\t\tproperties pro = new properties();\n\t\t//å³èæä»¶\n\t\ttry {\n\t\t\tpro.load(is);\n\t\t} catch (ioexception e) {\n\t\t\te.printstacktrace();\n\t\t}\n\n\t\t//è·åæ°æ®ï¼è®¾ç½®å°jedispoolconfigä¸­\n\t\tjedispoolconfig config = new jedispoolconfig();\n\t\tconfig.setmaxtotal(integer.parseint(pro.getproperty("maxtotal")));\n\t\tconfig.setmaxidle(integer.parseint(pro.getproperty("maxidle")));\n        \n\t\t//åå§åjedispool\n\t\tjedispool = new jedispool(\n            config,pro.getproperty("host"),\n            integer.parseint(pro.getproperty("port"))\n        );\n   }\n  \n\n\t/**\n\t * è·åè¿æ¥æ¹æ³\n\t */\n\tpublic static jedis getjedis(){\n\t\treturn jedispool.getresource();\n\t}\n}\n',charsets:{cjk:!0},lastUpdated:"2022/12/01, 18:47:59",lastUpdatedTimestamp:1669891679e3},{title:"MQçç¸å³æ¦å¿µ",frontmatter:{title:"MQçç¸å³æ¦å¿µ",date:"2022-11-27T12:20:10.000Z",permalink:"/pages/sm8jwpla",categories:["ä¸­é´ä»¶"],tags:[null],author:{name:"ä¹æ¨åç"}},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/01.%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6/01.MQ%E7%9A%84%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5.html",relativePath:"04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/01.MQçç¸å³æ¦å¿µ.md",key:"v-786c2dcf",path:"/pages/sm8jwpla/",headers:[{level:2,title:"åæ­¥éè®¯",slug:"åæ­¥éè®¯",normalizedTitle:"åæ­¥éè®¯",charIndex:22},{level:2,title:"å¼æ­¥éè®¯",slug:"å¼æ­¥éè®¯",normalizedTitle:"å¼æ­¥éè®¯",charIndex:44},{level:2,title:"ä»ä¹æ¯MQ",slug:"ä»ä¹æ¯mq",normalizedTitle:"ä»ä¹æ¯mq",charIndex:915},{level:2,title:"ä¸ºä»ä¹è¦ç¨MQ",slug:"ä¸ºä»ä¹è¦ç¨mq",normalizedTitle:"ä¸ºä»ä¹è¦ç¨mq",charIndex:1095},{level:2,title:"MQçåç±»",slug:"mqçåç±»",normalizedTitle:"mqçåç±»",charIndex:1871},{level:3,title:"ActiveMQ",slug:"activemq",normalizedTitle:"activemq",charIndex:2518},{level:3,title:"Kafka",slug:"kafka",normalizedTitle:"kafka",charIndex:2638},{level:3,title:"RocketMQ",slug:"rocketmq",normalizedTitle:"rocketmq",charIndex:3192},{level:3,title:"RabbitMQ",slug:"rabbitmq",normalizedTitle:"rabbitmq",charIndex:3530},{level:2,title:"MQçéæ©",slug:"mqçéæ©",normalizedTitle:"mqçéæ©",charIndex:3834},{level:3,title:"Kafka",slug:"kafka-2",normalizedTitle:"kafka",charIndex:2638},{level:3,title:"RocketMQ",slug:"rocketmq-2",normalizedTitle:"rocketmq",charIndex:3192},{level:3,title:"RabbitMQ",slug:"rabbitmq-2",normalizedTitle:"rabbitmq",charIndex:3530}],excerpt:"<p>å¾®æå¡é´éè®¯æåæ­¥åå¼æ­¥ä¸¤ç§æ¹å¼ï¼</p>\n<ul>\n<li>åæ­¥éè®¯ï¼å°±åæçµè¯ï¼éè¦å®æ¶ååºã</li>\n<li>å¼æ­¥éè®¯ï¼å°±ååé®ä»¶ï¼ä¸éè¦é©¬ä¸åå¤ã</li>\n</ul>\n",headersStr:"åæ­¥éè®¯ å¼æ­¥éè®¯ ä»ä¹æ¯MQ ä¸ºä»ä¹è¦ç¨MQ MQçåç±» ActiveMQ Kafka RocketMQ RabbitMQ MQçéæ© Kafka RocketMQ RabbitMQ",content:"å¾®æå¡é´éè®¯æåæ­¥åå¼æ­¥ä¸¤ç§æ¹å¼ï¼\n\n * åæ­¥éè®¯ï¼å°±åæçµè¯ï¼éè¦å®æ¶ååºã\n * å¼æ­¥éè®¯ï¼å°±ååé®ä»¶ï¼ä¸éè¦é©¬ä¸åå¤ã\n\n\n# åæ­¥éè®¯\n\nåæ­¥è°ç¨çä¼ç¹ï¼\n\næ¶ææ§è¾å¼ºï¼å¯ä»¥ç«å³å¾å°ç»æ\n\nFeignè°ç¨å°±å±äºåæ­¥æ¹å¼ï¼è½ç¶è°ç¨å¯ä»¥å®æ¶å¾å°ç»æï¼ä½å­å¨ä¸é¢çé®é¢ï¼\n\n 1. è¦ååº¦é«ï¼ æ¯æ¬¡å å¥æ°éæ±ï¼é½éè¦ä¿®æ¹åæ¥çä»£ç \n 2. æ§è½ä¸éï¼ è°ç¨èéè¦ç­å¾æå¡æä¾èååºï¼å¦æè°ç¨é¾è¿é¿åååºæ¶é´ç­äºæ¯æ¬¡è°ç¨æ¶é´ä¹åã\n 3. èµæºæµªè´¹ï¼è°ç¨é¾ä¸­çæ¯ä¸ªæå¡å¨ååºè¿ç¨ä¸­ï¼ä¸è½éæ¾è¯·æ±å ç¨çèµæºï¼é«å¹¶ååºæ¯ä¸ä¼æåº¦æµªè´¹ç³»ç»èµæºã\n 4. çº§èå¤±è´¥ï¼å¦ææå¡æä¾èåºç°é®é¢ï¼ææè°ç¨æ¹é½ä¼è·çåºé®é¢ï¼å¯è½ä¼å¯¼è´æ´ä¸ªå¾®æå¡ç¾¤æé\n\n\n# å¼æ­¥éè®¯\n\nå¼æ­¥è°ç¨åå¯ä»¥é¿åä¸è¿°é®é¢ï¼\n\nä»¥è´­ä¹°ååä¸ºä¾ï¼ç¨æ·æ¯ä»åéè¦è°ç¨è®¢åæå¡å®æè®¢åç¶æä¿®æ¹ï¼è°ç¨ç©æµæå¡ï¼ä»ä»åºåéååºçåºå­å¹¶åå¤åè´§ã\n\nå¨äºä»¶æ¨¡å¼ä¸­ï¼æ¯ä»æå¡æ¯äºä»¶åå¸èï¼publisherï¼ï¼å¨æ¯ä»å®æååªéè¦åå¸ä¸ä¸ªæ¯ä»æåçäºä»¶ï¼eventï¼ï¼äºä»¶ä¸­å¸¦ä¸è®¢åidã\n\nè®¢åæå¡åç©æµæå¡æ¯äºä»¶è®¢éèï¼Consumerï¼ï¼è®¢éæ¯ä»æåçäºä»¶ï¼çå¬å°äºä»¶åå®æèªå·±ä¸å¡å³å¯ã\n\nä¸ºäºè§£é¤äºä»¶åå¸èä¸è®¢éèä¹é´çè¦åï¼ä¸¤èå¹¶ä¸æ¯ç´æ¥éä¿¡ï¼èæ¯æä¸ä¸ªä¸­é´äººï¼Brokerï¼ãåå¸èåå¸äºä»¶å°Brokerï¼ä¸å³å¿è°æ¥è®¢éäºä»¶ãè®¢éèä»Brokerè®¢éäºä»¶ï¼ä¸å³å¿è°åæ¥çæ¶æ¯ã\n\n\n\nBroker æ¯ä¸ä¸ªåæ°æ®æ»çº¿ä¸æ ·çä¸è¥¿ï¼ææçæå¡è¦æ¥æ¶æ°æ®ååéæ°æ®é½åå°è¿ä¸ªæ»çº¿ä¸ï¼è¿ä¸ªæ»çº¿å°±ååè®®ä¸æ ·ï¼è®©æå¡é´çéè®¯åå¾æ ååå¯æ§ã\n\nå¼æ­¥çä¼ç¹ï¼\n\n * ååéæåï¼æ éç­å¾è®¢éèå¤çå®æï¼ååºæ´å¿«é\n * æééç¦»ï¼æå¡æ²¡æç´æ¥è°ç¨ï¼ä¸å­å¨çº§èå¤±è´¥é®é¢\n * è°ç¨é´æ²¡æé»å¡ï¼ä¸ä¼é ææ æçèµæºå ç¨\n * è¦ååº¦æä½ï¼æ¯ä¸ªæå¡é½å¯ä»¥çµæ´»ææï¼å¯æ¿æ¢\n * æµéåå³°ï¼ä¸ç®¡åå¸äºä»¶çæµéæ³¢å¨å¤å¤§ï¼é½ç±Brokeræ¥æ¶ï¼è®¢éèå¯ä»¥æç§èªå·±çéåº¦å»å¤çäºä»¶\n\nç¼ºç¹ï¼\n\n * æ¶æå¤æäºï¼ä¸å¡æ²¡æææ¾çæµç¨çº¿ï¼ä¸å¥½ç®¡ç\n * éè¦ä¾èµäºBrokerçå¯é ãå®å¨ãæ§è½\n\n\n# ä»ä¹æ¯MQ\n\nMQ(message queue)ï¼ä»å­é¢ææä¸çï¼æ¬è´¨æ¯ä¸ªéåï¼FIFO åå¥ååºï¼åªä¸è¿éåä¸­å­æ¾çåå®¹æ¯ message èå·²ï¼è¿æ¯ä¸ç§è·¨è¿ç¨çéä¿¡æºå¶ï¼ç¨äºä¸ä¸æ¸¸ä¼ éæ¶æ¯ãå¨äºèç½æ¶æä¸­ï¼MQ æ¯ä¸ç§éå¸¸å¸¸ è§çä¸ä¸æ¸¸ãé»è¾è§£è¦ + ç©çè§£è¦ãçæ¶æ¯éä¿¡æå¡ãä½¿ç¨äº MQ ä¹åï¼æ¶æ¯åéä¸æ¸¸åªéè¦ä¾èµ MQï¼ä¸ç¨ä¾èµå¶ä»æå¡ã\n\n\n# ä¸ºä»ä¹è¦ç¨MQ\n\n 1. æµéæ¶å³°\n\nä¸¾ä¸ªä¾å­ï¼å¦æè®¢åç³»ç»æå¤è½å¤çä¸ä¸æ¬¡è®¢åï¼è¿ä¸ªå¤çè½ååºä»æ­£å¸¸æ¶æ®µçä¸åæ¶ç»°ç»°æä½ï¼æ­£å¸¸æ¶æ®µæä»¬ä¸åä¸ç§åå°±è½è¿åç»æãä½æ¯å¨é«å³°æï¼å¦ææä¸¤ä¸æ¬¡ä¸åæä½ç³»ç»æ¯å¤çä¸äºçï¼åªè½éå¶è®¢åè¶è¿ä¸ä¸åä¸åè®¸ç¨æ·ä¸åãä½¿ç¨æ¶æ¯éååç¼å²ï¼æä»¬å¯ä»¥åæ¶è¿ä¸ªéå¶ï¼æä¸ç§åä¸çè®¢åå æ£æä¸æ®µæ¶é´æ¥å¤çï¼è¿æ¶æäºç¨æ·å¯è½å¨ä¸ååå ç§åæè½æ¶å°ä¸åæåçæä½ï¼ä½æ¯æ¯ä¸è½ä¸åçä½éªè¦å¥½ã\n\n 2. åºç¨è§£è¦\n\nä»¥çµååºç¨ä¸ºä¾ï¼åºç¨ä¸­æè®¢åç³»ç»ãåºå­ç³»ç»ãç©æµç³»ç»ãæ¯ä»ç³»ç»ãç¨æ·åå»ºè®¢ååï¼å¦æè¦åè°ç¨åºå­ç³»ç»ãç©æµç³»ç»ãæ¯ä»ç³»ç»ï¼ä»»ä½ä¸ä¸ªå­ç³»ç»åºäºæéï¼é½ä¼é æä¸åæä½å¼å¸¸ãå½è½¬åæåºäºæ¶æ¯éåçæ¹å¼åï¼ç³»ç»é´è°ç¨çé®é¢ä¼åå°å¾å¤ï¼æ¯å¦ç©æµç³»ç»å ä¸ºåçæéï¼éè¦å åéæ¥ä¿®å¤ãå¨è¿å åéçæ¶é´éï¼ç©æµç³»ç»è¦å¤ççåå­è¢«ç¼å­å¨æ¶æ¯éåä¸­ï¼ç¨æ·çä¸åæä½å¯ä»¥æ­£å¸¸å®æãå½ç©æµç³»ç»æ¢å¤åï¼ç»§ç»­å¤çè®¢åä¿¡æ¯å³å¯ï¼ä¸­åç¨æ·æåä¸å°ç©æµç³»ç»çæéï¼æåç³»ç»çå¯ç¨æ§ã\n\n\n\n 3. å¼æ­¥å¤ç\n\næäºæå¡é´è°ç¨æ¯å¼æ­¥çï¼ä¾å¦ A è°ç¨ Bï¼B éè¦è±è´¹å¾é¿æ¶é´æ§è¡ï¼ä½æ¯ A éè¦ç¥é B ä»ä¹æ¶åå¯ä»¥æ§è¡å®ï¼ä»¥åä¸è¬æä¸¤ç§æ¹å¼ï¼A è¿ä¸æ®µæ¶é´å»è°ç¨ B çæ¥è¯¢ api æ¥è¯¢ãæè A æä¾ä¸ä¸ª callback apiï¼B æ§è¡å®ä¹åè°ç¨ api éç¥ A æå¡ãè¿ä¸¤ç§æ¹å¼é½ä¸æ¯å¾ä¼éï¼ä½¿ç¨æ¶æ¯æ»çº¿ï¼å¯ä»¥å¾æ¹ä¾¿è§£å³è¿ä¸ªé®é¢ï¼A è°ç¨ B æå¡åï¼åªéè¦çå¬ B å¤çå®æçæ¶æ¯ï¼å½ B å¤çå®æåï¼ä¼åéä¸æ¡æ¶æ¯ç» MQï¼MQ ä¼å°æ­¤æ¶æ¯è½¬åç» A æå¡ãè¿æ · A æå¡æ¢ä¸ç¨å¾ªç¯è°ç¨ B çæ¥è¯¢ apiï¼ä¹ä¸ç¨æä¾ callback apiãåæ ·B æå¡ä¹ä¸ç¨åè¿äºæä½ãA æå¡è¿è½åæ¶çå¾å°å¼æ­¥å¤çæåçæ¶æ¯ã\n\n\n\n\n# MQçåç±»\n\n        RABBITMQ               ACTIVEMQ                        ROCKETMQ   KAFKA\nå¬å¸/ç¤¾åº   Rabbit                 Apache                          é¿é         Apache\nå¼åè¯­è¨    Erlang                 Java                            Java       Scala&Java\nåè®®æ¯æ    AMQPï¼XMPPï¼SMTPï¼STOMP   OpenWireï¼STOMPï¼RESTï¼XMPPï¼AMQP   èªå®ä¹åè®®      èªå®ä¹åè®®\nå¯ç¨æ§     é«                      ä¸è¬                              é«          é«\nåæºååé   ä¸è¬                     å·®                               é«          éå¸¸é«\næ¶æ¯å»¶è¿    å¾®ç§çº§                    æ¯«ç§çº§                             æ¯«ç§çº§        æ¯«ç§ä»¥å\næ¶æ¯å¯é æ§   é«                      ä¸è¬                              é«          ä¸è¬\n\n\n# ActiveMQ\n\n * ä¼ç¹ï¼ åæºååéä¸çº§ï¼æ¶ææ§ ms çº§ï¼å¯ç¨æ§é«ï¼åºäºä¸»ä»æ¶æå®ç°é«å¯ç¨æ§ï¼æ¶æ¯å¯é æ§è¾ ä½çæ¦çä¸¢å¤±æ°æ®ã\n * ç¼ºç¹ï¼ å®æ¹ç¤¾åºç°å¨å¯¹ ActiveMQ 5.x ç»´æ¤è¶æ¥è¶å°ï¼é«ååéåºæ¯è¾å°ä½¿ç¨ã\n\n\n# Kafka\n\nå¤§æ°æ®çææéï¼è°å°å¤§æ°æ®é¢ååçæ¶æ¯ä¼ è¾ï¼åç»ä¸å¼ Kafkaï¼è¿æ¬¾ä¸ºå¤§æ°æ®èççæ¶æ¯ä¸­é´ä»¶ï¼ä»¥å¶ç¾ä¸çº§ TPS çååéåå£°å¤§åªï¼è¿éæä¸ºå¤§æ°æ®é¢åçå® å¿ï¼å¨æ°æ®ééãä¼ è¾ãå­å¨çè¿ç¨ä¸­åæ¥çä¸¾è¶³è½»éçä½ç¨ãç®åå·²ç»è¢« LinkedInï¼Uberï¼Twitterï¼Netflix ç­å¤§å¬å¸æéçº³ã\n\n * ä¼ç¹ï¼æ§è½åè¶ï¼åæºåå¥ TPS çº¦å¨ç¾ä¸æ¡/ç§ï¼æå¤§çä¼ç¹ï¼å°±æ¯ååéé«ãæ¶ææ§ ms çº§å¯ç¨æ§éå¸¸é«ï¼kafka æ¯åå¸å¼çï¼ä¸ä¸ªæ°æ®å¤ä¸ªå¯æ¬ï¼å°æ°æºå¨å®æºï¼ä¸ä¼ä¸¢å¤±æ°æ®ï¼ä¸ä¼å¯¼è´ä¸å¯ç¨,æ¶è´¹èéç¨ Pull æ¹å¼è·åæ¶æ¯ï¼æ¶æ¯æåºï¼éè¿æ§å¶è½å¤ä¿è¯æææ¶æ¯è¢«æ¶è´¹ä¸ä»è¢«æ¶è´¹ä¸æ¬¡ï¼æä¼ç§çç¬¬ä¸æ¹Kafka Web ç®¡ççé¢ Kafka-Managerï¼å¨æ¥å¿é¢åæ¯è¾æçï¼è¢«å¤å®¶å¬å¸åå¤ä¸ªå¼æºé¡¹ç®ä½¿ç¨ï¼åè½æ¯æï¼åè½ è¾ä¸ºç®åï¼ä¸»è¦æ¯æç®åç MQ åè½ï¼å¨å¤§æ°æ®é¢åçå®æ¶è®¡ç®ä»¥åæ¥å¿ééè¢«å¤§è§æ¨¡ä½¿ç¨ã\n * ç¼ºç¹ï¼ Kafka åæºè¶è¿ 64 ä¸ªéå/ååºï¼Load ä¼åçææ¾çé£é«ç°è±¡ï¼éåè¶å¤ï¼load è¶é«ï¼åéæ¶æ¯ååºæ¶é´åé¿ï¼ä½¿ç¨ç­è½®è¯¢æ¹å¼ï¼å®æ¶æ§åå³äºè½®è¯¢é´éæ¶é´ï¼æ¶è´¹å¤±è´¥ä¸æ¯æéè¯ï¼æ¯ææ¶æ¯é¡ºåºï¼ä½æ¯ä¸å°ä»£çå®æºåï¼å°±ä¼äº§çæ¶æ¯ä¹±åºï¼ç¤¾åºæ´æ°è¾æ¢ã\n\n\n# RocketMQ\n\nRocketMQ åºèªé¿éå·´å·´çå¼æºäº§åï¼ç¨ Java è¯­è¨å®ç°ï¼å¨è®¾è®¡æ¶åèäº Kafkaï¼å¹¶ååºäºèªå·±çä¸äºæ¹è¿ãè¢«é¿éå·´å·´å¹¿æ³åºç¨å¨è®¢åï¼äº¤æï¼åå¼ï¼æµè®¡ç®ï¼æ¶æ¯æ¨éï¼æ¥å¿æµå¼å¤çï¼binglog ååç­åºæ¯ã\n\n * ä¼ç¹ï¼ åæºååéåä¸çº§ï¼å¯ç¨æ§éå¸¸é«ï¼åå¸å¼æ¶æï¼æ¶æ¯å¯ä»¥åå° 0 ä¸¢å¤±ï¼MQ åè½è¾ä¸ºå®åï¼è¿æ¯åå¸å¼çï¼æ©å±æ§å¥½ï¼æ¯æ 10 äº¿çº§å«çæ¶æ¯å ç§¯ï¼ä¸ä¼å ä¸ºå ç§¯å¯¼è´æ§è½ä¸éï¼æºç æ¯ java æä»¬å¯ä»¥èªå·±éè¯»æºç ï¼å®å¶èªå·±å¬å¸ç MQã\n * ç¼ºç¹ï¼ æ¯æçå®¢æ·ç«¯è¯­è¨ä¸å¤ï¼ç®åæ¯ java å c++ï¼å¶ä¸­ c++ ä¸æçï¼ç¤¾åºæ´»è·åº¦ä¸è¬,æ²¡æå¨ MQ æ ¸å¿ä¸­å»å®ç° JMS ç­æ¥å£ï¼æäºç³»ç»è¦è¿ç§»éè¦ä¿®æ¹å¤§éä»£ç ã\n\n\n# RabbitMQ\n\n2007 å¹´åå¸ï¼æ¯ä¸ä¸ªå¨AMQP(é«çº§æ¶æ¯éååè®®)åºç¡ä¸å®æçï¼å¯å¤ç¨çä¼ä¸æ¶æ¯ç³»ç»ï¼æ¯å½åæä¸»æµçæ¶æ¯ä¸­é´ä»¶ä¹ä¸ã\n\nå®ç½ï¼https://www.rabbitmq.com\n\n * ä¼ç¹ï¼ç±äº erlang è¯­è¨çé«å¹¶åç¹æ§ï¼æ§è½è¾å¥½ï¼ååéå°ä¸çº§ï¼MQ åè½æ¯è¾å®å¤,å¥å£®ãç¨³å®ãæç¨ãè·¨å¹³å°ãæ¯æå¤ç§è¯­è¨ å¦ï¼PythonãRubyã.NETãJavaãJMSãCãPHPãActionScriptãXMPPãSTOMP ç­ï¼æ¯æ AJAX ææ¡£é½å¨ï¼å¼æºæä¾çç®¡ççé¢éå¸¸æ£ï¼ç¨èµ·æ¥å¾å¥½ç¨ï¼ç¤¾åºæ´»è·åº¦é«ï¼æ´æ°é¢çç¸å½é«ã\n * ç¼ºç¹ï¼ åä¸çéè¦æ¶è´¹ï¼å­¦ä¹ ææ¬è¾é«ã\n\n\n# MQçéæ©\n\n * è¿½æ±å¯ç¨æ§ï¼Kafkaã RocketMQ ãRabbitMQ\n * è¿½æ±å¯é æ§ï¼RabbitMQãRocketMQ\n * è¿½æ±ååè½åï¼RocketMQãKafka\n * è¿½æ±æ¶æ¯ä½å»¶è¿ï¼RabbitMQãKafka\n\n\n# Kafka\n\nKafka ä¸»è¦ç¹ç¹æ¯åºäº Pull çæ¨¡å¼æ¥å¤çæ¶æ¯æ¶è´¹ï¼è¿½æ±é«ååéï¼ä¸å¼å§çç®çå°±æ¯ç¨äºæ¥å¿æ¶éåä¼ è¾ï¼éåäº§çå¤§éæ°æ®çäºèç½æå¡çæ°æ®æ¶éä¸å¡ãå¤§åå¬å¸å»ºè®®å¯ä»¥éç¨ï¼å¦æææ¥å¿ééåè½ï¼è¯å®æ¯é¦é kafka äºã\n\n\n# RocketMQ\n\nå¤©çä¸ºéèäºèç½é¢åèçï¼å¯¹äºå¯é æ§è¦æ±å¾é«çåºæ¯ï¼å°¤å¶æ¯çµåéé¢çè®¢åæ£æ¬¾ï¼ä»¥åä¸å¡åå³°ï¼å¨å¤§éäº¤ææ¶å¥æ¶ï¼åç«¯å¯è½æ æ³åæ¶å¤ççæåµãRoketMQ å¨ç¨³å®æ§ä¸å¯è½æ´å¼å¾ä¿¡èµï¼è¿äºä¸å¡åºæ¯å¨é¿éå 11 å·²ç»ç»åäºå¤æ¬¡èéªï¼å¦æä½ çä¸å¡æä¸è¿°å¹¶ååºæ¯ï¼å»ºè®®å¯ä»¥éæ© RocketMQã\n\n\n# RabbitMQ\n\nç»å erlang è¯­è¨æ¬èº«çå¹¶åä¼å¿ï¼æ§è½å¥½æ¶ææ§å¾®ç§çº§ï¼ç¤¾åºæ´»è·åº¦ä¹æ¯è¾é«ï¼ç®¡ççé¢ç¨èµ·æ¥åå æ¹ä¾¿ï¼å¦æä½ çæ°æ®éæ²¡æé£ä¹å¤§ï¼ä¸­å°åå¬å¸ä¼åéæ©åè½æ¯è¾å®å¤ç RabbitMQã",normalizedContent:"å¾®æå¡é´éè®¯æåæ­¥åå¼æ­¥ä¸¤ç§æ¹å¼ï¼\n\n * åæ­¥éè®¯ï¼å°±åæçµè¯ï¼éè¦å®æ¶ååºã\n * å¼æ­¥éè®¯ï¼å°±ååé®ä»¶ï¼ä¸éè¦é©¬ä¸åå¤ã\n\n\n# åæ­¥éè®¯\n\nåæ­¥è°ç¨çä¼ç¹ï¼\n\næ¶ææ§è¾å¼ºï¼å¯ä»¥ç«å³å¾å°ç»æ\n\nfeignè°ç¨å°±å±äºåæ­¥æ¹å¼ï¼è½ç¶è°ç¨å¯ä»¥å®æ¶å¾å°ç»æï¼ä½å­å¨ä¸é¢çé®é¢ï¼\n\n 1. è¦ååº¦é«ï¼ æ¯æ¬¡å å¥æ°éæ±ï¼é½éè¦ä¿®æ¹åæ¥çä»£ç \n 2. æ§è½ä¸éï¼ è°ç¨èéè¦ç­å¾æå¡æä¾èååºï¼å¦æè°ç¨é¾è¿é¿åååºæ¶é´ç­äºæ¯æ¬¡è°ç¨æ¶é´ä¹åã\n 3. èµæºæµªè´¹ï¼è°ç¨é¾ä¸­çæ¯ä¸ªæå¡å¨ååºè¿ç¨ä¸­ï¼ä¸è½éæ¾è¯·æ±å ç¨çèµæºï¼é«å¹¶ååºæ¯ä¸ä¼æåº¦æµªè´¹ç³»ç»èµæºã\n 4. çº§èå¤±è´¥ï¼å¦ææå¡æä¾èåºç°é®é¢ï¼ææè°ç¨æ¹é½ä¼è·çåºé®é¢ï¼å¯è½ä¼å¯¼è´æ´ä¸ªå¾®æå¡ç¾¤æé\n\n\n# å¼æ­¥éè®¯\n\nå¼æ­¥è°ç¨åå¯ä»¥é¿åä¸è¿°é®é¢ï¼\n\nä»¥è´­ä¹°ååä¸ºä¾ï¼ç¨æ·æ¯ä»åéè¦è°ç¨è®¢åæå¡å®æè®¢åç¶æä¿®æ¹ï¼è°ç¨ç©æµæå¡ï¼ä»ä»åºåéååºçåºå­å¹¶åå¤åè´§ã\n\nå¨äºä»¶æ¨¡å¼ä¸­ï¼æ¯ä»æå¡æ¯äºä»¶åå¸èï¼publisherï¼ï¼å¨æ¯ä»å®æååªéè¦åå¸ä¸ä¸ªæ¯ä»æåçäºä»¶ï¼eventï¼ï¼äºä»¶ä¸­å¸¦ä¸è®¢åidã\n\nè®¢åæå¡åç©æµæå¡æ¯äºä»¶è®¢éèï¼consumerï¼ï¼è®¢éæ¯ä»æåçäºä»¶ï¼çå¬å°äºä»¶åå®æèªå·±ä¸å¡å³å¯ã\n\nä¸ºäºè§£é¤äºä»¶åå¸èä¸è®¢éèä¹é´çè¦åï¼ä¸¤èå¹¶ä¸æ¯ç´æ¥éä¿¡ï¼èæ¯æä¸ä¸ªä¸­é´äººï¼brokerï¼ãåå¸èåå¸äºä»¶å°brokerï¼ä¸å³å¿è°æ¥è®¢éäºä»¶ãè®¢éèä»brokerè®¢éäºä»¶ï¼ä¸å³å¿è°åæ¥çæ¶æ¯ã\n\n\n\nbroker æ¯ä¸ä¸ªåæ°æ®æ»çº¿ä¸æ ·çä¸è¥¿ï¼ææçæå¡è¦æ¥æ¶æ°æ®ååéæ°æ®é½åå°è¿ä¸ªæ»çº¿ä¸ï¼è¿ä¸ªæ»çº¿å°±ååè®®ä¸æ ·ï¼è®©æå¡é´çéè®¯åå¾æ ååå¯æ§ã\n\nå¼æ­¥çä¼ç¹ï¼\n\n * ååéæåï¼æ éç­å¾è®¢éèå¤çå®æï¼ååºæ´å¿«é\n * æééç¦»ï¼æå¡æ²¡æç´æ¥è°ç¨ï¼ä¸å­å¨çº§èå¤±è´¥é®é¢\n * è°ç¨é´æ²¡æé»å¡ï¼ä¸ä¼é ææ æçèµæºå ç¨\n * è¦ååº¦æä½ï¼æ¯ä¸ªæå¡é½å¯ä»¥çµæ´»ææï¼å¯æ¿æ¢\n * æµéåå³°ï¼ä¸ç®¡åå¸äºä»¶çæµéæ³¢å¨å¤å¤§ï¼é½ç±brokeræ¥æ¶ï¼è®¢éèå¯ä»¥æç§èªå·±çéåº¦å»å¤çäºä»¶\n\nç¼ºç¹ï¼\n\n * æ¶æå¤æäºï¼ä¸å¡æ²¡æææ¾çæµç¨çº¿ï¼ä¸å¥½ç®¡ç\n * éè¦ä¾èµäºbrokerçå¯é ãå®å¨ãæ§è½\n\n\n# ä»ä¹æ¯mq\n\nmq(message queue)ï¼ä»å­é¢ææä¸çï¼æ¬è´¨æ¯ä¸ªéåï¼fifo åå¥ååºï¼åªä¸è¿éåä¸­å­æ¾çåå®¹æ¯ message èå·²ï¼è¿æ¯ä¸ç§è·¨è¿ç¨çéä¿¡æºå¶ï¼ç¨äºä¸ä¸æ¸¸ä¼ éæ¶æ¯ãå¨äºèç½æ¶æä¸­ï¼mq æ¯ä¸ç§éå¸¸å¸¸ è§çä¸ä¸æ¸¸ãé»è¾è§£è¦ + ç©çè§£è¦ãçæ¶æ¯éä¿¡æå¡ãä½¿ç¨äº mq ä¹åï¼æ¶æ¯åéä¸æ¸¸åªéè¦ä¾èµ mqï¼ä¸ç¨ä¾èµå¶ä»æå¡ã\n\n\n# ä¸ºä»ä¹è¦ç¨mq\n\n 1. æµéæ¶å³°\n\nä¸¾ä¸ªä¾å­ï¼å¦æè®¢åç³»ç»æå¤è½å¤çä¸ä¸æ¬¡è®¢åï¼è¿ä¸ªå¤çè½ååºä»æ­£å¸¸æ¶æ®µçä¸åæ¶ç»°ç»°æä½ï¼æ­£å¸¸æ¶æ®µæä»¬ä¸åä¸ç§åå°±è½è¿åç»æãä½æ¯å¨é«å³°æï¼å¦ææä¸¤ä¸æ¬¡ä¸åæä½ç³»ç»æ¯å¤çä¸äºçï¼åªè½éå¶è®¢åè¶è¿ä¸ä¸åä¸åè®¸ç¨æ·ä¸åãä½¿ç¨æ¶æ¯éååç¼å²ï¼æä»¬å¯ä»¥åæ¶è¿ä¸ªéå¶ï¼æä¸ç§åä¸çè®¢åå æ£æä¸æ®µæ¶é´æ¥å¤çï¼è¿æ¶æäºç¨æ·å¯è½å¨ä¸ååå ç§åæè½æ¶å°ä¸åæåçæä½ï¼ä½æ¯æ¯ä¸è½ä¸åçä½éªè¦å¥½ã\n\n 2. åºç¨è§£è¦\n\nä»¥çµååºç¨ä¸ºä¾ï¼åºç¨ä¸­æè®¢åç³»ç»ãåºå­ç³»ç»ãç©æµç³»ç»ãæ¯ä»ç³»ç»ãç¨æ·åå»ºè®¢ååï¼å¦æè¦åè°ç¨åºå­ç³»ç»ãç©æµç³»ç»ãæ¯ä»ç³»ç»ï¼ä»»ä½ä¸ä¸ªå­ç³»ç»åºäºæéï¼é½ä¼é æä¸åæä½å¼å¸¸ãå½è½¬åæåºäºæ¶æ¯éåçæ¹å¼åï¼ç³»ç»é´è°ç¨çé®é¢ä¼åå°å¾å¤ï¼æ¯å¦ç©æµç³»ç»å ä¸ºåçæéï¼éè¦å åéæ¥ä¿®å¤ãå¨è¿å åéçæ¶é´éï¼ç©æµç³»ç»è¦å¤ççåå­è¢«ç¼å­å¨æ¶æ¯éåä¸­ï¼ç¨æ·çä¸åæä½å¯ä»¥æ­£å¸¸å®æãå½ç©æµç³»ç»æ¢å¤åï¼ç»§ç»­å¤çè®¢åä¿¡æ¯å³å¯ï¼ä¸­åç¨æ·æåä¸å°ç©æµç³»ç»çæéï¼æåç³»ç»çå¯ç¨æ§ã\n\n\n\n 3. å¼æ­¥å¤ç\n\næäºæå¡é´è°ç¨æ¯å¼æ­¥çï¼ä¾å¦ a è°ç¨ bï¼b éè¦è±è´¹å¾é¿æ¶é´æ§è¡ï¼ä½æ¯ a éè¦ç¥é b ä»ä¹æ¶åå¯ä»¥æ§è¡å®ï¼ä»¥åä¸è¬æä¸¤ç§æ¹å¼ï¼a è¿ä¸æ®µæ¶é´å»è°ç¨ b çæ¥è¯¢ api æ¥è¯¢ãæè a æä¾ä¸ä¸ª callback apiï¼b æ§è¡å®ä¹åè°ç¨ api éç¥ a æå¡ãè¿ä¸¤ç§æ¹å¼é½ä¸æ¯å¾ä¼éï¼ä½¿ç¨æ¶æ¯æ»çº¿ï¼å¯ä»¥å¾æ¹ä¾¿è§£å³è¿ä¸ªé®é¢ï¼a è°ç¨ b æå¡åï¼åªéè¦çå¬ b å¤çå®æçæ¶æ¯ï¼å½ b å¤çå®æåï¼ä¼åéä¸æ¡æ¶æ¯ç» mqï¼mq ä¼å°æ­¤æ¶æ¯è½¬åç» a æå¡ãè¿æ · a æå¡æ¢ä¸ç¨å¾ªç¯è°ç¨ b çæ¥è¯¢ apiï¼ä¹ä¸ç¨æä¾ callback apiãåæ ·b æå¡ä¹ä¸ç¨åè¿äºæä½ãa æå¡è¿è½åæ¶çå¾å°å¼æ­¥å¤çæåçæ¶æ¯ã\n\n\n\n\n# mqçåç±»\n\n        rabbitmq               activemq                        rocketmq   kafka\nå¬å¸/ç¤¾åº   rabbit                 apache                          é¿é         apache\nå¼åè¯­è¨    erlang                 java                            java       scala&java\nåè®®æ¯æ    amqpï¼xmppï¼smtpï¼stomp   openwireï¼stompï¼restï¼xmppï¼amqp   èªå®ä¹åè®®      èªå®ä¹åè®®\nå¯ç¨æ§     é«                      ä¸è¬                              é«          é«\nåæºååé   ä¸è¬                     å·®                               é«          éå¸¸é«\næ¶æ¯å»¶è¿    å¾®ç§çº§                    æ¯«ç§çº§                             æ¯«ç§çº§        æ¯«ç§ä»¥å\næ¶æ¯å¯é æ§   é«                      ä¸è¬                              é«          ä¸è¬\n\n\n# activemq\n\n * ä¼ç¹ï¼ åæºååéä¸çº§ï¼æ¶ææ§ ms çº§ï¼å¯ç¨æ§é«ï¼åºäºä¸»ä»æ¶æå®ç°é«å¯ç¨æ§ï¼æ¶æ¯å¯é æ§è¾ ä½çæ¦çä¸¢å¤±æ°æ®ã\n * ç¼ºç¹ï¼ å®æ¹ç¤¾åºç°å¨å¯¹ activemq 5.x ç»´æ¤è¶æ¥è¶å°ï¼é«ååéåºæ¯è¾å°ä½¿ç¨ã\n\n\n# kafka\n\nå¤§æ°æ®çææéï¼è°å°å¤§æ°æ®é¢ååçæ¶æ¯ä¼ è¾ï¼åç»ä¸å¼ kafkaï¼è¿æ¬¾ä¸ºå¤§æ°æ®èççæ¶æ¯ä¸­é´ä»¶ï¼ä»¥å¶ç¾ä¸çº§ tps çååéåå£°å¤§åªï¼è¿éæä¸ºå¤§æ°æ®é¢åçå® å¿ï¼å¨æ°æ®ééãä¼ è¾ãå­å¨çè¿ç¨ä¸­åæ¥çä¸¾è¶³è½»éçä½ç¨ãç®åå·²ç»è¢« linkedinï¼uberï¼twitterï¼netflix ç­å¤§å¬å¸æéçº³ã\n\n * ä¼ç¹ï¼æ§è½åè¶ï¼åæºåå¥ tps çº¦å¨ç¾ä¸æ¡/ç§ï¼æå¤§çä¼ç¹ï¼å°±æ¯ååéé«ãæ¶ææ§ ms çº§å¯ç¨æ§éå¸¸é«ï¼kafka æ¯åå¸å¼çï¼ä¸ä¸ªæ°æ®å¤ä¸ªå¯æ¬ï¼å°æ°æºå¨å®æºï¼ä¸ä¼ä¸¢å¤±æ°æ®ï¼ä¸ä¼å¯¼è´ä¸å¯ç¨,æ¶è´¹èéç¨ pull æ¹å¼è·åæ¶æ¯ï¼æ¶æ¯æåºï¼éè¿æ§å¶è½å¤ä¿è¯æææ¶æ¯è¢«æ¶è´¹ä¸ä»è¢«æ¶è´¹ä¸æ¬¡ï¼æä¼ç§çç¬¬ä¸æ¹kafka web ç®¡ççé¢ kafka-managerï¼å¨æ¥å¿é¢åæ¯è¾æçï¼è¢«å¤å®¶å¬å¸åå¤ä¸ªå¼æºé¡¹ç®ä½¿ç¨ï¼åè½æ¯æï¼åè½ è¾ä¸ºç®åï¼ä¸»è¦æ¯æç®åç mq åè½ï¼å¨å¤§æ°æ®é¢åçå®æ¶è®¡ç®ä»¥åæ¥å¿ééè¢«å¤§è§æ¨¡ä½¿ç¨ã\n * ç¼ºç¹ï¼ kafka åæºè¶è¿ 64 ä¸ªéå/ååºï¼load ä¼åçææ¾çé£é«ç°è±¡ï¼éåè¶å¤ï¼load è¶é«ï¼åéæ¶æ¯ååºæ¶é´åé¿ï¼ä½¿ç¨ç­è½®è¯¢æ¹å¼ï¼å®æ¶æ§åå³äºè½®è¯¢é´éæ¶é´ï¼æ¶è´¹å¤±è´¥ä¸æ¯æéè¯ï¼æ¯ææ¶æ¯é¡ºåºï¼ä½æ¯ä¸å°ä»£çå®æºåï¼å°±ä¼äº§çæ¶æ¯ä¹±åºï¼ç¤¾åºæ´æ°è¾æ¢ã\n\n\n# rocketmq\n\nrocketmq åºèªé¿éå·´å·´çå¼æºäº§åï¼ç¨ java è¯­è¨å®ç°ï¼å¨è®¾è®¡æ¶åèäº kafkaï¼å¹¶ååºäºèªå·±çä¸äºæ¹è¿ãè¢«é¿éå·´å·´å¹¿æ³åºç¨å¨è®¢åï¼äº¤æï¼åå¼ï¼æµè®¡ç®ï¼æ¶æ¯æ¨éï¼æ¥å¿æµå¼å¤çï¼binglog ååç­åºæ¯ã\n\n * ä¼ç¹ï¼ åæºååéåä¸çº§ï¼å¯ç¨æ§éå¸¸é«ï¼åå¸å¼æ¶æï¼æ¶æ¯å¯ä»¥åå° 0 ä¸¢å¤±ï¼mq åè½è¾ä¸ºå®åï¼è¿æ¯åå¸å¼çï¼æ©å±æ§å¥½ï¼æ¯æ 10 äº¿çº§å«çæ¶æ¯å ç§¯ï¼ä¸ä¼å ä¸ºå ç§¯å¯¼è´æ§è½ä¸éï¼æºç æ¯ java æä»¬å¯ä»¥èªå·±éè¯»æºç ï¼å®å¶èªå·±å¬å¸ç mqã\n * ç¼ºç¹ï¼ æ¯æçå®¢æ·ç«¯è¯­è¨ä¸å¤ï¼ç®åæ¯ java å c++ï¼å¶ä¸­ c++ ä¸æçï¼ç¤¾åºæ´»è·åº¦ä¸è¬,æ²¡æå¨ mq æ ¸å¿ä¸­å»å®ç° jms ç­æ¥å£ï¼æäºç³»ç»è¦è¿ç§»éè¦ä¿®æ¹å¤§éä»£ç ã\n\n\n# rabbitmq\n\n2007 å¹´åå¸ï¼æ¯ä¸ä¸ªå¨amqp(é«çº§æ¶æ¯éååè®®)åºç¡ä¸å®æçï¼å¯å¤ç¨çä¼ä¸æ¶æ¯ç³»ç»ï¼æ¯å½åæä¸»æµçæ¶æ¯ä¸­é´ä»¶ä¹ä¸ã\n\nå®ç½ï¼https://www.rabbitmq.com\n\n * ä¼ç¹ï¼ç±äº erlang è¯­è¨çé«å¹¶åç¹æ§ï¼æ§è½è¾å¥½ï¼ååéå°ä¸çº§ï¼mq åè½æ¯è¾å®å¤,å¥å£®ãç¨³å®ãæç¨ãè·¨å¹³å°ãæ¯æå¤ç§è¯­è¨ å¦ï¼pythonãrubyã.netãjavaãjmsãcãphpãactionscriptãxmppãstomp ç­ï¼æ¯æ ajax ææ¡£é½å¨ï¼å¼æºæä¾çç®¡ççé¢éå¸¸æ£ï¼ç¨èµ·æ¥å¾å¥½ç¨ï¼ç¤¾åºæ´»è·åº¦é«ï¼æ´æ°é¢çç¸å½é«ã\n * ç¼ºç¹ï¼ åä¸çéè¦æ¶è´¹ï¼å­¦ä¹ ææ¬è¾é«ã\n\n\n# mqçéæ©\n\n * è¿½æ±å¯ç¨æ§ï¼kafkaã rocketmq ãrabbitmq\n * è¿½æ±å¯é æ§ï¼rabbitmqãrocketmq\n * è¿½æ±ååè½åï¼rocketmqãkafka\n * è¿½æ±æ¶æ¯ä½å»¶è¿ï¼rabbitmqãkafka\n\n\n# kafka\n\nkafka ä¸»è¦ç¹ç¹æ¯åºäº pull çæ¨¡å¼æ¥å¤çæ¶æ¯æ¶è´¹ï¼è¿½æ±é«ååéï¼ä¸å¼å§çç®çå°±æ¯ç¨äºæ¥å¿æ¶éåä¼ è¾ï¼éåäº§çå¤§éæ°æ®çäºèç½æå¡çæ°æ®æ¶éä¸å¡ãå¤§åå¬å¸å»ºè®®å¯ä»¥éç¨ï¼å¦æææ¥å¿ééåè½ï¼è¯å®æ¯é¦é kafka äºã\n\n\n# rocketmq\n\nå¤©çä¸ºéèäºèç½é¢åèçï¼å¯¹äºå¯é æ§è¦æ±å¾é«çåºæ¯ï¼å°¤å¶æ¯çµåéé¢çè®¢åæ£æ¬¾ï¼ä»¥åä¸å¡åå³°ï¼å¨å¤§éäº¤ææ¶å¥æ¶ï¼åç«¯å¯è½æ æ³åæ¶å¤ççæåµãroketmq å¨ç¨³å®æ§ä¸å¯è½æ´å¼å¾ä¿¡èµï¼è¿äºä¸å¡åºæ¯å¨é¿éå 11 å·²ç»ç»åäºå¤æ¬¡èéªï¼å¦æä½ çä¸å¡æä¸è¿°å¹¶ååºæ¯ï¼å»ºè®®å¯ä»¥éæ© rocketmqã\n\n\n# rabbitmq\n\nç»å erlang è¯­è¨æ¬èº«çå¹¶åä¼å¿ï¼æ§è½å¥½æ¶ææ§å¾®ç§çº§ï¼ç¤¾åºæ´»è·åº¦ä¹æ¯è¾é«ï¼ç®¡ççé¢ç¨èµ·æ¥åå æ¹ä¾¿ï¼å¦æä½ çæ°æ®éæ²¡æé£ä¹å¤§ï¼ä¸­å°åå¬å¸ä¼åéæ©åè½æ¯è¾å®å¤ç rabbitmqã",charsets:{cjk:!0},lastUpdated:"2022/11/25, 18:48:06",lastUpdatedTimestamp:1669373286e3},{title:"SpringBootæ´åRedis",frontmatter:{title:"SpringBootæ´åRedis",date:"2022-12-21T16:00:30.000Z",permalink:"/pages/jsf92i5m",categories:["æ°æ®åº"],tags:["Redis"],author:{name:"ä¹æ¨åç"}},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/02.Redis/07.SpringBoot%E6%95%B4%E5%90%88Redis.html",relativePath:"03.æ°æ®åº/02.Redis/07.SpringBootæ´åRedis.md",key:"v-604f08d4",path:"/pages/jsf92i5m/",headers:[{level:2,title:"æ­å»ºç¯å¢",slug:"æ­å»ºç¯å¢",normalizedTitle:"æ­å»ºç¯å¢",charIndex:296},{level:2,title:"Rediséç½®ç±»",slug:"rediséç½®ç±»",normalizedTitle:"rediséç½®ç±»",charIndex:921}],headersStr:"æ­å»ºç¯å¢ Rediséç½®ç±»",content:'å¨ Spring Boot ä¸­ä¸è¬ä½¿ç¨ RedisTemplate æä¾çæ¹æ³æ¥æä½ Redisã\n\n * JedisPoolConfigï¼éç½®è¿æ¥æ± \n * RedisConnectionFactoryï¼æ¯ä¸ä¸ªæ¥å£ï¼éç½®è¿æ¥ä¿¡æ¯ï¼ä½¿ç¨å®çå®ç°ç±»ï¼å¨ SpringDataRedis æ¹æ¡ä¸­æä¾äºä»¥ä¸åç§å·¥åæ¨¡åï¼\n   * JredisConnectionFactory\n   * JedisConnectionFactory\n   * LettuceConnectionFactory\n   * SrpConnectionFactory\n * RedisTemplateï¼åºæ¬æä½\n\n\n# æ­å»ºç¯å¢\n\nå¨pom.xmlæä»¶ä¸­å¼å¥redisç¸å³ä¾èµï¼\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-data-redis</artifactId>\n</dependency>\n\n\n> å¨ Spring Boot 2.x ä¹åï¼åæ¥ä½¿ç¨ç jedis è¢«æ¿æ¢æ lettuce\n\nå¨application.ymlä¸­æ·»å éç½®ä¿¡æ¯ï¼\n\nspring:\n  redis:\n    # Redisæå¡å¨å°å\n    host: 127.0.0.1\n    # Redisæå¡å¨è¿æ¥ç«¯å£\n    port: 6379\n    # Redisæ°æ®åºç´¢å¼ï¼é»è®¤ä¸º0ï¼\n    database: 0\n    # è¿æ¥è¶æ¶æ¶é´ï¼æ¯«ç§ï¼\n    timeout: 1800000\n    lettuce:\n      pool:\n        # è¿æ¥æ± æå¤§è¿æ¥æ°ï¼ä½¿ç¨è´å¼è¡¨ç¤ºæ²¡æéå¶ï¼\n        max-active: 20\n        # æå¤§é»å¡ç­å¾æ¶é´(è´æ°è¡¨ç¤ºæ²¡éå¶)\n        max-wait: -1\n        # è¿æ¥æ± ä¸­çæå¤§ç©ºé²è¿æ¥\n        max-idle: 5\n        # è¿æ¥æ± ä¸­çæå°ç©ºé²è¿æ¥\n        min-idle: 0\n\n\n\n# Rediséç½®ç±»\n\nåæ RedisAutoConfiguration èªå¨éç½®ç±»æºç ï¼\n\n@Configuration(proxyBeanMethods = false)\n@ConditionalOnClass(RedisOperations.class)\n@EnableConfigurationProperties(RedisProperties.class)\n@Import({ LettuceConnectionConfiguration.class, JedisConnectionConfiguration.class })\npublic class RedisAutoConfiguration {\n\n\t@Bean\n\t@ConditionalOnMissingBean(name = "redisTemplate")\n\t@ConditionalOnSingleCandidate(RedisConnectionFactory.class)\n\tpublic RedisTemplate<Object, Object> redisTemplate(RedisConnectionFactory redisConnectionFactory) {\n\t\tRedisTemplate<Object, Object> template = new RedisTemplate<>();\n\t\ttemplate.setConnectionFactory(redisConnectionFactory);\n\t\treturn template;\n\t}\n\n\t@Bean\n\t@ConditionalOnMissingBean\n\t@ConditionalOnSingleCandidate(RedisConnectionFactory.class)\n\tpublic StringRedisTemplate stringRedisTemplate(RedisConnectionFactory redisConnectionFactory) {\n\t\treturn new StringRedisTemplate(redisConnectionFactory);\n\t}\n\n}\n\n\néè¿æºç å¯ä»¥çåºï¼Spring Boot èªå¨å¸®æä»¬å¨å®¹å¨ä¸­çæäºä¸ä¸ª RedisTemplate åä¸ä¸ª StringRedisTemplateã\n\nå ä¸ºæ @ConditionalOnMissingBean æ³¨è§£ï¼å¦æ Spring å®¹å¨ä¸­æ RedisTemplate å¯¹è±¡ï¼è¿ä¸ªèªå¨éç½®ç RedisTemplate ä¸ä¼å®ä¾åãå æ­¤å¯ä»¥èªå·±éç½® RedisTemplateã\n\n@EnableCaching\n@Configuration\npublic class RedisConfig extends CachingConfigurerSupport {\n\n    @Bean\n    public RedisTemplate<String, Object> redisTemplate(RedisConnectionFactory factory) {\n        RedisTemplate<String, Object> template = new RedisTemplate<>();\n        RedisSerializer<String> redisSerializer = new StringRedisSerializer();\n        Jackson2JsonRedisSerializer<?> jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer<>(Object.class);\n        \n        // ObjectMapper æå®å¨è½¬æjsonçæ¶åçä¸äºè½¬æ¢è§å\n        ObjectMapper om = new ObjectMapper();\n        // om.setDateFormat(new SimpleDateFormat("yyyy-MM-dd HH:mm:ss"));\n        om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\n        om.activateDefaultTyping(LaissezFaireSubTypeValidator.instance, ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);\n\n        // æèªå®ä¹objectMapperè®¾ç½®å°jackson2JsonRedisSerializerä¸­ï¼å¯ä»¥ä¸è®¾ç½®ï¼ä½¿ç¨é»è®¤è§åï¼\n        jackson2JsonRedisSerializer.setObjectMapper(om);\n        template.setConnectionFactory(factory);\n\n        // RedisTemplateé»è®¤çåºååæ¹å¼ä½¿ç¨çæ¯JDKçåºåå\n        // è®¾ç½®keyéç¨Stringçåºååæ¹å¼\n        template.setKeySerializer(redisSerializer);\n        // è®¾ç½®valueåºååæ¹å¼éç¨jackson\n        template.setValueSerializer(jackson2JsonRedisSerializer);\n        // value hashmapåºåå\n        template.setHashValueSerializer(jackson2JsonRedisSerializer);\n        return template;\n    }\n\n    /**\n     * ç¼å­ç®¡çå¨\n     */\n    @Bean\n    public CacheManager cacheManager(RedisConnectionFactory factory) {\n        RedisSerializer<String> redisSerializer = new StringRedisSerializer();\n        Jackson2JsonRedisSerializer<?> jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer<>(Object.class);\n        // è§£å³æ¥è¯¢ç¼å­è½¬æ¢å¼å¸¸çé®é¢\n        ObjectMapper om = new ObjectMapper();\n        om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\n        om.activateDefaultTyping(LaissezFaireSubTypeValidator.instance, ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);\n        jackson2JsonRedisSerializer.setObjectMapper(om);\n        \n        RedisCacheConfiguration config = RedisCacheConfiguration.defaultCacheConfig()\n                // éç½®åºååï¼è§£å³ä¹±ç çé®é¢ï¼ï¼è¿ææ¶é´600ç§\n                .entryTtl(Duration.ofSeconds(600))\n                // è®¾ç½® keyä¸ºstringåºåå\n                .serializeKeysWith(RedisSerializationContext.SerializationPair.fromSerializer(redisSerializer))\n                // è®¾ç½®valueä¸ºjsonåºåå\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(jackson2JsonRedisSerializer))\n                // ä¸ç¼å­ç©ºå¼\n                .disableCachingNullValues();\n        return RedisCacheManager.builder(factory)\n                .cacheDefaults(config)\n                .build();\n    }\n}\n\n',normalizedContent:'å¨ spring boot ä¸­ä¸è¬ä½¿ç¨ redistemplate æä¾çæ¹æ³æ¥æä½ redisã\n\n * jedispoolconfigï¼éç½®è¿æ¥æ± \n * redisconnectionfactoryï¼æ¯ä¸ä¸ªæ¥å£ï¼éç½®è¿æ¥ä¿¡æ¯ï¼ä½¿ç¨å®çå®ç°ç±»ï¼å¨ springdataredis æ¹æ¡ä¸­æä¾äºä»¥ä¸åç§å·¥åæ¨¡åï¼\n   * jredisconnectionfactory\n   * jedisconnectionfactory\n   * lettuceconnectionfactory\n   * srpconnectionfactory\n * redistemplateï¼åºæ¬æä½\n\n\n# æ­å»ºç¯å¢\n\nå¨pom.xmlæä»¶ä¸­å¼å¥redisç¸å³ä¾èµï¼\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-data-redis</artifactid>\n</dependency>\n\n\n> å¨ spring boot 2.x ä¹åï¼åæ¥ä½¿ç¨ç jedis è¢«æ¿æ¢æ lettuce\n\nå¨application.ymlä¸­æ·»å éç½®ä¿¡æ¯ï¼\n\nspring:\n  redis:\n    # redisæå¡å¨å°å\n    host: 127.0.0.1\n    # redisæå¡å¨è¿æ¥ç«¯å£\n    port: 6379\n    # redisæ°æ®åºç´¢å¼ï¼é»è®¤ä¸º0ï¼\n    database: 0\n    # è¿æ¥è¶æ¶æ¶é´ï¼æ¯«ç§ï¼\n    timeout: 1800000\n    lettuce:\n      pool:\n        # è¿æ¥æ± æå¤§è¿æ¥æ°ï¼ä½¿ç¨è´å¼è¡¨ç¤ºæ²¡æéå¶ï¼\n        max-active: 20\n        # æå¤§é»å¡ç­å¾æ¶é´(è´æ°è¡¨ç¤ºæ²¡éå¶)\n        max-wait: -1\n        # è¿æ¥æ± ä¸­çæå¤§ç©ºé²è¿æ¥\n        max-idle: 5\n        # è¿æ¥æ± ä¸­çæå°ç©ºé²è¿æ¥\n        min-idle: 0\n\n\n\n# rediséç½®ç±»\n\nåæ redisautoconfiguration èªå¨éç½®ç±»æºç ï¼\n\n@configuration(proxybeanmethods = false)\n@conditionalonclass(redisoperations.class)\n@enableconfigurationproperties(redisproperties.class)\n@import({ lettuceconnectionconfiguration.class, jedisconnectionconfiguration.class })\npublic class redisautoconfiguration {\n\n\t@bean\n\t@conditionalonmissingbean(name = "redistemplate")\n\t@conditionalonsinglecandidate(redisconnectionfactory.class)\n\tpublic redistemplate<object, object> redistemplate(redisconnectionfactory redisconnectionfactory) {\n\t\tredistemplate<object, object> template = new redistemplate<>();\n\t\ttemplate.setconnectionfactory(redisconnectionfactory);\n\t\treturn template;\n\t}\n\n\t@bean\n\t@conditionalonmissingbean\n\t@conditionalonsinglecandidate(redisconnectionfactory.class)\n\tpublic stringredistemplate stringredistemplate(redisconnectionfactory redisconnectionfactory) {\n\t\treturn new stringredistemplate(redisconnectionfactory);\n\t}\n\n}\n\n\néè¿æºç å¯ä»¥çåºï¼spring boot èªå¨å¸®æä»¬å¨å®¹å¨ä¸­çæäºä¸ä¸ª redistemplate åä¸ä¸ª stringredistemplateã\n\nå ä¸ºæ @conditionalonmissingbean æ³¨è§£ï¼å¦æ spring å®¹å¨ä¸­æ redistemplate å¯¹è±¡ï¼è¿ä¸ªèªå¨éç½®ç redistemplate ä¸ä¼å®ä¾åãå æ­¤å¯ä»¥èªå·±éç½® redistemplateã\n\n@enablecaching\n@configuration\npublic class redisconfig extends cachingconfigurersupport {\n\n    @bean\n    public redistemplate<string, object> redistemplate(redisconnectionfactory factory) {\n        redistemplate<string, object> template = new redistemplate<>();\n        redisserializer<string> redisserializer = new stringredisserializer();\n        jackson2jsonredisserializer<?> jackson2jsonredisserializer = new jackson2jsonredisserializer<>(object.class);\n        \n        // objectmapper æå®å¨è½¬æjsonçæ¶åçä¸äºè½¬æ¢è§å\n        objectmapper om = new objectmapper();\n        // om.setdateformat(new simpledateformat("yyyy-mm-dd hh:mm:ss"));\n        om.setvisibility(propertyaccessor.all, jsonautodetect.visibility.any);\n        om.activatedefaulttyping(laissezfairesubtypevalidator.instance, objectmapper.defaulttyping.non_final, jsontypeinfo.as.property);\n\n        // æèªå®ä¹objectmapperè®¾ç½®å°jackson2jsonredisserializerä¸­ï¼å¯ä»¥ä¸è®¾ç½®ï¼ä½¿ç¨é»è®¤è§åï¼\n        jackson2jsonredisserializer.setobjectmapper(om);\n        template.setconnectionfactory(factory);\n\n        // redistemplateé»è®¤çåºååæ¹å¼ä½¿ç¨çæ¯jdkçåºåå\n        // è®¾ç½®keyéç¨stringçåºååæ¹å¼\n        template.setkeyserializer(redisserializer);\n        // è®¾ç½®valueåºååæ¹å¼éç¨jackson\n        template.setvalueserializer(jackson2jsonredisserializer);\n        // value hashmapåºåå\n        template.sethashvalueserializer(jackson2jsonredisserializer);\n        return template;\n    }\n\n    /**\n     * ç¼å­ç®¡çå¨\n     */\n    @bean\n    public cachemanager cachemanager(redisconnectionfactory factory) {\n        redisserializer<string> redisserializer = new stringredisserializer();\n        jackson2jsonredisserializer<?> jackson2jsonredisserializer = new jackson2jsonredisserializer<>(object.class);\n        // è§£å³æ¥è¯¢ç¼å­è½¬æ¢å¼å¸¸çé®é¢\n        objectmapper om = new objectmapper();\n        om.setvisibility(propertyaccessor.all, jsonautodetect.visibility.any);\n        om.activatedefaulttyping(laissezfairesubtypevalidator.instance, objectmapper.defaulttyping.non_final, jsontypeinfo.as.property);\n        jackson2jsonredisserializer.setobjectmapper(om);\n        \n        rediscacheconfiguration config = rediscacheconfiguration.defaultcacheconfig()\n                // éç½®åºååï¼è§£å³ä¹±ç çé®é¢ï¼ï¼è¿ææ¶é´600ç§\n                .entryttl(duration.ofseconds(600))\n                // è®¾ç½® keyä¸ºstringåºåå\n                .serializekeyswith(redisserializationcontext.serializationpair.fromserializer(redisserializer))\n                // è®¾ç½®valueä¸ºjsonåºåå\n                .serializevalueswith(redisserializationcontext.serializationpair.fromserializer(jackson2jsonredisserializer))\n                // ä¸ç¼å­ç©ºå¼\n                .disablecachingnullvalues();\n        return rediscachemanager.builder(factory)\n                .cachedefaults(config)\n                .build();\n    }\n}\n\n',charsets:{cjk:!0},lastUpdated:"2022/12/01, 18:47:59",lastUpdatedTimestamp:1669891679e3},{title:"Rediséç½®æä»¶",frontmatter:{title:"Rediséç½®æä»¶",date:"2022-12-10T21:23:00.000Z",permalink:"/pages/57aemd8k",categories:["æ°æ®åº"],tags:["Redis"],author:{name:"ä¹æ¨åç"}},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/02.Redis/03.Redis%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.html",relativePath:"03.æ°æ®åº/02.Redis/03.Rediséç½®æä»¶.md",key:"v-951a3cee",path:"/pages/57aemd8k/",headers:[{level:2,title:"Units åä½",slug:"units-åä½",normalizedTitle:"units åä½",charIndex:2},{level:2,title:"INCLUDES åå«",slug:"includes-åå«",normalizedTitle:"includes åå«",charIndex:585},{level:2,title:"NETWORK ç½ç»ç¸å³éç½®",slug:"network-ç½ç»ç¸å³éç½®",normalizedTitle:"network ç½ç»ç¸å³éç½®",charIndex:1468},{level:3,title:"bind",slug:"bind",normalizedTitle:"bind",charIndex:1487},{level:3,title:"protected-mode",slug:"protected-mode",normalizedTitle:"protected-mode",charIndex:1591},{level:3,title:"port",slug:"port",normalizedTitle:"port",charIndex:2322},{level:3,title:"tcp-backlog",slug:"tcp-backlog",normalizedTitle:"tcp-backlog",charIndex:4271},{level:3,title:"timeout",slug:"timeout",normalizedTitle:"timeout",charIndex:4919},{level:3,title:"tcp-keepalive",slug:"tcp-keepalive",normalizedTitle:"tcp-keepalive",charIndex:5052},{level:2,title:"GENERAL éç¨",slug:"general-éç¨",normalizedTitle:"general éç¨",charIndex:5744},{level:3,title:"daemonize",slug:"daemonize",normalizedTitle:"daemonize",charIndex:5759},{level:3,title:"pidfile",slug:"pidfile",normalizedTitle:"pidfile",charIndex:6047},{level:3,title:"loglevel",slug:"loglevel",normalizedTitle:"loglevel",charIndex:6685},{level:3,title:"logfile",slug:"logfile",normalizedTitle:"logfile",charIndex:7155},{level:3,title:"databases",slug:"databases",normalizedTitle:"databases",charIndex:7396},{level:2,title:"SECURITY å®å¨",slug:"security-å®å¨",normalizedTitle:"security å®å¨",charIndex:7672},{level:3,title:"è®¾ç½®å¯ç ",slug:"è®¾ç½®å¯ç ",normalizedTitle:"è®¾ç½®å¯ç ",charIndex:7688},{level:2,title:"LIMITS éå¶",slug:"limits-éå¶",normalizedTitle:"limits éå¶",charIndex:8475},{level:3,title:"maxclients",slug:"maxclients",normalizedTitle:"maxclients",charIndex:8489},{level:3,title:"maxmemory",slug:"maxmemory",normalizedTitle:"maxmemory",charIndex:9409},{level:3,title:"maxmemory-policy",slug:"maxmemory-policy",normalizedTitle:"maxmemory-policy",charIndex:9472},{level:3,title:"maxmemory-samples",slug:"maxmemory-samples",normalizedTitle:"maxmemory-samples",charIndex:12628}],headersStr:"Units åä½ INCLUDES åå« NETWORK ç½ç»ç¸å³éç½® bind protected-mode port tcp-backlog timeout tcp-keepalive GENERAL éç¨ daemonize pidfile loglevel logfile databases SECURITY å®å¨ è®¾ç½®å¯ç  LIMITS éå¶ maxclients maxmemory maxmemory-policy maxmemory-samples",content:'# Units åä½\n\néç½®å¤§å°åä½ï¼å¼å¤´å®ä¹äºä¸äºåºæ¬çåº¦éåä½ï¼åªæ¯æbytesï¼ä¸æ¯æbitï¼å¤§å°åä¸ææã\n\n# Redis configuration file example.\n#\n# Note that in order to read the configuration file, Redis must be\n# started with the file path as first argument:\n#\n# ./redis-server /path/to/redis.conf\n\n# Note on units: when memory size is needed, it is possible to specify\n# it in the usual form of 1k 5GB 4M and so forth:\n#\n# 1k => 1000 bytes\n# 1kb => 1024 bytes\n# 1m => 1000000 bytes\n# 1mb => 1024*1024 bytes\n# 1g => 1000000000 bytes\n# 1gb => 1024*1024*1024 bytes\n#\n# units are case insensitive so 1GB 1Gb 1gB are all the same.\n\n\n\n# INCLUDES åå«\n\nç±»ä¼¼jspä¸­çincludeï¼å¤å®ä¾çæåµå¯ä»¥æå¬ç¨çéç½®æä»¶æååºæ¥\n\n################################## INCLUDES ###################################\n\n# Include one or more other config files here.  This is useful if you\n# have a standard template that goes to all Redis servers but also need\n# to customize a few per-server settings.  Include files can include\n# other files, so use this wisely.\n#\n# Note that option "include" won\'t be rewritten by command "CONFIG REWRITE"\n# from admin or Redis Sentinel. Since Redis always uses the last processed\n# line as value of a configuration directive, you\'d better put includes\n# at the beginning of this file to avoid overwriting config change at runtime.\n#\n# If instead you are interested in using includes to override configuration\n# options, it is better to use include as the last line.\n#\n# include /path/to/local.conf\n# include /path/to/other.conf\n\n\n\n# NETWORK ç½ç»ç¸å³éç½®\n\n\n# bind\n\n * é»è®¤æåµ bind=127.0.0.1 åªè½æ¥åæ¬æºçè®¿é®è¯·æ±\n * ä¸åçæåµä¸ï¼æ éå¶æ¥åä»»ä½ipå°åçè®¿é®\n\nçäº§ç¯å¢è¦ååºç¨æå¡å¨çå°åï¼æå¡å¨æ¯éè¦è¿ç¨è®¿é®çã\n\n> å¦æå¼å¯äº protected-modeï¼é£ä¹å¨æ²¡æè®¾å® bind ip ä¸æ²¡æè®¾å¯ç çæåµä¸ï¼Redisåªåè®¸æ¥åæ¬æºçååº\n\n################################## NETWORK #####################################\n\n# By default, if no "bind" configuration directive is specified, Redis listens\n# for connections from all available network interfaces on the host machine.\n# It is possible to listen to just one or multiple selected interfaces using\n# the "bind" configuration directive, followed by one or more IP addresses.\n# Each address can be prefixed by "-", which means that redis will not fail to\n# start if the address is not available. Being not available only refers to\n# addresses that does not correspond to any network interfece. Addresses that\n# are already in use will always fail, and unsupported protocols will always BE\n# silently skipped.\n#\n# Examples:\n#\n# bind 192.168.1.100 10.0.0.1     # listens on two specific IPv4 addresses\n# bind 127.0.0.1 ::1              # listens on loopback IPv4 and IPv6\n# bind * -::*                     # like the default, all available interfaces\n#\n# ~~~ WARNING ~~~ If the computer running Redis is directly exposed to the\n# internet, binding to all the interfaces is dangerous and will expose the\n# instance to everybody on the internet. So by default we uncomment the\n# following bind directive, that will force Redis to listen only on the\n# IPv4 and IPv6 (if available) loopback interface addresses (this means Redis\n# will only be able to accept client connections from the same host that it is\n# running on).\n#\n# IF YOU ARE SURE YOU WANT YOUR INSTANCE TO LISTEN TO ALL THE INTERFACES\n# JUST COMMENT OUT THE FOLLOWING LINE.\n# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nbind 127.0.0.1 -::1\n\n\n\n\n\n# protected-mode\n\næ¬æºè®¿é®ä¿æ¤æ¨¡å¼ï¼è®¾ç½®no\n\n# Protected mode is a layer of security protection, in order to avoid that\n# Redis instances left open on the internet are accessed and exploited.\n#\n# When protected mode is on and if:\n#\n# 1) The server is not binding explicitly to a set of addresses using the\n#    "bind" directive.\n# 2) No password is configured.\n#\t\n# The server only accepts connections from clients connecting from the\n# IPv4 and IPv6 loopback addresses 127.0.0.1 and ::1, and from Unix domain\n# sockets.\n#\n# By default protected mode is enabled. You should disable it only if\n# you are sure you want clients from other hosts to connect to Redis\n# even if no authentication is configured, nor a specific set of interfaces\n# are explicitly listed using the "bind" directive.\nprotected-mode no\n\n\n\n# port\n\nç«¯å£å·ï¼é»è®¤ä¸º6379\n\n# Accept connections on the specified port, default is 6379 (IANA #815344).\n# If port 0 is specified Redis will not listen on a TCP socket.\nport 6379\n\n\n\n# tcp-backlog\n\nè®¾ç½®tcpçbacklogï¼backlogå¶å®æ¯ä¸ä¸ªè¿æ¥éåï¼backlogéåæ»å=æªå®æä¸æ¬¡æ¡æéå + å·²ç»å®æä¸æ¬¡æ¡æéåã\n\nå¨é«å¹¶åç¯å¢ä¸éè¦ä¸ä¸ªé«backlogå¼æ¥é¿åæ¢å®¢æ·ç«¯è¿æ¥é®é¢ã\n\n> Linuxåæ ¸ä¼å°è¿ä¸ªå¼åå°å° /proc/sys/net/core/somaxconn çå¼ï¼128ï¼ï¼æä»¥éè¦ç¡®è®¤å¢å¤§ /proc/sys/net/core/somaxconn å /proc/sys/net/ipv4/tcp_max_syn_backlog ï¼128ï¼ä¸¤ä¸ªå¼æ¥è¾¾å°æ³è¦çææã\n\n# TCP listen() backlog.\n#\n# In high requests-per-second environments you need a high backlog in order\n# to avoid slow clients connection issues. Note that the Linux kernel\n# will silently truncate it to the value of /proc/sys/net/core/somaxconn so\n# make sure to raise both the value of somaxconn and tcp_max_syn_backlog\n# in order to get the desired effect.\ntcp-backlog 511\n\n\n\n# timeout\n\nä¸ä¸ªç©ºé²çå®¢æ·ç«¯ç»´æå¤å°ç§ä¼å³é­ï¼0è¡¨ç¤ºå³é­è¯¥åè½ãå³æ°¸ä¸å³é­ã\n\n# Close the connection after a client is idle for N seconds (0 to disable)\ntimeout 0\n\n\n\n# tcp-keepalive\n\nå¯¹è®¿é®å®¢æ·ç«¯çä¸ç§å¿è·³æ£æµï¼æ¯ä¸ªnç§æ£æµä¸æ¬¡ï¼åä½ä¸ºç§ã\n\nå¦æè®¾ç½®ä¸º0ï¼åä¸ä¼è¿è¡Keepaliveæ£æµã\n\nå»ºè®®è®¾ç½®æ60ã\n\n# TCP keepalive.\n#\n# If non-zero, use SO_KEEPALIVE to send TCP ACKs to clients in absence\n# of communication. This is useful for two reasons:\n#\n# 1) Detect dead peers.\n# 2) Force network equipment in the middle to consider the connection to be\n#    alive.\n#\n# On Linux, the specified value (in seconds) is the period used to send ACKs.\n# Note that to close the connection the double of the time is needed.\n# On other kernels the period depends on the kernel configuration.\n#\n# A reasonable value for this option is 300 seconds, which is the new\n# Redis default starting with Redis 3.2.1.\ntcp-keepalive 300\n\n\n\n# GENERAL éç¨\n\n\n# daemonize\n\næ¯å¦ä¸ºåå°è¿ç¨ï¼è®¾ç½®ä¸º yes\n\nå®æ¤è¿ç¨ï¼åå°å¯å¨\n\n# By default Redis does not run as a daemon. Use \'yes\' if you need it.\n# Note that Redis will write a pid file in /var/run/redis.pid when daemonized.\n# When Redis is supervised by upstart or systemd, this parameter has no impact.\ndaemonize yes\n\n\n\n# pidfile\n\nå­æ¾pidæä»¶çä½ç½®ï¼æ¯ä¸ªå®ä¾ä¼äº§çä¸ä¸ªä¸åçpidæä»¶\n\n# If a pid file is specified, Redis writes it where specified at startup\n# and removes it at exit.\n#\n# When the server runs non daemonized, no pid file is created if none is\n# specified in the configuration. When the server is daemonized, the pid file\n# is used even if not specified, defaulting to "/var/run/redis.pid".\n#\n# Creating a pid file is best effort: if Redis is not able to create it\n# nothing bad happens, the server will start and run normally.\n#\n# Note that on modern Linux systems "/run/redis.pid" is more conforming\n# and should be used instead.\npidfile /var/run/redis_6379.pid\n\n\n\n# loglevel\n\næå®æ¥å¿è®°å½çº§å«ï¼Redisæ»å±æ¯æåä¸ªçº§å«ï¼ debug ã verbose ã notice ã warning ï¼é»è®¤ä¸º notice\n\nåä¸ªçº§å«æ ¹æ®ä½¿ç¨é¶æ®µæ¥éæ©ï¼çäº§ç¯å¢éæ© notice æè warning\n\n# Specify the server verbosity level.\n# This can be one of:\n# debug (a lot of information, useful for development/testing)\n# verbose (many rarely useful info, but not a mess like the debug level)\n# notice (moderately verbose, what you want in production probably)\n# warning (only very important / critical messages are logged)\nloglevel notice\n\n\n\n# logfile\n\næ¥å¿æä»¶åç§°\n\n# Specify the log file name. Also the empty string can be used to force\n# Redis to log on the standard output. Note that if you use standard\n# output for logging but daemonize, logs will be sent to /dev/null\nlogfile ""\n\n\n\n# databases\n\nè®¾å®åºçæ°é é»è®¤16ï¼é»è®¤æ°æ®åºä¸º0ï¼å¯ä»¥ä½¿ç¨ SELECT <dbid> å½ä»¤å¨è¿æ¥ä¸æå®æ°æ®åºid\n\n# Set the number of databases. The default database is DB 0, you can select\n# a different one on a per-connection basis using SELECT <dbid> where\n# dbid is a number between 0 and \'databases\'-1\ndatabases 16\n\n\n\n# SECURITY å®å¨\n\n\n# è®¾ç½®å¯ç \n\nè®¿é®å¯ç çæ¥çãè®¾ç½®ååæ¶\n\nå¨å½ä»¤ä¸­è®¾ç½®å¯ç ï¼åªæ¯ä¸´æ¶çãéå¯redisæå¡å¨ï¼å¯ç å°±è¿åäºã\n\næ°¸ä¹è®¾ç½®ï¼éè¦åéç½®æä»¶ä¸­è¿è¡è®¾ç½®ã\n\n# IMPORTANT NOTE: starting with Redis 6 "requirepass" is just a compatibility\n# layer on top of the new ACL system. The option effect will be just setting\n# the password for the default user. Clients will still authenticate using\n# AUTH <password> as usually, or more explicitly with AUTH default <password>\n# if they follow the new protocol: both will work.\n#\n# The requirepass is not compatable with aclfile option and the ACL LOAD\n# command, these will cause requirepass to be ignored.\n#\n# requirepass foobared\n\n\nä¸´æ¶è®¾ç½®å¯ç ï¼\n\n127.0.0.1:6379> config get requirepass\n1) "requirepass"\n2) ""\n127.0.0.1:6379> config set requirepass "123456"\nOK\n127.0.0.1:6379> config get requirepass\n1) "requirepass"\n2) "123456"\n\n\n\n# LIMITS éå¶\n\n\n# maxclients\n\nè®¾ç½®redisåæ¶å¯ä»¥ä¸å¤å°ä¸ªå®¢æ·ç«¯è¿è¡è¿æ¥ï¼é»è®¤æåµä¸ä¸º10000ä¸ªå®¢æ·ç«¯ã\n\nå¦æè¾¾å°äºæ­¤éå¶ï¼redisåä¼æç»æ°çè¿æ¥è¯·æ±ï¼å¹¶ä¸åè¿äºè¿æ¥è¯·æ±æ¹ååºâmax number of clients reachedâä»¥ä½ååºã\n\n# Set the max number of connected clients at the same time. By default\n# this limit is set to 10000 clients, however if the Redis server is not\n# able to configure the process file limit to allow for the specified limit\n# the max number of allowed clients is set to the current file limit\n# minus 32 (as Redis reserves a few file descriptors for internal uses).\n#\n# Once the limit is reached Redis will close all the new connections sending\n# an error \'max number of clients reached\'.\n#\n# IMPORTANT: When Redis Cluster is used, the max number of connections is also\n# shared with the cluster bus: every node in the cluster will use two\n# connections, one incoming and another outgoing. It is important to size the\n# limit accordingly in case of very large clusters.\n#\n# maxclients 10000\n\n\n\n# maxmemory\n\nè®¾ç½®rediså¯ä»¥ä½¿ç¨çåå­éï¼ä¸æ¦å°è¾¾åå­ä½¿ç¨ä¸éï¼rediså°ä¼è¯å¾ç§»é¤åé¨æ°æ®ï¼ç§»é¤è§åå¯ä»¥éè¿ maxmemory-policy æ¥æå®ã\n\nå»ºè®®è®¾ç½®ï¼å¦åå¯è½åå­å æ»¡ï¼é ææå¡å¨å®æºã\n\nå¦æredisæ æ³æ ¹æ®ç§»é¤è§åæ¥ç§»é¤åå­ä¸­çæ°æ®ï¼æèè®¾ç½®äºâä¸åè®¸ç§»é¤âï¼é£ä¹redisåä¼éå¯¹é£äºéè¦ç³è¯·åå­çæä»¤è¿åéè¯¯ä¿¡æ¯ï¼æ¯å¦SETãLPUSHç­ã\n\nä½æ¯å¯¹äºæ åå­ç³è¯·çæä»¤ï¼ä»ç¶ä¼æ­£å¸¸ååºï¼æ¯å¦GETç­ãå¦æredisæ¯ä¸»redisï¼è¯´æredisæä»redisï¼ï¼é£ä¹å¨è®¾ç½®åå­ä½¿ç¨ä¸éæ¶ï¼éè¦å¨ç³»ç»ä¸­çåºä¸äºåå­ç©ºé´ç»åæ­¥éåç¼å­ï¼åªæå¨è®¾ç½®çæ¯âä¸ç§»é¤âçæåµä¸ï¼æä¸ç¨èèè¿ä¸ªå ç´ ã\n\n# Set a memory usage limit to the specified amount of bytes.\n# When the memory limit is reached Redis will try to remove keys\n# according to the eviction policy selected (see maxmemory-policy).\n#\n# If Redis can\'t remove keys according to the policy, or if the policy is\n# set to \'noeviction\', Redis will start to reply with errors to commands\n# that would use more memory, like SET, LPUSH, and so on, and will continue\n# to reply to read-only commands like GET.\n#\n# This option is usually useful when using Redis as an LRU or LFU cache, or to\n# set a hard memory limit for an instance (using the \'noeviction\' policy).\n#\n# WARNING: If you have replicas attached to an instance with maxmemory on,\n# the size of the output buffers needed to feed the replicas are subtracted\n# from the used memory count, so that network problems / resyncs will\n# not trigger a loop where keys are evicted, and in turn the output\n# buffer of replicas is full with DELs of keys evicted triggering the deletion\n# of more keys, and so forth until the database is completely emptied.\n#\n# In short... if you have replicas attached it is suggested that you set a lower\n# limit for maxmemory so that there is some free RAM on the system for replica\n# output buffers (but this is not needed if the policy is \'noeviction\').\n#\n# maxmemory <bytes>\n\n\n\n# maxmemory-policy\n\n * volatile-lru ï¼ä½¿ç¨LRUç®æ³ç§»é¤keyï¼åªå¯¹è®¾ç½®äºè¿ææ¶é´çé®ï¼ï¼æè¿æå°ä½¿ç¨ï¼\n * allkeys-lru ï¼å¨ææéåkeyä¸­ï¼ä½¿ç¨LRUç®æ³ç§»é¤key\n * volatile-random ï¼å¨è¿æéåä¸­ç§»é¤éæºçkeyï¼åªå¯¹è®¾ç½®äºè¿ææ¶é´çé®\n * allkeys-random ï¼å¨ææéåkeyä¸­ï¼ç§»é¤éæºçkey\n * volatile-ttl ï¼ç§»é¤é£äºTTLå¼æå°çkeyï¼å³é£äºæè¿è¦è¿æçkey\n * noeviction ï¼ä¸è¿è¡ç§»é¤ï¼éå¯¹åæä½ï¼åªæ¯è¿åéè¯¯ä¿¡æ¯\n\n# MAXMEMORY POLICY: how Redis will select what to remove when maxmemory\n# is reached. You can select one from the following behaviors:\n#\n# volatile-lru -> Evict using approximated LRU, only keys with an expire set.\n# allkeys-lru -> Evict any key using approximated LRU.\n# volatile-lfu -> Evict using approximated LFU, only keys with an expire set.\n# allkeys-lfu -> Evict any key using approximated LFU.\n# volatile-random -> Remove a random key having an expire set.\n# allkeys-random -> Remove a random key, any key.\n# volatile-ttl -> Remove the key with the nearest expire time (minor TTL)\n# noeviction -> Don\'t evict anything, just return an error on write operations.\n#\n# LRU means Least Recently Used\n# LFU means Least Frequently Used\n#\n# Both LRU, LFU and volatile-ttl are implemented using approximated\n# randomized algorithms.\n#\n# Note: with any of the above policies, when there are no suitable keys for\n# eviction, Redis will return an error on write operations that require\n# more memory. These are usually commands that create new keys, add data or\n# modify existing keys. A few examples are: SET, INCR, HSET, LPUSH, SUNIONSTORE,\n# SORT (due to the STORE argument), and EXEC (if the transaction includes any\n# command that requires memory).\n#\n# The default is:\n#\n# maxmemory-policy noeviction\n\n\n\n# maxmemory-samples\n\nè®¾ç½®æ ·æ¬æ°éï¼LRUç®æ³åæå°TTLç®æ³é½å¹¶éæ¯ç²¾ç¡®çç®æ³ï¼èæ¯ä¼°ç®å¼ï¼æä»¥å¯ä»¥è®¾ç½®æ ·æ¬çå¤§å°ï¼redisé»è®¤ä¼æ£æ¥è¿ä¹å¤ä¸ªkeyå¹¶éæ©å¶ä¸­LRUçé£ä¸ªã\n\nä¸è¬è®¾ç½®3å°7çæ°å­ï¼æ°å¼è¶å°æ ·æ¬è¶ä¸åç¡®ï¼ä½æ§è½æ¶èè¶å°ã\n\n# LRU, LFU and minimal TTL algorithms are not precise algorithms but approximated\n# algorithms (in order to save memory), so you can tune it for speed or\n# accuracy. By default Redis will check five keys and pick the one that was\n# used least recently, you can change the sample size using the following\n# configuration directive.\n#\n# The default of 5 produces good enough results. 10 Approximates very closely\n# true LRU but costs more CPU. 3 is faster but not very accurate.\n#\n# maxmemory-samples 5\n',normalizedContent:'# units åä½\n\néç½®å¤§å°åä½ï¼å¼å¤´å®ä¹äºä¸äºåºæ¬çåº¦éåä½ï¼åªæ¯æbytesï¼ä¸æ¯æbitï¼å¤§å°åä¸ææã\n\n# redis configuration file example.\n#\n# note that in order to read the configuration file, redis must be\n# started with the file path as first argument:\n#\n# ./redis-server /path/to/redis.conf\n\n# note on units: when memory size is needed, it is possible to specify\n# it in the usual form of 1k 5gb 4m and so forth:\n#\n# 1k => 1000 bytes\n# 1kb => 1024 bytes\n# 1m => 1000000 bytes\n# 1mb => 1024*1024 bytes\n# 1g => 1000000000 bytes\n# 1gb => 1024*1024*1024 bytes\n#\n# units are case insensitive so 1gb 1gb 1gb are all the same.\n\n\n\n# includes åå«\n\nç±»ä¼¼jspä¸­çincludeï¼å¤å®ä¾çæåµå¯ä»¥æå¬ç¨çéç½®æä»¶æååºæ¥\n\n################################## includes ###################################\n\n# include one or more other config files here.  this is useful if you\n# have a standard template that goes to all redis servers but also need\n# to customize a few per-server settings.  include files can include\n# other files, so use this wisely.\n#\n# note that option "include" won\'t be rewritten by command "config rewrite"\n# from admin or redis sentinel. since redis always uses the last processed\n# line as value of a configuration directive, you\'d better put includes\n# at the beginning of this file to avoid overwriting config change at runtime.\n#\n# if instead you are interested in using includes to override configuration\n# options, it is better to use include as the last line.\n#\n# include /path/to/local.conf\n# include /path/to/other.conf\n\n\n\n# network ç½ç»ç¸å³éç½®\n\n\n# bind\n\n * é»è®¤æåµ bind=127.0.0.1 åªè½æ¥åæ¬æºçè®¿é®è¯·æ±\n * ä¸åçæåµä¸ï¼æ éå¶æ¥åä»»ä½ipå°åçè®¿é®\n\nçäº§ç¯å¢è¦ååºç¨æå¡å¨çå°åï¼æå¡å¨æ¯éè¦è¿ç¨è®¿é®çã\n\n> å¦æå¼å¯äº protected-modeï¼é£ä¹å¨æ²¡æè®¾å® bind ip ä¸æ²¡æè®¾å¯ç çæåµä¸ï¼redisåªåè®¸æ¥åæ¬æºçååº\n\n################################## network #####################################\n\n# by default, if no "bind" configuration directive is specified, redis listens\n# for connections from all available network interfaces on the host machine.\n# it is possible to listen to just one or multiple selected interfaces using\n# the "bind" configuration directive, followed by one or more ip addresses.\n# each address can be prefixed by "-", which means that redis will not fail to\n# start if the address is not available. being not available only refers to\n# addresses that does not correspond to any network interfece. addresses that\n# are already in use will always fail, and unsupported protocols will always be\n# silently skipped.\n#\n# examples:\n#\n# bind 192.168.1.100 10.0.0.1     # listens on two specific ipv4 addresses\n# bind 127.0.0.1 ::1              # listens on loopback ipv4 and ipv6\n# bind * -::*                     # like the default, all available interfaces\n#\n# ~~~ warning ~~~ if the computer running redis is directly exposed to the\n# internet, binding to all the interfaces is dangerous and will expose the\n# instance to everybody on the internet. so by default we uncomment the\n# following bind directive, that will force redis to listen only on the\n# ipv4 and ipv6 (if available) loopback interface addresses (this means redis\n# will only be able to accept client connections from the same host that it is\n# running on).\n#\n# if you are sure you want your instance to listen to all the interfaces\n# just comment out the following line.\n# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nbind 127.0.0.1 -::1\n\n\n\n\n\n# protected-mode\n\næ¬æºè®¿é®ä¿æ¤æ¨¡å¼ï¼è®¾ç½®no\n\n# protected mode is a layer of security protection, in order to avoid that\n# redis instances left open on the internet are accessed and exploited.\n#\n# when protected mode is on and if:\n#\n# 1) the server is not binding explicitly to a set of addresses using the\n#    "bind" directive.\n# 2) no password is configured.\n#\t\n# the server only accepts connections from clients connecting from the\n# ipv4 and ipv6 loopback addresses 127.0.0.1 and ::1, and from unix domain\n# sockets.\n#\n# by default protected mode is enabled. you should disable it only if\n# you are sure you want clients from other hosts to connect to redis\n# even if no authentication is configured, nor a specific set of interfaces\n# are explicitly listed using the "bind" directive.\nprotected-mode no\n\n\n\n# port\n\nç«¯å£å·ï¼é»è®¤ä¸º6379\n\n# accept connections on the specified port, default is 6379 (iana #815344).\n# if port 0 is specified redis will not listen on a tcp socket.\nport 6379\n\n\n\n# tcp-backlog\n\nè®¾ç½®tcpçbacklogï¼backlogå¶å®æ¯ä¸ä¸ªè¿æ¥éåï¼backlogéåæ»å=æªå®æä¸æ¬¡æ¡æéå + å·²ç»å®æä¸æ¬¡æ¡æéåã\n\nå¨é«å¹¶åç¯å¢ä¸éè¦ä¸ä¸ªé«backlogå¼æ¥é¿åæ¢å®¢æ·ç«¯è¿æ¥é®é¢ã\n\n> linuxåæ ¸ä¼å°è¿ä¸ªå¼åå°å° /proc/sys/net/core/somaxconn çå¼ï¼128ï¼ï¼æä»¥éè¦ç¡®è®¤å¢å¤§ /proc/sys/net/core/somaxconn å /proc/sys/net/ipv4/tcp_max_syn_backlog ï¼128ï¼ä¸¤ä¸ªå¼æ¥è¾¾å°æ³è¦çææã\n\n# tcp listen() backlog.\n#\n# in high requests-per-second environments you need a high backlog in order\n# to avoid slow clients connection issues. note that the linux kernel\n# will silently truncate it to the value of /proc/sys/net/core/somaxconn so\n# make sure to raise both the value of somaxconn and tcp_max_syn_backlog\n# in order to get the desired effect.\ntcp-backlog 511\n\n\n\n# timeout\n\nä¸ä¸ªç©ºé²çå®¢æ·ç«¯ç»´æå¤å°ç§ä¼å³é­ï¼0è¡¨ç¤ºå³é­è¯¥åè½ãå³æ°¸ä¸å³é­ã\n\n# close the connection after a client is idle for n seconds (0 to disable)\ntimeout 0\n\n\n\n# tcp-keepalive\n\nå¯¹è®¿é®å®¢æ·ç«¯çä¸ç§å¿è·³æ£æµï¼æ¯ä¸ªnç§æ£æµä¸æ¬¡ï¼åä½ä¸ºç§ã\n\nå¦æè®¾ç½®ä¸º0ï¼åä¸ä¼è¿è¡keepaliveæ£æµã\n\nå»ºè®®è®¾ç½®æ60ã\n\n# tcp keepalive.\n#\n# if non-zero, use so_keepalive to send tcp acks to clients in absence\n# of communication. this is useful for two reasons:\n#\n# 1) detect dead peers.\n# 2) force network equipment in the middle to consider the connection to be\n#    alive.\n#\n# on linux, the specified value (in seconds) is the period used to send acks.\n# note that to close the connection the double of the time is needed.\n# on other kernels the period depends on the kernel configuration.\n#\n# a reasonable value for this option is 300 seconds, which is the new\n# redis default starting with redis 3.2.1.\ntcp-keepalive 300\n\n\n\n# general éç¨\n\n\n# daemonize\n\næ¯å¦ä¸ºåå°è¿ç¨ï¼è®¾ç½®ä¸º yes\n\nå®æ¤è¿ç¨ï¼åå°å¯å¨\n\n# by default redis does not run as a daemon. use \'yes\' if you need it.\n# note that redis will write a pid file in /var/run/redis.pid when daemonized.\n# when redis is supervised by upstart or systemd, this parameter has no impact.\ndaemonize yes\n\n\n\n# pidfile\n\nå­æ¾pidæä»¶çä½ç½®ï¼æ¯ä¸ªå®ä¾ä¼äº§çä¸ä¸ªä¸åçpidæä»¶\n\n# if a pid file is specified, redis writes it where specified at startup\n# and removes it at exit.\n#\n# when the server runs non daemonized, no pid file is created if none is\n# specified in the configuration. when the server is daemonized, the pid file\n# is used even if not specified, defaulting to "/var/run/redis.pid".\n#\n# creating a pid file is best effort: if redis is not able to create it\n# nothing bad happens, the server will start and run normally.\n#\n# note that on modern linux systems "/run/redis.pid" is more conforming\n# and should be used instead.\npidfile /var/run/redis_6379.pid\n\n\n\n# loglevel\n\næå®æ¥å¿è®°å½çº§å«ï¼redisæ»å±æ¯æåä¸ªçº§å«ï¼ debug ã verbose ã notice ã warning ï¼é»è®¤ä¸º notice\n\nåä¸ªçº§å«æ ¹æ®ä½¿ç¨é¶æ®µæ¥éæ©ï¼çäº§ç¯å¢éæ© notice æè warning\n\n# specify the server verbosity level.\n# this can be one of:\n# debug (a lot of information, useful for development/testing)\n# verbose (many rarely useful info, but not a mess like the debug level)\n# notice (moderately verbose, what you want in production probably)\n# warning (only very important / critical messages are logged)\nloglevel notice\n\n\n\n# logfile\n\næ¥å¿æä»¶åç§°\n\n# specify the log file name. also the empty string can be used to force\n# redis to log on the standard output. note that if you use standard\n# output for logging but daemonize, logs will be sent to /dev/null\nlogfile ""\n\n\n\n# databases\n\nè®¾å®åºçæ°é é»è®¤16ï¼é»è®¤æ°æ®åºä¸º0ï¼å¯ä»¥ä½¿ç¨ select <dbid> å½ä»¤å¨è¿æ¥ä¸æå®æ°æ®åºid\n\n# set the number of databases. the default database is db 0, you can select\n# a different one on a per-connection basis using select <dbid> where\n# dbid is a number between 0 and \'databases\'-1\ndatabases 16\n\n\n\n# security å®å¨\n\n\n# è®¾ç½®å¯ç \n\nè®¿é®å¯ç çæ¥çãè®¾ç½®ååæ¶\n\nå¨å½ä»¤ä¸­è®¾ç½®å¯ç ï¼åªæ¯ä¸´æ¶çãéå¯redisæå¡å¨ï¼å¯ç å°±è¿åäºã\n\næ°¸ä¹è®¾ç½®ï¼éè¦åéç½®æä»¶ä¸­è¿è¡è®¾ç½®ã\n\n# important note: starting with redis 6 "requirepass" is just a compatibility\n# layer on top of the new acl system. the option effect will be just setting\n# the password for the default user. clients will still authenticate using\n# auth <password> as usually, or more explicitly with auth default <password>\n# if they follow the new protocol: both will work.\n#\n# the requirepass is not compatable with aclfile option and the acl load\n# command, these will cause requirepass to be ignored.\n#\n# requirepass foobared\n\n\nä¸´æ¶è®¾ç½®å¯ç ï¼\n\n127.0.0.1:6379> config get requirepass\n1) "requirepass"\n2) ""\n127.0.0.1:6379> config set requirepass "123456"\nok\n127.0.0.1:6379> config get requirepass\n1) "requirepass"\n2) "123456"\n\n\n\n# limits éå¶\n\n\n# maxclients\n\nè®¾ç½®redisåæ¶å¯ä»¥ä¸å¤å°ä¸ªå®¢æ·ç«¯è¿è¡è¿æ¥ï¼é»è®¤æåµä¸ä¸º10000ä¸ªå®¢æ·ç«¯ã\n\nå¦æè¾¾å°äºæ­¤éå¶ï¼redisåä¼æç»æ°çè¿æ¥è¯·æ±ï¼å¹¶ä¸åè¿äºè¿æ¥è¯·æ±æ¹ååºâmax number of clients reachedâä»¥ä½ååºã\n\n# set the max number of connected clients at the same time. by default\n# this limit is set to 10000 clients, however if the redis server is not\n# able to configure the process file limit to allow for the specified limit\n# the max number of allowed clients is set to the current file limit\n# minus 32 (as redis reserves a few file descriptors for internal uses).\n#\n# once the limit is reached redis will close all the new connections sending\n# an error \'max number of clients reached\'.\n#\n# important: when redis cluster is used, the max number of connections is also\n# shared with the cluster bus: every node in the cluster will use two\n# connections, one incoming and another outgoing. it is important to size the\n# limit accordingly in case of very large clusters.\n#\n# maxclients 10000\n\n\n\n# maxmemory\n\nè®¾ç½®rediså¯ä»¥ä½¿ç¨çåå­éï¼ä¸æ¦å°è¾¾åå­ä½¿ç¨ä¸éï¼rediså°ä¼è¯å¾ç§»é¤åé¨æ°æ®ï¼ç§»é¤è§åå¯ä»¥éè¿ maxmemory-policy æ¥æå®ã\n\nå»ºè®®è®¾ç½®ï¼å¦åå¯è½åå­å æ»¡ï¼é ææå¡å¨å®æºã\n\nå¦æredisæ æ³æ ¹æ®ç§»é¤è§åæ¥ç§»é¤åå­ä¸­çæ°æ®ï¼æèè®¾ç½®äºâä¸åè®¸ç§»é¤âï¼é£ä¹redisåä¼éå¯¹é£äºéè¦ç³è¯·åå­çæä»¤è¿åéè¯¯ä¿¡æ¯ï¼æ¯å¦setãlpushç­ã\n\nä½æ¯å¯¹äºæ åå­ç³è¯·çæä»¤ï¼ä»ç¶ä¼æ­£å¸¸ååºï¼æ¯å¦getç­ãå¦æredisæ¯ä¸»redisï¼è¯´æredisæä»redisï¼ï¼é£ä¹å¨è®¾ç½®åå­ä½¿ç¨ä¸éæ¶ï¼éè¦å¨ç³»ç»ä¸­çåºä¸äºåå­ç©ºé´ç»åæ­¥éåç¼å­ï¼åªæå¨è®¾ç½®çæ¯âä¸ç§»é¤âçæåµä¸ï¼æä¸ç¨èèè¿ä¸ªå ç´ ã\n\n# set a memory usage limit to the specified amount of bytes.\n# when the memory limit is reached redis will try to remove keys\n# according to the eviction policy selected (see maxmemory-policy).\n#\n# if redis can\'t remove keys according to the policy, or if the policy is\n# set to \'noeviction\', redis will start to reply with errors to commands\n# that would use more memory, like set, lpush, and so on, and will continue\n# to reply to read-only commands like get.\n#\n# this option is usually useful when using redis as an lru or lfu cache, or to\n# set a hard memory limit for an instance (using the \'noeviction\' policy).\n#\n# warning: if you have replicas attached to an instance with maxmemory on,\n# the size of the output buffers needed to feed the replicas are subtracted\n# from the used memory count, so that network problems / resyncs will\n# not trigger a loop where keys are evicted, and in turn the output\n# buffer of replicas is full with dels of keys evicted triggering the deletion\n# of more keys, and so forth until the database is completely emptied.\n#\n# in short... if you have replicas attached it is suggested that you set a lower\n# limit for maxmemory so that there is some free ram on the system for replica\n# output buffers (but this is not needed if the policy is \'noeviction\').\n#\n# maxmemory <bytes>\n\n\n\n# maxmemory-policy\n\n * volatile-lru ï¼ä½¿ç¨lruç®æ³ç§»é¤keyï¼åªå¯¹è®¾ç½®äºè¿ææ¶é´çé®ï¼ï¼æè¿æå°ä½¿ç¨ï¼\n * allkeys-lru ï¼å¨ææéåkeyä¸­ï¼ä½¿ç¨lruç®æ³ç§»é¤key\n * volatile-random ï¼å¨è¿æéåä¸­ç§»é¤éæºçkeyï¼åªå¯¹è®¾ç½®äºè¿ææ¶é´çé®\n * allkeys-random ï¼å¨ææéåkeyä¸­ï¼ç§»é¤éæºçkey\n * volatile-ttl ï¼ç§»é¤é£äºttlå¼æå°çkeyï¼å³é£äºæè¿è¦è¿æçkey\n * noeviction ï¼ä¸è¿è¡ç§»é¤ï¼éå¯¹åæä½ï¼åªæ¯è¿åéè¯¯ä¿¡æ¯\n\n# maxmemory policy: how redis will select what to remove when maxmemory\n# is reached. you can select one from the following behaviors:\n#\n# volatile-lru -> evict using approximated lru, only keys with an expire set.\n# allkeys-lru -> evict any key using approximated lru.\n# volatile-lfu -> evict using approximated lfu, only keys with an expire set.\n# allkeys-lfu -> evict any key using approximated lfu.\n# volatile-random -> remove a random key having an expire set.\n# allkeys-random -> remove a random key, any key.\n# volatile-ttl -> remove the key with the nearest expire time (minor ttl)\n# noeviction -> don\'t evict anything, just return an error on write operations.\n#\n# lru means least recently used\n# lfu means least frequently used\n#\n# both lru, lfu and volatile-ttl are implemented using approximated\n# randomized algorithms.\n#\n# note: with any of the above policies, when there are no suitable keys for\n# eviction, redis will return an error on write operations that require\n# more memory. these are usually commands that create new keys, add data or\n# modify existing keys. a few examples are: set, incr, hset, lpush, sunionstore,\n# sort (due to the store argument), and exec (if the transaction includes any\n# command that requires memory).\n#\n# the default is:\n#\n# maxmemory-policy noeviction\n\n\n\n# maxmemory-samples\n\nè®¾ç½®æ ·æ¬æ°éï¼lruç®æ³åæå°ttlç®æ³é½å¹¶éæ¯ç²¾ç¡®çç®æ³ï¼èæ¯ä¼°ç®å¼ï¼æä»¥å¯ä»¥è®¾ç½®æ ·æ¬çå¤§å°ï¼redisé»è®¤ä¼æ£æ¥è¿ä¹å¤ä¸ªkeyå¹¶éæ©å¶ä¸­lruçé£ä¸ªã\n\nä¸è¬è®¾ç½®3å°7çæ°å­ï¼æ°å¼è¶å°æ ·æ¬è¶ä¸åç¡®ï¼ä½æ§è½æ¶èè¶å°ã\n\n# lru, lfu and minimal ttl algorithms are not precise algorithms but approximated\n# algorithms (in order to save memory), so you can tune it for speed or\n# accuracy. by default redis will check five keys and pick the one that was\n# used least recently, you can change the sample size using the following\n# configuration directive.\n#\n# the default of 5 produces good enough results. 10 approximates very closely\n# true lru but costs more cpu. 3 is faster but not very accurate.\n#\n# maxmemory-samples 5\n',charsets:{cjk:!0},lastUpdated:"2022/11/30, 16:24:57",lastUpdatedTimestamp:1669796697e3},{title:"RabbitMQä»ç»",frontmatter:{title:"RabbitMQä»ç»",date:"2022-11-28T11:15:53.000Z",permalink:"/pages/vd45cpcf/",categories:["ä¸­é´ä»¶"],tags:["RabbitMQ"],author:{name:"ä¹æ¨åç"}},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/01.%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6/1001.RabbitMQ/01.RabbitMQ%E4%BB%8B%E7%BB%8D.html",relativePath:"04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/01.RabbitMQä»ç».md",key:"v-3fbbc302",path:"/pages/vd45cpcf/",headers:[{level:2,title:"RabbitMQçæ¦å¿µ",slug:"rabbitmqçæ¦å¿µ",normalizedTitle:"rabbitmqçæ¦å¿µ",charIndex:2},{level:2,title:"åå¤§æ ¸å¿æ¦å¿µ",slug:"åå¤§æ ¸å¿æ¦å¿µ",normalizedTitle:"åå¤§æ ¸å¿æ¦å¿µ",charIndex:181},{level:3,title:"1. çäº§è",slug:"_1-çäº§è",normalizedTitle:"1. çäº§è",charIndex:192},{level:3,title:"2. äº¤æ¢æº",slug:"_2-äº¤æ¢æº",normalizedTitle:"2. äº¤æ¢æº",charIndex:217},{level:3,title:"3. éå",slug:"_3-éå",normalizedTitle:"3. éå",charIndex:348},{level:3,title:"4. æ¶è´¹è",slug:"_4-æ¶è´¹è",normalizedTitle:"4. æ¶è´¹è",charIndex:499},{level:2,title:"RabbitMQç¹æ§",slug:"rabbitmqç¹æ§",normalizedTitle:"rabbitmqç¹æ§",charIndex:597},{level:2,title:"åè¯ä»ç»",slug:"åè¯ä»ç»",normalizedTitle:"åè¯ä»ç»",charIndex:614}],excerpt:'<h2 id="rabbitmqçæ¦å¿µ"><a class="header-anchor" href="#rabbitmqçæ¦å¿µ">#</a> RabbitMQçæ¦å¿µ</h2>\n<p>RabbitMQ æ¯ä¸ä¸ªæ¶æ¯ä¸­é´ä»¶ï¼å®æ¥åå¹¶è½¬åæ¶æ¯ãä½ å¯ä»¥æå®å½åä¸ä¸ªå¿«éç«ç¹ï¼å½ä½ è¦åéä¸ä¸ªåè£¹æ¶ï¼ä½ æä½ çåè£¹æ¾å°å¿«éç«ï¼å¿«éåæç»ä¼æä½ çå¿«ééå°æ¶ä»¶äººé£éï¼æç§è¿ç§é»è¾ RabbitMQ æ¯ ä¸ä¸ªå¿«éç«ï¼ä¸ä¸ªå¿«éåå¸®ä½ ä¼ éå¿«ä»¶ãRabbitMQ ä¸å¿«éç«çä¸»è¦åºå«å¨äºï¼å®ä¸å¤çå¿«ä»¶èæ¯æ¥æ¶ï¼å­å¨åè½¬åæ¶æ¯æ°æ®ã</p>\n',headersStr:"RabbitMQçæ¦å¿µ åå¤§æ ¸å¿æ¦å¿µ 1. çäº§è 2. äº¤æ¢æº 3. éå 4. æ¶è´¹è RabbitMQç¹æ§ åè¯ä»ç»",content:"# RabbitMQçæ¦å¿µ\n\nRabbitMQ æ¯ä¸ä¸ªæ¶æ¯ä¸­é´ä»¶ï¼å®æ¥åå¹¶è½¬åæ¶æ¯ãä½ å¯ä»¥æå®å½åä¸ä¸ªå¿«éç«ç¹ï¼å½ä½ è¦åéä¸ä¸ªåè£¹æ¶ï¼ä½ æä½ çåè£¹æ¾å°å¿«éç«ï¼å¿«éåæç»ä¼æä½ çå¿«ééå°æ¶ä»¶äººé£éï¼æç§è¿ç§é»è¾ RabbitMQ æ¯ ä¸ä¸ªå¿«éç«ï¼ä¸ä¸ªå¿«éåå¸®ä½ ä¼ éå¿«ä»¶ãRabbitMQ ä¸å¿«éç«çä¸»è¦åºå«å¨äºï¼å®ä¸å¤çå¿«ä»¶èæ¯æ¥æ¶ï¼å­å¨åè½¬åæ¶æ¯æ°æ®ã\n\n\n# åå¤§æ ¸å¿æ¦å¿µ\n\n\n# 1. çäº§è\n\näº§çæ°æ®åéæ¶æ¯çç¨åºã\n\n\n# 2. äº¤æ¢æº\n\næ¯ RabbitMQ éå¸¸éè¦çä¸ä¸ªé¨ä»¶ï¼ä¸æ¹é¢å®æ¥æ¶æ¥èªçäº§èçæ¶æ¯ï¼å¦ä¸æ¹é¢å®å°æ¶æ¯ æ¨éå°éåä¸­ãäº¤æ¢æºå¿é¡»ç¡®åç¥éå¦ä½å¤çå®æ¥æ¶å°çæ¶æ¯ï¼æ¯å°è¿äºæ¶æ¯æ¨éå°ç¹å®éåè¿æ¯æ¨éå°å¤ä¸ªéåï¼äº¦æèæ¯ææ¶æ¯ä¸¢å¼ï¼è¿ä¸ªå¾æäº¤æ¢æºç±»åå³å®ã\n\n\n# 3. éå\n\næ¯ RabbitMQ åé¨ä½¿ç¨çä¸ç§æ°æ®ç»æï¼å°½ç®¡æ¶æ¯æµç» RabbitMQ ååºç¨ç¨åºï¼ä½å®ä»¬åªè½å­å¨å¨éåä¸­ãéåä»åä¸»æºçåå­åç£çéå¶ççº¦æï¼æ¬è´¨ä¸æ¯ä¸ä¸ªå¤§çæ¶æ¯ç¼å²åºãè®¸å¤çäº§èå¯ä»¥å°æ¶æ¯åéå°ä¸ä¸ªéåï¼è®¸å¤æ¶è´¹èå¯ä»¥å°è¯ä»ä¸ä¸ªéåæ¥æ¶æ°æ®ãè¿å°±æ¯æä»¬ä½¿ç¨éåçæ¹å¼ã\n\n\n# 4. æ¶è´¹è\n\næ¶è´¹ä¸æ¥æ¶å·æç¸ä¼¼çå«ä¹ãæ¶è´¹èå¤§å¤æ¶åæ¯ä¸ä¸ªç­å¾æ¥æ¶æ¶æ¯çç¨åºãè¯·æ³¨æçäº§èï¼æ¶è´¹èåæ¶æ¯ä¸­é´ä»¶å¾å¤æ¶åå¹¶ä¸å¨åä¸æºå¨ä¸ãåä¸ä¸ªåºç¨ç¨åºæ¢å¯ä»¥æ¯çäº§èåæ¯å¯ä»¥æ¯æ¶è´¹èã\n\n\n# RabbitMQç¹æ§\n\n\n\n\n# åè¯ä»ç»\n\n\n\n * Brokerï¼æ¥æ¶åååæ¶æ¯çåºç¨ï¼RabbitMQ Server å°±æ¯ Message Brokerã\n * Virtual hostï¼åºäºå¤ç§æ·åå®å¨å ç´ è®¾è®¡çï¼æ AMQP çåºæ¬ç»ä»¶ååå°ä¸ä¸ªèæçåç»ä¸­ï¼ç±»ä¼¼äºç½ç»ä¸­ç namespace æ¦å¿µãå½å¤ä¸ªä¸åçç¨æ·ä½¿ç¨åä¸ä¸ª RabbitMQ server æä¾çæå¡æ¶ï¼å¯ä»¥åååºå¤ä¸ª vhostï¼æ¯ä¸ªç¨æ·å¨èªå·±ç vhost åå»º exchangeï¼queue ç­ã\n * Connectionï¼publisherï¼consumer å broker ä¹é´ç TCP è¿æ¥ã\n * Channelï¼å¦ææ¯ä¸æ¬¡è®¿é® RabbitMQ é½å»ºç«ä¸ä¸ª Connectionï¼å¨æ¶æ¯éå¤§çæ¶åå»ºç« TCP Connection çå¼éå°æ¯å·¨å¤§çï¼æçä¹è¾ä½ãChannel æ¯å¨ connection åé¨å»ºç«çé»è¾è¿æ¥ï¼å¦æåºç¨ç¨åºæ¯æå¤çº¿ç¨ï¼éå¸¸æ¯ä¸ª thread åå»ºåç¬ç channel è¿è¡éè®¯ï¼AMQP method åå«äº channel id å¸®å©å®¢ æ·ç«¯å message broker è¯å« channelï¼æä»¥ channel ä¹é´æ¯å®å¨éç¦»çãChannel ä½ä¸ºè½»éçº§ç Connection æå¤§åå°äºæä½ç³»ç»å»ºç« TCP connection çå¼éã\n * Exchangeï¼message å°è¾¾ broker çç¬¬ä¸ç«ï¼æ ¹æ®ååè§åï¼å¹éæ¥è¯¢è¡¨ä¸­ç routing keyï¼åå æ¶æ¯å° queue ä¸­å»ãå¸¸ç¨çç±»åæï¼direct (point-to-point)ï¼topic (publish-subscribe) and fanout (multicast)\n * Queueï¼æ¶æ¯æç»è¢«éå°è¿éç­å¾ consumer åèµ°ã\n * Bindingï¼exchange å queue ä¹é´çèæè¿æ¥ï¼binding ä¸­å¯ä»¥åå« routing keyï¼Binding ä¿¡æ¯è¢«ä¿ å­å° exchange ä¸­çæ¥è¯¢è¡¨ä¸­ï¼ç¨äº message çååä¾æ®ã",normalizedContent:"# rabbitmqçæ¦å¿µ\n\nrabbitmq æ¯ä¸ä¸ªæ¶æ¯ä¸­é´ä»¶ï¼å®æ¥åå¹¶è½¬åæ¶æ¯ãä½ å¯ä»¥æå®å½åä¸ä¸ªå¿«éç«ç¹ï¼å½ä½ è¦åéä¸ä¸ªåè£¹æ¶ï¼ä½ æä½ çåè£¹æ¾å°å¿«éç«ï¼å¿«éåæç»ä¼æä½ çå¿«ééå°æ¶ä»¶äººé£éï¼æç§è¿ç§é»è¾ rabbitmq æ¯ ä¸ä¸ªå¿«éç«ï¼ä¸ä¸ªå¿«éåå¸®ä½ ä¼ éå¿«ä»¶ãrabbitmq ä¸å¿«éç«çä¸»è¦åºå«å¨äºï¼å®ä¸å¤çå¿«ä»¶èæ¯æ¥æ¶ï¼å­å¨åè½¬åæ¶æ¯æ°æ®ã\n\n\n# åå¤§æ ¸å¿æ¦å¿µ\n\n\n# 1. çäº§è\n\näº§çæ°æ®åéæ¶æ¯çç¨åºã\n\n\n# 2. äº¤æ¢æº\n\næ¯ rabbitmq éå¸¸éè¦çä¸ä¸ªé¨ä»¶ï¼ä¸æ¹é¢å®æ¥æ¶æ¥èªçäº§èçæ¶æ¯ï¼å¦ä¸æ¹é¢å®å°æ¶æ¯ æ¨éå°éåä¸­ãäº¤æ¢æºå¿é¡»ç¡®åç¥éå¦ä½å¤çå®æ¥æ¶å°çæ¶æ¯ï¼æ¯å°è¿äºæ¶æ¯æ¨éå°ç¹å®éåè¿æ¯æ¨éå°å¤ä¸ªéåï¼äº¦æèæ¯ææ¶æ¯ä¸¢å¼ï¼è¿ä¸ªå¾æäº¤æ¢æºç±»åå³å®ã\n\n\n# 3. éå\n\næ¯ rabbitmq åé¨ä½¿ç¨çä¸ç§æ°æ®ç»æï¼å°½ç®¡æ¶æ¯æµç» rabbitmq ååºç¨ç¨åºï¼ä½å®ä»¬åªè½å­å¨å¨éåä¸­ãéåä»åä¸»æºçåå­åç£çéå¶ççº¦æï¼æ¬è´¨ä¸æ¯ä¸ä¸ªå¤§çæ¶æ¯ç¼å²åºãè®¸å¤çäº§èå¯ä»¥å°æ¶æ¯åéå°ä¸ä¸ªéåï¼è®¸å¤æ¶è´¹èå¯ä»¥å°è¯ä»ä¸ä¸ªéåæ¥æ¶æ°æ®ãè¿å°±æ¯æä»¬ä½¿ç¨éåçæ¹å¼ã\n\n\n# 4. æ¶è´¹è\n\næ¶è´¹ä¸æ¥æ¶å·æç¸ä¼¼çå«ä¹ãæ¶è´¹èå¤§å¤æ¶åæ¯ä¸ä¸ªç­å¾æ¥æ¶æ¶æ¯çç¨åºãè¯·æ³¨æçäº§èï¼æ¶è´¹èåæ¶æ¯ä¸­é´ä»¶å¾å¤æ¶åå¹¶ä¸å¨åä¸æºå¨ä¸ãåä¸ä¸ªåºç¨ç¨åºæ¢å¯ä»¥æ¯çäº§èåæ¯å¯ä»¥æ¯æ¶è´¹èã\n\n\n# rabbitmqç¹æ§\n\n\n\n\n# åè¯ä»ç»\n\n\n\n * brokerï¼æ¥æ¶åååæ¶æ¯çåºç¨ï¼rabbitmq server å°±æ¯ message brokerã\n * virtual hostï¼åºäºå¤ç§æ·åå®å¨å ç´ è®¾è®¡çï¼æ amqp çåºæ¬ç»ä»¶ååå°ä¸ä¸ªèæçåç»ä¸­ï¼ç±»ä¼¼äºç½ç»ä¸­ç namespace æ¦å¿µãå½å¤ä¸ªä¸åçç¨æ·ä½¿ç¨åä¸ä¸ª rabbitmq server æä¾çæå¡æ¶ï¼å¯ä»¥åååºå¤ä¸ª vhostï¼æ¯ä¸ªç¨æ·å¨èªå·±ç vhost åå»º exchangeï¼queue ç­ã\n * connectionï¼publisherï¼consumer å broker ä¹é´ç tcp è¿æ¥ã\n * channelï¼å¦ææ¯ä¸æ¬¡è®¿é® rabbitmq é½å»ºç«ä¸ä¸ª connectionï¼å¨æ¶æ¯éå¤§çæ¶åå»ºç« tcp connection çå¼éå°æ¯å·¨å¤§çï¼æçä¹è¾ä½ãchannel æ¯å¨ connection åé¨å»ºç«çé»è¾è¿æ¥ï¼å¦æåºç¨ç¨åºæ¯æå¤çº¿ç¨ï¼éå¸¸æ¯ä¸ª thread åå»ºåç¬ç channel è¿è¡éè®¯ï¼amqp method åå«äº channel id å¸®å©å®¢ æ·ç«¯å message broker è¯å« channelï¼æä»¥ channel ä¹é´æ¯å®å¨éç¦»çãchannel ä½ä¸ºè½»éçº§ç connection æå¤§åå°äºæä½ç³»ç»å»ºç« tcp connection çå¼éã\n * exchangeï¼message å°è¾¾ broker çç¬¬ä¸ç«ï¼æ ¹æ®ååè§åï¼å¹éæ¥è¯¢è¡¨ä¸­ç routing keyï¼åå æ¶æ¯å° queue ä¸­å»ãå¸¸ç¨çç±»åæï¼direct (point-to-point)ï¼topic (publish-subscribe) and fanout (multicast)\n * queueï¼æ¶æ¯æç»è¢«éå°è¿éç­å¾ consumer åèµ°ã\n * bindingï¼exchange å queue ä¹é´çèæè¿æ¥ï¼binding ä¸­å¯ä»¥åå« routing keyï¼binding ä¿¡æ¯è¢«ä¿ å­å° exchange ä¸­çæ¥è¯¢è¡¨ä¸­ï¼ç¨äº message çååä¾æ®ã",charsets:{cjk:!0},lastUpdated:"2022/11/25, 18:48:06",lastUpdatedTimestamp:1669373286e3},{title:"RabbitMQå®è£&å¸¸ç¨å½ä»¤",frontmatter:{title:"RabbitMQå®è£&å¸¸ç¨å½ä»¤",date:"2022-11-29T15:04:09.000Z",permalink:"/pages/kr5yv2xa/",categories:["ä¸­é´ä»¶","è¿ç»´"],tags:["Linux","RabbitMQ","Docker"],author:{name:"ä¹æ¨åç"}},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/01.%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6/1001.RabbitMQ/02.RabbitMQ%E5%AE%89%E8%A3%85&%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html",relativePath:"04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/02.RabbitMQå®è£&å¸¸ç¨å½ä»¤.md",key:"v-39560dc6",path:"/pages/kr5yv2xa/",headers:[{level:2,title:"ä¸è½½&å®è£",slug:"ä¸è½½-å®è£",normalizedTitle:"ä¸è½½&amp;å®è£",charIndex:null},{level:2,title:"å¸¸ç¨å½ä»¤",slug:"å¸¸ç¨å½ä»¤",normalizedTitle:"å¸¸ç¨å½ä»¤",charIndex:291},{level:3,title:"æ·»å å¼æºå¯å¨ RabbitMQ æå¡",slug:"æ·»å å¼æºå¯å¨-rabbitmq-æå¡",normalizedTitle:"æ·»å å¼æºå¯å¨ rabbitmq æå¡",charIndex:300},{level:3,title:"å¯å¨æå¡",slug:"å¯å¨æå¡",normalizedTitle:"å¯å¨æå¡",charIndex:354},{level:3,title:"æ¥çæå¡ç¶æ",slug:"æ¥çæå¡ç¶æ",normalizedTitle:"æ¥çæå¡ç¶æ",charIndex:401},{level:3,title:"åæ­¢æå¡",slug:"åæ­¢æå¡",normalizedTitle:"åæ­¢æå¡",charIndex:453},{level:3,title:"å¼å¯ web ç®¡çæä»¶",slug:"å¼å¯-web-ç®¡çæä»¶",normalizedTitle:"å¼å¯ web ç®¡çæä»¶",charIndex:499},{level:4,title:"é®é¢è§£å³",slug:"é®é¢è§£å³",normalizedTitle:"é®é¢è§£å³",charIndex:653},{level:2,title:"è®¾ç½®æé",slug:"è®¾ç½®æé",normalizedTitle:"è®¾ç½®æé",charIndex:1159},{level:3,title:"åå»ºè´¦å·",slug:"åå»ºè´¦å·",normalizedTitle:"åå»ºè´¦å·",charIndex:1225},{level:3,title:"è®¾ç½®ç¨æ·è§è²",slug:"è®¾ç½®ç¨æ·è§è²",normalizedTitle:"è®¾ç½®ç¨æ·è§è²",charIndex:1266},{level:3,title:"è®¾ç½®ç¨æ·æé",slug:"è®¾ç½®ç¨æ·æé",normalizedTitle:"è®¾ç½®ç¨æ·æé",charIndex:1332},{level:3,title:"æ¥è¯¢ç¨æ·åè§è²",slug:"æ¥è¯¢ç¨æ·åè§è²",normalizedTitle:"æ¥è¯¢ç¨æ·åè§è²",charIndex:1533},{level:3,title:"åæ¬¡ç»å½",slug:"åæ¬¡ç»å½",normalizedTitle:"åæ¬¡ç»å½",charIndex:1573},{level:3,title:"éç½®å½ä»¤",slug:"éç½®å½ä»¤",normalizedTitle:"éç½®å½ä»¤",charIndex:1600},{level:4,title:"å³é­åºç¨",slug:"å³é­åºç¨",normalizedTitle:"å³é­åºç¨",charIndex:1608},{level:4,title:"æ¸é¤",slug:"æ¸é¤",normalizedTitle:"æ¸é¤",charIndex:1639},{level:4,title:"éæ°å¯å¨",slug:"éæ°å¯å¨",normalizedTitle:"éæ°å¯å¨",charIndex:1665},{level:2,title:"Dockerå®è£",slug:"dockerå®è£",normalizedTitle:"dockerå®è£",charIndex:1698}],headersStr:"ä¸è½½&å®è£ å¸¸ç¨å½ä»¤ æ·»å å¼æºå¯å¨ RabbitMQ æå¡ å¯å¨æå¡ æ¥çæå¡ç¶æ åæ­¢æå¡ å¼å¯ web ç®¡çæä»¶ é®é¢è§£å³ è®¾ç½®æé åå»ºè´¦å· è®¾ç½®ç¨æ·è§è² è®¾ç½®ç¨æ·æé æ¥è¯¢ç¨æ·åè§è² åæ¬¡ç»å½ éç½®å½ä»¤ å³é­åºç¨ æ¸é¤ éæ°å¯å¨ Dockerå®è£",content:'# ä¸è½½&å®è£\n\nå®æ¹ä¸è½½å°åï¼https://www.rabbitmq.com/download.html\n\nå¨å®è£ä¹åéè¦åå®è£Erlangç¯å¢\n\n\n\nä¸ä¼ å°/usr/local/softwareç®å½ä¸(å¦ææ²¡æ software éè¦èªå·±åå»º)ï¼æ§è¡uname -aå¯ä»¥æ¥çå½åç³»ç»çæ¬æ¯el7ï¼åä¸è½½çå®è£åæ¯ç¬¦åã\n\n\n\nå®è£å½ä»¤ï¼æé¡ºåºå®è£ï¼\n\nrpm -ivh erlang-21.3-1.el7.x86_64.rpm\nyum install socat -y\nrpm -ivh rabbitmq-server-3.8.8-1.el7.noarch.rpm\n\n\n\n# å¸¸ç¨å½ä»¤\n\n\n# æ·»å å¼æºå¯å¨ RabbitMQ æå¡\n\nchkconfig rabbitmq-server on\n\n\n\n# å¯å¨æå¡\n\n/sbin/service rabbitmq-server start\n\n\n\n# æ¥çæå¡ç¶æ\n\n/sbin/service rabbitmq-server status\n\n\n\n\n\n# åæ­¢æå¡\n\n/sbin/service rabbitmq-server stop\n\n\n\n# å¼å¯ web ç®¡çæä»¶\n\néè¦ååæ­¢rabbitmqæå¡ï¼è¿å¥rabbitmqçå®è£ç®å½ï¼ç¶åæ§è¡ä¸é¢å½ä»¤ï¼åéæ°è¿è¡rabbitmqæå¡ã\n\nrabbitmq-plugins enable rabbitmq_management\n\n\nå¼å¯æå¡åï¼è¿å¥webçé¢ï¼å°åæ¯http://ip:15672\n\n# é®é¢è§£å³\n\nå¦æè¿ä¸å»çè¯ï¼å¯ä»¥çä¸é²ç«å¢ææ²¡æå³æã\n\n * å³é­é²ç«å¢ï¼\n\nsystemctl stop firewalld.service\n\n\n * æ¥çé²ç«å¢ç¶æï¼\n\nsystemctl status firewalld.service\n\n\n * ä¸æ¬¡å¼æºä¹å³é­é²ç«å¢ï¼\n\nsystemctl disable firewalld.service\n\n\nå¦æè¿æ¯è¿ä¸å»ï¼è¿å¥rabbitmqçå®è£ç®å½çbinç®å½ä¸­æ§è¡å½ä»¤ï¼\n\n 1. åæ¥çrabbitmqçå®è£ç®å½ï¼å¯ä»¥åè¿å¥ç¬¬ä¸ä¸ªæä»¶å¤¹ä¸­ççæ¯å¦å®è£å°è¯¥ç®å½(çä¸è¯¥ç®å½ä¸­æ¯å¦æbinç®å½)\n\nwhereis rabbitmq\n\n\n\n\n 2. è¿å¥å®è£ç®å½åæ§è¡ä¸é¢å½ä»¤ï¼\n\nrabbitmq-plugins enable rabbitmq_management\n\n\n 3. æ§è¡åï¼éå¯rabbitmqæå¡ï¼ååæ­¢ï¼åå¯å¨ï¼ç¶åæ¥çç¶ææ¯å¦è¿è¡ï¼ï¼\n\n/sbin/service rabbitmq-server stop\n/sbin/service rabbitmq-server start\n\n\n 4. æ­¤æ¶è¿å¥webçé¢å³å¯çå°åå®¹\n\n\n\n\n# è®¾ç½®æé\n\nä½¿ç¨é»è®¤è´¦å·å¯ç (guest)ç»å½ï¼ä¼åç°ç»å½ä¸ä¸ï¼è¯¥è´¦å·åªæ¯ææ¬å°ç»å½ï¼æä»¥éè¦è®¾ç½®æ°çè´¦å·åè®¾ç½®æéã\n\n\n\n\n# åå»ºè´¦å·\n\nrabbitmqctl add_user ç¨æ·å å¯ç \n\n\n\n\n\n# è®¾ç½®ç¨æ·è§è²\n\nrabbitmqctl set_user_tags vh ç¨æ·å æé(administrator)\n\n\n\n\n\n# è®¾ç½®ç¨æ·æé\n\nrabbitmqctl set_permissions [-p <vhostpath>] <user> <conf> <write> <read>\n\n# æ¡ä¾ï¼ç¨æ· admin å·æ/vhost1 è¿ä¸ª virtual host ä¸­ææèµæºçéç½®ãåãè¯»æé\nrabbitmqctl set_permissions -p "/" admin ".*" ".*" ".*"\n\n\n\n\n\n# æ¥è¯¢ç¨æ·åè§è²\n\n rabbitmqctl list_users\n\n\n\n\n\n# åæ¬¡ç»å½\n\nåç»­å¯ä»¥å¨webçé¢æ·»å è´¦æ·\n\n\n\n\n# éç½®å½ä»¤\n\n# å³é­åºç¨\n\nrabbitmqctl stop_app\n\n\n# æ¸é¤\n\nrabbitmqctl reset\n\n\n# éæ°å¯å¨\n\nrabbitmqctl start_app\n\n\n\n# Dockerå®è£\n\næåéå\n\ndocker pull rabbitmq:3-management\n\n\nåå»ºå¹¶è¿è¡å®¹å¨ï¼\n\ndocker run \\\n -e RABBITMQ_DEFAULT_USER=admin \\\n -e RABBITMQ_DEFAULT_PASS=123123 \\\n --name mq \\\n --hostname mq1 \\\n -p 15672:15672 \\\n -p 5672:5672 \\\n -d \\\n rabbitmq:3-management\n',normalizedContent:'# ä¸è½½&å®è£\n\nå®æ¹ä¸è½½å°åï¼https://www.rabbitmq.com/download.html\n\nå¨å®è£ä¹åéè¦åå®è£erlangç¯å¢\n\n\n\nä¸ä¼ å°/usr/local/softwareç®å½ä¸(å¦ææ²¡æ software éè¦èªå·±åå»º)ï¼æ§è¡uname -aå¯ä»¥æ¥çå½åç³»ç»çæ¬æ¯el7ï¼åä¸è½½çå®è£åæ¯ç¬¦åã\n\n\n\nå®è£å½ä»¤ï¼æé¡ºåºå®è£ï¼\n\nrpm -ivh erlang-21.3-1.el7.x86_64.rpm\nyum install socat -y\nrpm -ivh rabbitmq-server-3.8.8-1.el7.noarch.rpm\n\n\n\n# å¸¸ç¨å½ä»¤\n\n\n# æ·»å å¼æºå¯å¨ rabbitmq æå¡\n\nchkconfig rabbitmq-server on\n\n\n\n# å¯å¨æå¡\n\n/sbin/service rabbitmq-server start\n\n\n\n# æ¥çæå¡ç¶æ\n\n/sbin/service rabbitmq-server status\n\n\n\n\n\n# åæ­¢æå¡\n\n/sbin/service rabbitmq-server stop\n\n\n\n# å¼å¯ web ç®¡çæä»¶\n\néè¦ååæ­¢rabbitmqæå¡ï¼è¿å¥rabbitmqçå®è£ç®å½ï¼ç¶åæ§è¡ä¸é¢å½ä»¤ï¼åéæ°è¿è¡rabbitmqæå¡ã\n\nrabbitmq-plugins enable rabbitmq_management\n\n\nå¼å¯æå¡åï¼è¿å¥webçé¢ï¼å°åæ¯http://ip:15672\n\n# é®é¢è§£å³\n\nå¦æè¿ä¸å»çè¯ï¼å¯ä»¥çä¸é²ç«å¢ææ²¡æå³æã\n\n * å³é­é²ç«å¢ï¼\n\nsystemctl stop firewalld.service\n\n\n * æ¥çé²ç«å¢ç¶æï¼\n\nsystemctl status firewalld.service\n\n\n * ä¸æ¬¡å¼æºä¹å³é­é²ç«å¢ï¼\n\nsystemctl disable firewalld.service\n\n\nå¦æè¿æ¯è¿ä¸å»ï¼è¿å¥rabbitmqçå®è£ç®å½çbinç®å½ä¸­æ§è¡å½ä»¤ï¼\n\n 1. åæ¥çrabbitmqçå®è£ç®å½ï¼å¯ä»¥åè¿å¥ç¬¬ä¸ä¸ªæä»¶å¤¹ä¸­ççæ¯å¦å®è£å°è¯¥ç®å½(çä¸è¯¥ç®å½ä¸­æ¯å¦æbinç®å½)\n\nwhereis rabbitmq\n\n\n\n\n 2. è¿å¥å®è£ç®å½åæ§è¡ä¸é¢å½ä»¤ï¼\n\nrabbitmq-plugins enable rabbitmq_management\n\n\n 3. æ§è¡åï¼éå¯rabbitmqæå¡ï¼ååæ­¢ï¼åå¯å¨ï¼ç¶åæ¥çç¶ææ¯å¦è¿è¡ï¼ï¼\n\n/sbin/service rabbitmq-server stop\n/sbin/service rabbitmq-server start\n\n\n 4. æ­¤æ¶è¿å¥webçé¢å³å¯çå°åå®¹\n\n\n\n\n# è®¾ç½®æé\n\nä½¿ç¨é»è®¤è´¦å·å¯ç (guest)ç»å½ï¼ä¼åç°ç»å½ä¸ä¸ï¼è¯¥è´¦å·åªæ¯ææ¬å°ç»å½ï¼æä»¥éè¦è®¾ç½®æ°çè´¦å·åè®¾ç½®æéã\n\n\n\n\n# åå»ºè´¦å·\n\nrabbitmqctl add_user ç¨æ·å å¯ç \n\n\n\n\n\n# è®¾ç½®ç¨æ·è§è²\n\nrabbitmqctl set_user_tags vh ç¨æ·å æé(administrator)\n\n\n\n\n\n# è®¾ç½®ç¨æ·æé\n\nrabbitmqctl set_permissions [-p <vhostpath>] <user> <conf> <write> <read>\n\n# æ¡ä¾ï¼ç¨æ· admin å·æ/vhost1 è¿ä¸ª virtual host ä¸­ææèµæºçéç½®ãåãè¯»æé\nrabbitmqctl set_permissions -p "/" admin ".*" ".*" ".*"\n\n\n\n\n\n# æ¥è¯¢ç¨æ·åè§è²\n\n rabbitmqctl list_users\n\n\n\n\n\n# åæ¬¡ç»å½\n\nåç»­å¯ä»¥å¨webçé¢æ·»å è´¦æ·\n\n\n\n\n# éç½®å½ä»¤\n\n# å³é­åºç¨\n\nrabbitmqctl stop_app\n\n\n# æ¸é¤\n\nrabbitmqctl reset\n\n\n# éæ°å¯å¨\n\nrabbitmqctl start_app\n\n\n\n# dockerå®è£\n\næåéå\n\ndocker pull rabbitmq:3-management\n\n\nåå»ºå¹¶è¿è¡å®¹å¨ï¼\n\ndocker run \\\n -e rabbitmq_default_user=admin \\\n -e rabbitmq_default_pass=123123 \\\n --name mq \\\n --hostname mq1 \\\n -p 15672:15672 \\\n -p 5672:5672 \\\n -d \\\n rabbitmq:3-management\n',charsets:{cjk:!0},lastUpdated:"2022/11/25, 18:48:06",lastUpdatedTimestamp:1669373286e3},{title:"RabbitMQå¥é¨ç¨åº",frontmatter:{title:"RabbitMQå¥é¨ç¨åº",date:"2022-11-30T19:46:01.000Z",permalink:"/pages/hs9by9nl/",categories:["ä¸­é´ä»¶"],tags:["RabbitMQ"],author:{name:"ä¹æ¨åç"}},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/01.%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6/1001.RabbitMQ/03.RabbitMQ%E5%85%A5%E9%97%A8%E7%A8%8B%E5%BA%8F.html",relativePath:"04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/03.RabbitMQå¥é¨ç¨åº.md",key:"v-01b3aea8",path:"/pages/hs9by9nl/",headers:[{level:2,title:"æ­å»ºç¯å¢",slug:"æ­å»ºç¯å¢",normalizedTitle:"æ­å»ºç¯å¢",charIndex:104},{level:2,title:"çäº§èï¼åæ¶æ¯",slug:"çäº§è-åæ¶æ¯",normalizedTitle:"çäº§èï¼åæ¶æ¯",charIndex:525},{level:2,title:"æ¶è´¹èï¼æ¥æ¶æ¶æ¯",slug:"æ¶è´¹è-æ¥æ¶æ¶æ¯",normalizedTitle:"æ¶è´¹èï¼æ¥æ¶æ¶æ¯",charIndex:1695}],excerpt:"<p>ç¨ Java ç¼åä¸¤ä¸ªç¨åºãåéåä¸ªæ¶æ¯ççäº§èåæ¥æ¶æ¶æ¯å¹¶æå°åºæ¥çæ¶è´¹èã</p>\n",headersStr:"æ­å»ºç¯å¢ çäº§èï¼åæ¶æ¯ æ¶è´¹èï¼æ¥æ¶æ¶æ¯",content:'ç¨ Java ç¼åä¸¤ä¸ªç¨åºãåéåä¸ªæ¶æ¯ççäº§èåæ¥æ¶æ¶æ¯å¹¶æå°åºæ¥çæ¶è´¹èã\n\nå¨ä¸å¾ä¸­ï¼â Pâæ¯çäº§èï¼â Câæ¯æ¶è´¹èãä¸­é´çæ¡æ¯ä¸ä¸ªéå(RabbitMQ)ä»£è¡¨ä½¿ç¨èä¿ççæ¶æ¯ç¼å²åºã\n\n\n\n\n# æ­å»ºç¯å¢\n\nåå»ºä¸ä¸ªç©ºçMavenå·¥ç¨ãæ·»å ä¸é¢çä¾èµï¼\n\n<dependencies>\n\n    \x3c!--rabbitmq ä¾èµå®¢æ·ç«¯--\x3e\n    <dependency>\n        <groupId>com.rabbitmq</groupId>\n        <artifactId>amqp-client</artifactId>\n        <version>5.8.0</version>\n    </dependency>\n\n    \x3c!--æä½æä»¶æµçä¸ä¸ªä¾èµ--\x3e\n    <dependency>\n        <groupId>commons-io</groupId>\n        <artifactId>commons-io</artifactId>\n        <version>2.11.0</version>\n    </dependency>\n\n</dependencies>\n\n\n\n# çäº§èï¼åæ¶æ¯\n\npublic class Producer {\n\n    // éåçåç§°\n    private final static String QUEUE_NAME = "hello";\n\n    public static void main(String[] args) throws Exception {\n        // 1. åå»ºä¸ä¸ªè¿æ¥å·¥åï¼å¹¶è®¾ç½®MQçç¸å³ä¿¡æ¯\n        ConnectionFactory factory = new ConnectionFactory();\n        factory.setHost("192.168.182.130");\n        factory.setUsername("admin");\n        factory.setPassword("123123");\n\n        // 2. åå»ºè¿æ¥\n        Connection connection = factory.newConnection();\n        // 3. è·åä¿¡é\n        Channel channel = connection.createChannel();\n        /* 4. åå»ºéå(å¥é¨ç¨åºï¼åä¸åäº¤æ¢æºï¼æé»è®¤çäº¤æ¢æº)\n         *     4.1 éååç§°\n         *     4.2 éåéé¢çæ¶æ¯æ¯å¦æä¹å é»è®¤æ¶æ¯å­å¨å¨åå­ä¸­\n         *     4.3 è¯¥éåæ¯å¦åªä¾ä¸ä¸ªæ¶è´¹èè¿è¡æ¶è´¹ æ¯å¦è¿è¡å±äº« true å¯ä»¥å¤ä¸ªæ¶è´¹èæ¶è´¹\n         *     4.4 æ¯å¦èªå¨å é¤ æåä¸ä¸ªæ¶è´¹èç«¯å¼è¿æ¥ä»¥å è¯¥éåæ¯å¦èªå¨å é¤ true èªå¨å é¤\n         *     4.5 å¶ä»åæ°\n         */\n        channel.queueDeclare(QUEUE_NAME, false, false, false, null);\n        String message = "hello world";\n        /* 5. åéä¸ä¸ªæ¶æ¯\n         *     5.1 åéå°é£ä¸ªäº¤æ¢æº\n         *     5.2 è·¯ç±ç key æ¯åªä¸ª\n         *     5.3 å¶ä»çåæ°ä¿¡æ¯\n         *     5.4 åéæ¶æ¯çæ¶æ¯ä½\n         */\n        channel.basicPublish("", QUEUE_NAME, null, message.getBytes());\n        System.out.println("æ¶æ¯åéå®æ¯");\n    }\n}\n\n\n\n# æ¶è´¹èï¼æ¥æ¶æ¶æ¯\n\npublic class Consumer {\n\n    // éåçåç§°\n    private final static String QUEUE_NAME = "hello";\n\n    public static void main(String[] args) throws Exception {\n        // 1. åå»ºä¸ä¸ªè¿æ¥å·¥åï¼å¹¶è®¾ç½®MQçç¸å³ä¿¡æ¯\n        ConnectionFactory factory = new ConnectionFactory();\n        factory.setHost("192.168.182.130");\n        factory.setUsername("admin");\n        factory.setPassword("123123");\n\n        // 2. åå»ºè¿æ¥\n        Connection connection = factory.newConnection();\n        // 3. è·åä¿¡é\n        Channel channel = connection.createChannel();\n        System.out.println("ç­å¾æ¥æ¶æ¶æ¯.........");\n\n        // 4. æ¥æ¶æ¶æ¯ï¼å¹¶äº¤ä»æ¶æ¯\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String message = new String(delivery.getBody());\n            System.out.println(message);\n        };\n        // 5. åæ¶æ¶æ¯æ¶çåè°ï¼å¦å¨æ¶è´¹çæ¶åéåè¢«å é¤æäº\n        CancelCallback cancelCallback = (consumerTag) \n                -> System.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        /*\n         * 6. æ¶è´¹èæ¶è´¹æ¶æ¯\n         *     6.1 æ¶è´¹åªä¸ªéå\n         *     6.2 æ¶è´¹æåä¹åæ¯å¦è¦èªå¨åºç­(true:èªå¨åºç­ï¼false:æå¨åºç­)\n         *     6.3 æ¶è´¹èæåæ¶è´¹çåè°\n         *     6.4 æ¶è´¹èåæ¶æ¶è´¹çåè°\n         */\n        channel.basicConsume(QUEUE_NAME, true, deliverCallback, cancelCallback);\n    }\n}\n',normalizedContent:'ç¨ java ç¼åä¸¤ä¸ªç¨åºãåéåä¸ªæ¶æ¯ççäº§èåæ¥æ¶æ¶æ¯å¹¶æå°åºæ¥çæ¶è´¹èã\n\nå¨ä¸å¾ä¸­ï¼â pâæ¯çäº§èï¼â câæ¯æ¶è´¹èãä¸­é´çæ¡æ¯ä¸ä¸ªéå(rabbitmq)ä»£è¡¨ä½¿ç¨èä¿ççæ¶æ¯ç¼å²åºã\n\n\n\n\n# æ­å»ºç¯å¢\n\nåå»ºä¸ä¸ªç©ºçmavenå·¥ç¨ãæ·»å ä¸é¢çä¾èµï¼\n\n<dependencies>\n\n    \x3c!--rabbitmq ä¾èµå®¢æ·ç«¯--\x3e\n    <dependency>\n        <groupid>com.rabbitmq</groupid>\n        <artifactid>amqp-client</artifactid>\n        <version>5.8.0</version>\n    </dependency>\n\n    \x3c!--æä½æä»¶æµçä¸ä¸ªä¾èµ--\x3e\n    <dependency>\n        <groupid>commons-io</groupid>\n        <artifactid>commons-io</artifactid>\n        <version>2.11.0</version>\n    </dependency>\n\n</dependencies>\n\n\n\n# çäº§èï¼åæ¶æ¯\n\npublic class producer {\n\n    // éåçåç§°\n    private final static string queue_name = "hello";\n\n    public static void main(string[] args) throws exception {\n        // 1. åå»ºä¸ä¸ªè¿æ¥å·¥åï¼å¹¶è®¾ç½®mqçç¸å³ä¿¡æ¯\n        connectionfactory factory = new connectionfactory();\n        factory.sethost("192.168.182.130");\n        factory.setusername("admin");\n        factory.setpassword("123123");\n\n        // 2. åå»ºè¿æ¥\n        connection connection = factory.newconnection();\n        // 3. è·åä¿¡é\n        channel channel = connection.createchannel();\n        /* 4. åå»ºéå(å¥é¨ç¨åºï¼åä¸åäº¤æ¢æºï¼æé»è®¤çäº¤æ¢æº)\n         *     4.1 éååç§°\n         *     4.2 éåéé¢çæ¶æ¯æ¯å¦æä¹å é»è®¤æ¶æ¯å­å¨å¨åå­ä¸­\n         *     4.3 è¯¥éåæ¯å¦åªä¾ä¸ä¸ªæ¶è´¹èè¿è¡æ¶è´¹ æ¯å¦è¿è¡å±äº« true å¯ä»¥å¤ä¸ªæ¶è´¹èæ¶è´¹\n         *     4.4 æ¯å¦èªå¨å é¤ æåä¸ä¸ªæ¶è´¹èç«¯å¼è¿æ¥ä»¥å è¯¥éåæ¯å¦èªå¨å é¤ true èªå¨å é¤\n         *     4.5 å¶ä»åæ°\n         */\n        channel.queuedeclare(queue_name, false, false, false, null);\n        string message = "hello world";\n        /* 5. åéä¸ä¸ªæ¶æ¯\n         *     5.1 åéå°é£ä¸ªäº¤æ¢æº\n         *     5.2 è·¯ç±ç key æ¯åªä¸ª\n         *     5.3 å¶ä»çåæ°ä¿¡æ¯\n         *     5.4 åéæ¶æ¯çæ¶æ¯ä½\n         */\n        channel.basicpublish("", queue_name, null, message.getbytes());\n        system.out.println("æ¶æ¯åéå®æ¯");\n    }\n}\n\n\n\n# æ¶è´¹èï¼æ¥æ¶æ¶æ¯\n\npublic class consumer {\n\n    // éåçåç§°\n    private final static string queue_name = "hello";\n\n    public static void main(string[] args) throws exception {\n        // 1. åå»ºä¸ä¸ªè¿æ¥å·¥åï¼å¹¶è®¾ç½®mqçç¸å³ä¿¡æ¯\n        connectionfactory factory = new connectionfactory();\n        factory.sethost("192.168.182.130");\n        factory.setusername("admin");\n        factory.setpassword("123123");\n\n        // 2. åå»ºè¿æ¥\n        connection connection = factory.newconnection();\n        // 3. è·åä¿¡é\n        channel channel = connection.createchannel();\n        system.out.println("ç­å¾æ¥æ¶æ¶æ¯.........");\n\n        // 4. æ¥æ¶æ¶æ¯ï¼å¹¶äº¤ä»æ¶æ¯\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string message = new string(delivery.getbody());\n            system.out.println(message);\n        };\n        // 5. åæ¶æ¶æ¯æ¶çåè°ï¼å¦å¨æ¶è´¹çæ¶åéåè¢«å é¤æäº\n        cancelcallback cancelcallback = (consumertag) \n                -> system.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        /*\n         * 6. æ¶è´¹èæ¶è´¹æ¶æ¯\n         *     6.1 æ¶è´¹åªä¸ªéå\n         *     6.2 æ¶è´¹æåä¹åæ¯å¦è¦èªå¨åºç­(true:èªå¨åºç­ï¼false:æå¨åºç­)\n         *     6.3 æ¶è´¹èæåæ¶è´¹çåè°\n         *     6.4 æ¶è´¹èåæ¶æ¶è´¹çåè°\n         */\n        channel.basicconsume(queue_name, true, delivercallback, cancelcallback);\n    }\n}\n',charsets:{cjk:!0},lastUpdated:"2022/11/25, 18:48:06",lastUpdatedTimestamp:1669373286e3},{title:"Redisåå¸åè®¢é",frontmatter:{title:"Redisåå¸åè®¢é",date:"2022-12-11T15:52:40.000Z",permalink:"/pages/3a16c7g6",categories:["æ°æ®åº"],tags:["Redis"],author:{name:"ä¹æ¨åç"}},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/02.Redis/04.Redis%E5%8F%91%E5%B8%83%E5%92%8C%E8%AE%A2%E9%98%85.html",relativePath:"03.æ°æ®åº/02.Redis/04.Redisåå¸åè®¢é.md",key:"v-064b0f4d",path:"/pages/3a16c7g6/",headers:[{level:2,title:"åå¸è®¢éå½ä»¤è¡å®ç°",slug:"åå¸è®¢éå½ä»¤è¡å®ç°",normalizedTitle:"åå¸è®¢éå½ä»¤è¡å®ç°",charIndex:136}],excerpt:"<p>Redis åå¸è®¢é (pub/sub) æ¯ä¸ç§æ¶æ¯éä¿¡æ¨¡å¼ï¼åéè (pub) åéæ¶æ¯ï¼è®¢éè (sub) æ¥æ¶æ¶æ¯ã</p>\n<p>Redis å®¢æ·ç«¯å¯ä»¥è®¢éä»»ææ°éçé¢éã</p>\n",headersStr:"åå¸è®¢éå½ä»¤è¡å®ç°",content:"Redis åå¸è®¢é (pub/sub) æ¯ä¸ç§æ¶æ¯éä¿¡æ¨¡å¼ï¼åéè (pub) åéæ¶æ¯ï¼è®¢éè (sub) æ¥æ¶æ¶æ¯ã\n\nRedis å®¢æ·ç«¯å¯ä»¥è®¢éä»»ææ°éçé¢éã\n\nå®¢æ·ç«¯å¯ä»¥è®¢éé¢éå¦ä¸å¾ï¼\n\n\n\nå½ç»è¿ä¸ªé¢éåå¸æ¶æ¯åï¼æ¶æ¯å°±ä¼åéç»è®¢éçå®¢æ·ç«¯ï¼\n\n\n\n\n# åå¸è®¢éå½ä»¤è¡å®ç°\n\n 1. æå¼ä¸ä¸ªå®¢æ·ç«¯è¿è¡è®¢é\n\nsubscribe channel1\n\n\n\n\n 2. æå¼å¦ä¸ä¸ªå®¢æ·ç«¯ï¼ç»channel1åå¸æ¶æ¯hello\n\n publish channel1 hello\n\n\n\n\n 3. æå¼ç¬¬ä¸ä¸ªå®¢æ·ç«¯å¯ä»¥çå°åéçæ¶æ¯\n\n\n\n> å¦æåå¸çæ¶æ¯æ²¡ææä¹åï¼å¨è®¢éçå®¢æ·ç«¯æ¶ä¸å°helloï¼åªè½æ¶å°è®¢éååå¸çæ¶æ¯",normalizedContent:"redis åå¸è®¢é (pub/sub) æ¯ä¸ç§æ¶æ¯éä¿¡æ¨¡å¼ï¼åéè (pub) åéæ¶æ¯ï¼è®¢éè (sub) æ¥æ¶æ¶æ¯ã\n\nredis å®¢æ·ç«¯å¯ä»¥è®¢éä»»ææ°éçé¢éã\n\nå®¢æ·ç«¯å¯ä»¥è®¢éé¢éå¦ä¸å¾ï¼\n\n\n\nå½ç»è¿ä¸ªé¢éåå¸æ¶æ¯åï¼æ¶æ¯å°±ä¼åéç»è®¢éçå®¢æ·ç«¯ï¼\n\n\n\n\n# åå¸è®¢éå½ä»¤è¡å®ç°\n\n 1. æå¼ä¸ä¸ªå®¢æ·ç«¯è¿è¡è®¢é\n\nsubscribe channel1\n\n\n\n\n 2. æå¼å¦ä¸ä¸ªå®¢æ·ç«¯ï¼ç»channel1åå¸æ¶æ¯hello\n\n publish channel1 hello\n\n\n\n\n 3. æå¼ç¬¬ä¸ä¸ªå®¢æ·ç«¯å¯ä»¥çå°åéçæ¶æ¯\n\n\n\n> å¦æåå¸çæ¶æ¯æ²¡ææä¹åï¼å¨è®¢éçå®¢æ·ç«¯æ¶ä¸å°helloï¼åªè½æ¶å°è®¢éååå¸çæ¶æ¯",charsets:{cjk:!0},lastUpdated:"2022/11/30, 16:24:57",lastUpdatedTimestamp:1669796697e3},{title:"RabbitMQå·¥ä½éå",frontmatter:{title:"RabbitMQå·¥ä½éå",date:"2022-12-01T10:56:02.000Z",permalink:"/pages/b2xtwkg7",categories:["ä¸­é´ä»¶"],tags:["RabbitMQ"],author:{name:"ä¹æ¨åç"}},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/01.%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6/1001.RabbitMQ/04.RabbitMQ%E5%B7%A5%E4%BD%9C%E9%98%9F%E5%88%97.html",relativePath:"04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/04.RabbitMQå·¥ä½éå.md",key:"v-5ea527a0",path:"/pages/b2xtwkg7/",headers:[{level:2,title:"è½®è¯¢ååæ¶æ¯",slug:"è½®è¯¢ååæ¶æ¯",normalizedTitle:"è½®è¯¢ååæ¶æ¯",charIndex:131},{level:3,title:"æ½åå·¥å·ç±»",slug:"æ½åå·¥å·ç±»",normalizedTitle:"æ½åå·¥å·ç±»",charIndex:199},{level:3,title:"å¯å¨ä¸¤ä¸ªå·¥ä½çº¿ç¨",slug:"å¯å¨ä¸¤ä¸ªå·¥ä½çº¿ç¨",normalizedTitle:"å¯å¨ä¸¤ä¸ªå·¥ä½çº¿ç¨",charIndex:649},{level:3,title:"å¯å¨ä¸ä¸ªåéçº¿ç¨",slug:"å¯å¨ä¸ä¸ªåéçº¿ç¨",normalizedTitle:"å¯å¨ä¸ä¸ªåéçº¿ç¨",charIndex:1357},{level:2,title:"æ¶æ¯åºç­",slug:"æ¶æ¯åºç­",normalizedTitle:"æ¶æ¯åºç­",charIndex:1912},{level:3,title:"èªå¨åºç­",slug:"èªå¨åºç­",normalizedTitle:"èªå¨åºç­",charIndex:2084},{level:3,title:"æå¨åºç­",slug:"æå¨åºç­",normalizedTitle:"æå¨åºç­",charIndex:2268},{level:4,title:"åºç­æ¹æ³",slug:"åºç­æ¹æ³",normalizedTitle:"åºç­æ¹æ³",charIndex:2301},{level:4,title:"æ¶æ¯èªå¨éæ°å¥é",slug:"æ¶æ¯èªå¨éæ°å¥é",normalizedTitle:"æ¶æ¯èªå¨éæ°å¥é",charIndex:2607},{level:4,title:"Demo",slug:"demo",normalizedTitle:"demo",charIndex:2770},{level:5,title:"çäº§è",slug:"çäº§è",normalizedTitle:"çäº§è",charIndex:2778},{level:5,title:"ä¸¤ä¸ªæ¶è´¹è",slug:"ä¸¤ä¸ªæ¶è´¹è",normalizedTitle:"ä¸¤ä¸ªæ¶è´¹è",charIndex:3331},{level:2,title:"æä¹å",slug:"æä¹å",normalizedTitle:"æä¹å",charIndex:5366},{level:3,title:"éåæä¹å",slug:"éåæä¹å",normalizedTitle:"éåæä¹å",charIndex:5514},{level:3,title:"æ¶æ¯æä¹å",slug:"æ¶æ¯æä¹å",normalizedTitle:"æ¶æ¯æä¹å",charIndex:5716},{level:2,title:"ä¸å¬å¹³åå",slug:"ä¸å¬å¹³åå",normalizedTitle:"ä¸å¬å¹³åå",charIndex:6726},{level:3,title:"é¢åå¼",slug:"é¢åå¼",normalizedTitle:"é¢åå¼",charIndex:7001}],excerpt:"<p>å·¥ä½éå(åç§°ä»»å¡éå)çä¸»è¦ææ³æ¯é¿åç«å³æ§è¡èµæºå¯éåä»»å¡ï¼èä¸å¾ä¸ç­å¾å®å®æã</p>\n<p>ç¸åæä»¬å®æä»»å¡å¨ä¹åæ§è¡ãæä»¬æä»»å¡å°è£ä¸ºæ¶æ¯å¹¶å°å¶åéå°éåãå¨åå°è¿è¡çå·¥ä½è¿ç¨å°å¼¹åºä»»å¡å¹¶æç»æ§è¡ä½ä¸ãå½æå¤ä¸ªå·¥ä½çº¿ç¨æ¶ï¼è¿äºå·¥ä½çº¿ç¨å°ä¸èµ·å¤çè¿äºä»»å¡ã</p>\n",headersStr:"è½®è¯¢ååæ¶æ¯ æ½åå·¥å·ç±» å¯å¨ä¸¤ä¸ªå·¥ä½çº¿ç¨ å¯å¨ä¸ä¸ªåéçº¿ç¨ æ¶æ¯åºç­ èªå¨åºç­ æå¨åºç­ åºç­æ¹æ³ æ¶æ¯èªå¨éæ°å¥é Demo çäº§è ä¸¤ä¸ªæ¶è´¹è æä¹å éåæä¹å æ¶æ¯æä¹å ä¸å¬å¹³åå é¢åå¼",content:'å·¥ä½éå(åç§°ä»»å¡éå)çä¸»è¦ææ³æ¯é¿åç«å³æ§è¡èµæºå¯éåä»»å¡ï¼èä¸å¾ä¸ç­å¾å®å®æã\n\nç¸åæä»¬å®æä»»å¡å¨ä¹åæ§è¡ãæä»¬æä»»å¡å°è£ä¸ºæ¶æ¯å¹¶å°å¶åéå°éåãå¨åå°è¿è¡çå·¥ä½è¿ç¨å°å¼¹åºä»»å¡å¹¶æç»æ§è¡ä½ä¸ãå½æå¤ä¸ªå·¥ä½çº¿ç¨æ¶ï¼è¿äºå·¥ä½çº¿ç¨å°ä¸èµ·å¤çè¿äºä»»å¡ã\n\n\n# è½®è¯¢ååæ¶æ¯\n\nå¯å¨ä¸ä¸ªæ¶æ¯åéçº¿ç¨ï¼ä¸¤ä¸ªå·¥ä½çº¿ç¨ï¼éè¦ä¿è¯ä¸ä¸ªæ¶æ¯åªè½è¢«å¤çä¸æ¬¡ï¼ä¸è½å¤çå¤æ¬¡ï¼å¤ä¸ªå·¥ä½çº¿ç¨ä¹åæ¯ç«äºå³ç³»ã\n\n\n# æ½åå·¥å·ç±»\n\npublic class RabbitMqUtil {\n    public static Channel getChannel() throws Exception{\n        // åå»ºä¸ä¸ªè¿æ¥å·¥åï¼å¹¶è®¾ç½®MQçç¸å³ä¿¡æ¯\n        ConnectionFactory factory = new ConnectionFactory();\n        factory.setHost("192.168.182.130");\n        factory.setUsername("admin");\n        factory.setPassword("123123");\n        // åå»ºè¿æ¥\n        Connection connection = factory.newConnection();\n        // è·åä¿¡é\n        return connection.createChannel();\n    }\n}\n\n\n\n# å¯å¨ä¸¤ä¸ªå·¥ä½çº¿ç¨\n\npublic class Worker01 {\n\n    // éåçåç§°\n    private final static String QUEUE_NAME = "hello";\n\n    public static void main(String[] args) throws Exception {\n        System.out.println("çº¿ç¨02ï¼ç­å¾æ¥æ¶æ¶æ¯.........");\n\n        // 1. æ¥æ¶æ¶æ¯ï¼å¹¶äº¤ä»æ¶æ¯\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String message = new String(delivery.getBody());\n            System.out.println(message);\n        };\n        // 2. åæ¶æ¶æ¯æ¶çåè°\n        CancelCallback cancelCallback = (consumerTag) -> System.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n        // 3. æ¶è´¹èæ¶è´¹æ¶æ¯\n        Channel channel = RabbitMqUtil.getChannel();\n        channel.basicConsume(QUEUE_NAME, true, deliverCallback, cancelCallback);\n    }\n}\n\n\n\n\n# å¯å¨ä¸ä¸ªåéçº¿ç¨\n\npublic class Task01 {\n    // éåçåç§°\n    private final static String QUEUE_NAME = "hello";\n\n    public static void main(String[] args) throws Exception {\n        // åå»ºéå\n        Channel channel = RabbitMqUtil.getChannel();\n        channel.queueDeclare(QUEUE_NAME, false, false, false, null);\n        // åéä¸ä¸ªæ¶æ¯\n        for (int i = 0; i < 10; i++) {\n            String message = "ç¬¬" + i + "æ¡æ¶æ¯";\n            channel.basicPublish("", QUEUE_NAME, null, message.getBytes());\n            System.out.println("æ¶æ¯åéå®æ¯ï¼" + message);\n        }\n    }\n}\n\n\n\n# æ¶æ¯åºç­\n\næ¶è´¹èå®æä¸ä¸ªä»»å¡å¯è½éè¦ä¸æ®µæ¶é´ï¼å¦æå¶ä¸­ä¸ä¸ªæ¶è´¹èå¤çä¸ä¸ªé¿çä»»å¡å¹¶ä»åªå®æäºé¨åçªç¶å®ææäºï¼å°ä¸¢å¤±æ­£å¨å¤ççæ¶æ¯ã\n\nä¸ºäºä¿è¯æ¶æ¯å¨åéè¿ç¨ä¸­ä¸ä¸¢å¤±ï¼rabbitmq å¼å¥æ¶æ¯åºç­æºå¶ï¼æ¶æ¯åºç­å°±æ¯ï¼æ¶è´¹èå¨æ¥æ¶å°æ¶æ¯å¹¶ä¸å¤çè¯¥æ¶æ¯ä¹åï¼åè¯ rabbitmq å®å·²ç»å¤çäºï¼rabbitmq å¯ä»¥æè¯¥æ¶æ¯å é¤äºã\n\n\n# èªå¨åºç­\n\næ¶æ¯åéåç«å³è¢«è®¤ä¸ºå·²ç»ä¼ éæåï¼è¿ç§æ¨¡å¼éè¦å¨é«ååéåæ°æ®ä¼ è¾å®å¨æ§æ¹é¢åæè¡¡ï¼å¦ææ¶æ¯å¨æ¥æ¶å°ä¹åï¼æ¶è´¹èåºç°è¿æ¥æè channel å³é­ï¼æ¶æ¯å°±ä¼ä¸¢å¤±äºã\n\nå¦ä¸æ¹é¢æ¶è´¹èæ²¡æå¯¹ä¼ éçæ¶æ¯æ°éè¿è¡éå¶ï¼æå¯è½æ¥æ¶å¤ªå¤æ¥ä¸åå¤ççæ¶æ¯ï¼å¯¼è´æ¶æ¯ç§¯åï¼ä½¿åå­èå°½ï¼æç»è¢«æä½ç³»ç»ææ­»ï¼è¿ç§æ¨¡å¼ä»éç¨å¨æ¶è´¹èå¯ä»¥é«æå¤çè¿äºæ¶æ¯çæåµä¸ä½¿ç¨ã\n\n\n# æå¨åºç­\n\næå¨åºç­çå¥½å¤æ¯å¯ä»¥æ¹éåºç­å¹¶ä¸åå°ç½ç»æ¥å µã\n\n# åºç­æ¹æ³\n\nChannelç±»ï¼\n\nbasicAck(long deliveryTag, boolean multiple)ï¼ç¨äºè¯å®ç¡®è®¤ï¼åç¥RabbitMQå·²ç»å¤çæ¶æ¯ï¼å¯ä»¥å°å¶ä¸¢å¼ã\n\n * multiple ï¼æ¯å¦æ¹éåºç­ï¼å¦æè®¾ç½®ä¸ºtrueï¼åä¼å°ä¿¡éä¸­è¿æªåºç­çæ¶æ¯åºç­ãfalseåªä¼åºç­æå®çæ¶æ¯ã\n\nbasicNack(long deliveryTag, boolean multiple, boolean requeue)ï¼ç¨äºå¦å®ç¡®è®¤\n\nbasicReject(long deliveryTag, boolean requeue)ï¼ç¨äºå¦å®ç¡®è®¤ï¼ä¸å¤çè¯¥æ¶æ¯äºç´æ¥æç»ï¼å¯ä»¥å°å¶ä¸¢å¼äº\n\n# æ¶æ¯èªå¨éæ°å¥é\n\nå¦ææ¶è´¹èç±äºæäºåå å¤±å»è¿æ¥(å¶ééå·²å³é­ï¼è¿æ¥å·²å³é­æ TCP è¿æ¥ä¸¢å¤±)ï¼å¯¼è´æ¶æ¯ æªåé ACK ç¡®è®¤ï¼RabbitMQ å°äºè§£å°æ¶æ¯æªå®å¨å¤çï¼å¹¶å°å¯¹å¶éæ°æéãå¦ææ­¤æ¶å¶ä»æ¶è´¹èå¯ä»¥å¤çï¼å®å°å¾å¿«å°å¶éæ°ååç»å¦ä¸ä¸ªæ¶è´¹èãè¿æ ·ï¼å³ä½¿æä¸ªæ¶è´¹èå¶å°æ­»äº¡ï¼ä¹å¯ä»¥ç¡®ä¿ä¸ä¼ä¸¢å¤±ä»»ä½æ¶æ¯ã\n\n\n\n# Demo\n\n# çäº§è\n\npublic class Task02 {\n    // éåçåç§°\n    private final static String QUEUE_NAME = "ack_queue";\n\n    public static void main(String[] args) throws Exception {\n        // åå»ºéå\n        Channel channel = RabbitMqUtil.getChannel();\n        channel.queueDeclare(QUEUE_NAME, false, false, false, null);\n        // åéä¸ä¸ªæ¶æ¯\n        for (int i = 0; i < 10; i++) {\n            String message = "ç¬¬" + i + "æ¡æ¶æ¯";\n            channel.basicPublish("", QUEUE_NAME, null, message.getBytes());\n            System.out.println("æ¶æ¯åéå®æ¯ï¼" + message);\n        }\n    }\n}\n\n\n# ä¸¤ä¸ªæ¶è´¹è\n\npublic class Worker02 {\n\n    // éåçåç§°\n    private final static String QUEUE_NAME = "ack_queue";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtil.getChannel();\n        System.out.println("çº¿ç¨02ï¼ç­å¾æ¥æ¶æ¶æ¯.........");\n\n        boolean autoAck = false;\n        // 1. æ¥æ¶æ¶æ¯ï¼å¹¶äº¤ä»æ¶æ¯ï¼æå¨åºç­\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            SleepUtils.sleep(1);\n            String message = new String(delivery.getBody());\n            System.out.println("æ¶å°çæ¶æ¯ï¼" + message);\n            // æå¨åºç­ï¼\n            // åæ°1ï¼æ¶æ¯æ è®°çtag\n            // åæ°2ï¼æ¯å¦æ¹éåºç­\n            channel.basicAck(delivery.getEnvelope().getDeliveryTag(), false);\n        };\n        // 2. åæ¶æ¶æ¯æ¶çåè°\n        CancelCallback cancelCallback = (consumerTag) -> System.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n        // 3. æ¶è´¹èæ¶è´¹æ¶æ¯\n        channel.basicConsume(QUEUE_NAME, autoAck, deliverCallback, cancelCallback);\n    }\n}\n\n\npublic class Worker03 {\n\n    // éåçåç§°\n    private final static String QUEUE_NAME = "ack_queue";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtil.getChannel();\n        System.out.println("çº¿ç¨03ï¼ç­å¾æ¥æ¶æ¶æ¯.........");\n\n        boolean autoAck = false;\n        // 1. æ¥æ¶æ¶æ¯ï¼å¹¶äº¤ä»æ¶æ¯ï¼æå¨åºç­\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            SleepUtils.sleep(30);\n            String message = new String(delivery.getBody());\n            System.out.println("æ¶å°çæ¶æ¯ï¼" + message);\n            // æå¨åºç­ï¼\n            // åæ°1ï¼æ¶æ¯æ è®°çtag\n            // åæ°2ï¼æ¯å¦æ¹éåºç­\n            channel.basicAck(delivery.getEnvelope().getDeliveryTag(), false);\n        };\n        // 2. åæ¶æ¶æ¯æ¶çåè°\n        CancelCallback cancelCallback = (consumerTag) -> System.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n        // 3. æ¶è´¹èæ¶è´¹æ¶æ¯\n        channel.basicConsume(QUEUE_NAME, autoAck, deliverCallback, cancelCallback);\n    }\n}\n\n\n> æ­£å¸¸æåµä¸æ¶æ¯åéæ¹åéä¸¤ä¸ªæ¶æ¯ä¸¤ä¸ªçº¿ç¨åå«æ¥æ¶å°æ¶æ¯å¹¶è¿è¡å¤çï¼ä½è¿éè®¾ç½®çæ¯ï¼ä¸ä¸ªçº¿ç¨å¤ççæ¶é´ä¸º1ç§ï¼å¦ä¸ä¸ªçº¿ç¨å¤ççæ¶é´ä¸º30ç§ã\n\n> åé10æ¡ï¼çº¿ç¨1å¾å¿«å¤çå®æ¶æ¯ï¼èçº¿ç¨2è¿æ²¡æå¤çï¼æ­¤æ¶æçº¿ç¨2å³æ(æ¨¡æå®æºæå¼å¸¸)ï¼æ¶æ¯ä¼éæ°åç»çº¿ç¨1ï¼è¢«çº¿ç¨1å¤çï¼å°±è¯´ææ°æ®ä¸ä¼ä¸¢å¤±ã\n\n\n\n\n# æä¹å\n\nä¸é¢æ¯å¦ä½å¤çä»»å¡ä¸ä¸¢å¤±çæåµï¼æä¹åå¯ä»¥ä¿éå½ RabbitMQ æå¡åæä»¥åæ¶æ¯çäº§èåéè¿æ¥çæ¶æ¯ä¸ä¸¢å¤±ã\n\n> é»è®¤æåµä¸ RabbitMQ éåºæç±äºæç§åå å´©æºæ¶ï¼å®å¿½è§éååæ¶æ¯ï¼é¤éåç¥å®ä¸è¦è¿æ ·åã\n\nç¡®ä¿æ¶æ¯ä¸ä¼ä¸¢å¤±éè¦åä¸¤ä»¶äºï¼å°éååæ¶æ¯é½æ è®°ä¸ºæä¹å\n\n\n# éåæä¹å\n\nä¹ååå»ºçéåé½æ¯éæä¹åçï¼rabbitmq å¦æéå¯çè¯ï¼éåå°±ä¼è¢«å é¤æï¼å¦æè¦éåå®ç°æä¹åéè¦å¨å£°æéåçæ¶åæ durable åæ°è®¾ç½®ä¸ºæä¹åã\n\nå¦æä¹åå£°æçéåä¸æ¯æä¹åçï¼éè¦æååéååå é¤ï¼æèéæ°åå»ºä¸ä¸ªæä¹åçéåï¼ä¸ç¶å°±ä¼åºç°éè¯¯ã\n\n\n\néæä¹åéååæä¹åéåå¨UIçé¢çåºå«ï¼\n\n\n\næä¹åéååï¼å³ä½¿éå¯ rabbitmq éåä¹ä¾ç¶å­å¨ã\n\n\n# æ¶æ¯æä¹å\n\nè¦æ³è®©æ¶æ¯å®ç°æä¹åéè¦å¨æ¶æ¯çäº§èä¿®æ¹ä»£ç ï¼MessageProperties.PERSISTENT_TEXT_PLAINæ·»å è¿ä¸ªå±æ§ã\n\nå°æ¶æ¯æ è®°ä¸ºæä¹åå¹¶ä¸è½å®å¨ä¿è¯ä¸ä¼ä¸¢å¤±æ¶æ¯ãå°½ç®¡åè¯ RabbitMQ å°æ¶æ¯ä¿å­å°ç£çï¼ä¾ç¶å­å¨å½æ¶æ¯ååå¤å­å¨å¨ç£ççæ¶åä½æ¯è¿æ²¡æå­å¨å®ï¼æ¶æ¯è¿å¨ç¼å­çä¸ä¸ªé´éç¹ã æ­¤æ¶å¹¶æ²¡æçæ­£åå¥ç£çãæä¹æ§ä¿è¯å¹¶ä¸å¼ºï¼å¯¹äºç®åä»»å¡éåèè¨ç»°ç»°æä½ãå¦æéè¦æ´å¼ºæåçæä¹åç­ç¥ï¼å¯ä»¥è¿è¡åå¸ç¡®è®¤ã\n\npublic class Task02 {\n    // éåçåç§°\n    private final static String QUEUE_NAME = "ack_queue";\n\n    public static void main(String[] args) throws Exception {\n        // åå»ºéå\n        Channel channel = RabbitMqUtil.getChannel();\n        // éåæä¹å\n        boolean durable = true;\n        channel.queueDeclare(QUEUE_NAME, durable, false, false, null);\n        // åéä¸ä¸ªæ¶æ¯\n        for (int i = 0; i < 10; i++) {\n            String message = "ç¬¬" + i + "æ¡æ¶æ¯";\n            \n            // æ¶æ¯æä¹å\n            channel.basicPublish("", QUEUE_NAME, MessageProperties.PERSISTENT_TEXT_PLAIN, message.getBytes());\n            // æ¶æ¯éæä¹å\n            // channel.basicPublish("", QUEUE_NAME, null, message.getBytes());\n            \n            System.out.println("æ¶æ¯åéå®æ¯ï¼" + message);\n        }\n    }\n}\n\n\n\n# ä¸å¬å¹³åå\n\nRabbitMQååæ¶æ¯éç¨çè½®è¯¢ååï¼å¨æç§åºæ¯ä¸è¿ç§ç­ç¥å¹¶ä¸æ¯å¾å¥½ï¼æ¯æ¹è¯´æä¸¤ä¸ªæ¶è´¹èå¨å¤çä»»å¡ï¼å¶ä¸­æä¸ªæ¶è´¹è1å¤çä»»å¡çéåº¦éå¸¸å¿«ï¼èå¦å¤ä¸ä¸ªæ¶è´¹è2å¤çéåº¦å´å¾æ¢ï¼è¿ä¸ªæ¶åéç¨è½®è¯¢ååçè¯å°±ä¼å¯¼è´å¤çéåº¦å¿«çæ¶è´¹èå¾å¤§ä¸é¨åæ¶é´å¤äºç©ºé²ç¶æï¼èå¤çæ¢çæ¶è´¹èä¸ç´å¨å¹²æ´»ï¼è¿ç§åéæ¹å¼å¨è¿ç§æåµä¸å¶å®å°±ä¸å¤ªå¥½ï¼ä½æ¯RabbitMQå¹¶ä¸ç¥éè¿ç§æåµå®ä¾ç¶å¾å¬å¹³çè¿è¡ååã\n\nä¸ºäºé¿åè¿ç§æåµï¼å¯ä»¥è®¾ç½®åæ°channel.basicQos(1);\n\n> åªææå¨åºç­çæåµä¸ï¼ä¸å¬å¹³ååæææï¼ä¼ åé½è®¾ç½®ä¸º1ææ¯ä¸å¬å¹³ååï¼å¦åæ¯é¢åå¼çæ¨¡å¼ååã\n\npublic class Worker02 {\n\n    // éåçåç§°\n    private final static String QUEUE_NAME = "ack_queue";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtil.getChannel();\n        System.out.println("çº¿ç¨02ï¼ç­å¾æ¥æ¶æ¶æ¯.........");\n\n        boolean autoAck = false;\n        // 1. æ¥æ¶æ¶æ¯ï¼å¹¶äº¤ä»æ¶æ¯ï¼æå¨åºç­\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            SleepUtils.sleep(1);\n            String message = new String(delivery.getBody());\n            System.out.println("æ¶å°çæ¶æ¯ï¼" + message);\n            // æå¨åºç­\n            channel.basicAck(delivery.getEnvelope().getDeliveryTag(), false);\n        };\n        // 2. åæ¶æ¶æ¯æ¶çåè°\n        CancelCallback cancelCallback = (consumerTag) -> System.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // è®¾ç½®ä¸å¬å¹³åå\n        int prefetchCount = 1;\n        channel.basicQos(prefetchCount);\n\n        // 3. æ¶è´¹èæ¶è´¹æ¶æ¯\n        channel.basicConsume(QUEUE_NAME, autoAck, deliverCallback, cancelCallback);\n    }\n}\n\n\nå¦æè¿ä¸ªä»»å¡è¿æ²¡æå¤çå®æèè¿æ²¡æåºç­ï¼åä¸åéä»»å¡ï¼ç¶årabbitmqä¼æè¯¥ä»»å¡åéç»ç©ºé²æ¶è´¹èï¼å¦æææçæ¶è´¹èé½æ²¡æå®æä»»å¡ï¼éåè¿å¨æ·»å æ°ä»»å¡ï¼æå¯è½ä¼éå°éåè¢«ææ»¡çæåµï¼å°±åªè½æ·»å æ°ç worker æèæ¹åå¶ä»å­å¨ä»»å¡çç­ç¥ã\n\n\n# é¢åå¼\n\né¢åå¼å®ä¹ééä¸åè®¸çæªç¡®è®¤æ¶æ¯çæå¤§æ°éãä¸æ¦æ°éè¾¾å°éç½®çæ°éï¼RabbitMQå°åæ­¢å¨ééä¸ä¼ éæ´å¤æ¶æ¯ã\n\n> ä¾å¦ï¼åè®¾å¨ééä¸ææªç¡®è®¤çæ¶æ¯[5, 6, 7, 8]ï¼å¹¶ä¸ééçé¢åå¼ä¸º 4 (channel.basicQos(4);)ï¼æ­¤æ¶RabbitMQå°ä¸ä¼å¨è¯¥ééä¸åä¼ éä»»ä½æ¶æ¯ï¼é¤éè³å°æä¸ä¸ªæªåºç­çæ¶æ¯è¢«ç¡®è®¤ãæ¯æ¹è¯´tag=6è¿ä¸ªæ¶æ¯ååè¢«ç¡®è®¤ï¼RabbitMQå°ä¼æç¥å°è¿ä¸ªæåµå¹¶ååéä¸æ¡æ¶æ¯ãæ¶æ¯åºç­åQosé¢åå¼å¯¹ç¨æ·ååéæéå¤§å½±åã\n\nå¢å é¢åå¼å¯ä»¥æé«åæ¶è´¹èä¼ éæ¶æ¯çéåº¦ãè½ç¶èªå¨åºç­ä¼ è¾æ¶æ¯éçæ¯æä½³çï¼ä½å·²ä¼ éå°æªå¤ççæ¶æ¯çæ°éä¹ä¼å¢å ï¼ä»èå¢å äºæ¶è´¹èçRAMçæ¶è(éæºå­åå­å¨å¨)ï¼åºè¯¥å°å¿ä½¿ç¨å·ææ éé¢å¤ççèªå¨ç¡®è®¤æ¨¡å¼ææå¨ç¡®è®¤æ¨¡å¼ ï¼æ¶è´¹èæ¶è´¹äºå¤§éçæ¶æ¯å¦ææ²¡æç¡®è®¤çè¯ï¼ä¼å¯¼è´æ¶è´¹èè¿æ¥èç¹çåå­æ¶èåå¤§ã\n\næ¾å°åéçé¢åå¼æ¯ä¸ä¸ªåå¤è¯éªçè¿ç¨ï¼ä¸åçè´è½½è¯¥å¼åå¼ä¹ä¸åï¼100 å° 300 èå´åçå¼éå¸¸å¯æä¾æä½³çååéï¼å¹¶ä¸ä¸ä¼ç»æ¶è´¹èå¸¦æ¥å¤ªå¤§çé£é©ã\n\né¢åå¼ä¸º 1 æ¯æä¿å®çï¼ä½ååéåå¾å¾ä½ï¼ç¹å«æ¯æ¶è´¹èè¿æ¥å»¶è¿å¾ä¸¥éææ¶è´¹èè¿æ¥ç­å¾æ¶é´è¾é¿çç¯å¢ä¸­ãå¯¹äºå¤§å¤æ°åºç¨æ¥è¯´ï¼ç¨å¾®é«ä¸ç¹çå¼å°æ¯æä½³çã\n\nåéçº¿ç¨ï¼ åé15æ¡æ¶æ¯\n\næ¶è´¹çº¿ç¨ï¼ å¤çæ¶æ¯æ¶é´1ç§ï¼é¢åå¼ä¸º2\n\npublic class Worker02 {\n\n    // éåçåç§°\n    private final static String QUEUE_NAME = "ack_queue";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtil.getChannel();\n        System.out.println("çº¿ç¨02ï¼ç­å¾æ¥æ¶æ¶æ¯.........");\n\n        // æ¥æ¶å¹¶äº¤ä»æ¶æ¯ï¼æå¨åºç­\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            SleepUtils.sleep(1);\n            String message = new String(delivery.getBody());\n            System.out.println("æ¶å°çæ¶æ¯ï¼" + message);\n            channel.basicAck(delivery.getEnvelope().getDeliveryTag(), false);\n        };\n        // åæ¶æ¶æ¯æ¶çåè°\n        CancelCallback cancelCallback = (consumerTag) -> System.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // é¢åå¼\n        int prefetchCount = 2;\n        channel.basicQos(prefetchCount);\n\n        // æ¶è´¹èæ¶è´¹æ¶æ¯\n        boolean autoAck = false;\n        channel.basicConsume(QUEUE_NAME, autoAck, deliverCallback, cancelCallback);\n    }\n}\n\n\næ¶è´¹çº¿ç¨ï¼ å¤çæ¶æ¯æ¶é´5ç§ï¼é¢åå¼ä¸º5\n\npublic class Worker03 {\n\n    // éåçåç§°\n    private final static String QUEUE_NAME = "ack_queue";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtil.getChannel();\n        System.out.println("çº¿ç¨03ï¼ç­å¾æ¥æ¶æ¶æ¯.........");\n\n        // æ¥æ¶å¹¶äº¤ä»æ¶æ¯ï¼æå¨åºç­\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            SleepUtils.sleep(5);\n            String message = new String(delivery.getBody());\n            System.out.println("æ¶å°çæ¶æ¯ï¼" + message);\n            channel.basicAck(delivery.getEnvelope().getDeliveryTag(), false);\n        };\n        // åæ¶æ¶æ¯æ¶çåè°\n        CancelCallback cancelCallback = (consumerTag) -> System.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // é¢åå¼\n        int prefetchCount = 5;\n        channel.basicQos(prefetchCount);\n\n        // æ¶è´¹èæ¶è´¹æ¶æ¯\n        boolean autoAck = false;\n        channel.basicConsume(QUEUE_NAME, autoAck, deliverCallback, cancelCallback);\n    }\n}\n\n\n**åéçº¿ç¨ï¼ ** åé15æ¡æ¶æ¯\n\næ¶è´¹çº¿ç¨ï¼ å¤çæ¶æ¯æ¶é´1ç§ï¼é¢åå¼ä¸º2\n\næ¶è´¹çº¿ç¨ï¼ å¤çæ¶æ¯æ¶é´5ç§ï¼é¢åå¼ä¸º5\n\nååéæ¶æ¯çæ¶åï¼çº¿ç¨02åçº¿ç¨03è¿è¡è½®è¯¢ï¼ç´å°å°çº¿ç¨02çé¢åå¼å¡«æ»¡ï¼æ»¡äºä¹åä¼å°çº¿ç¨03çé¢åå¼å¡«æ»¡ãé½æ»¡äºä¹åï¼çº¿ç¨02æ¯ç©ºé²çä¼ä¸ç´å¤çæ¶æ¯ï¼å½çº¿ç¨03å¤çå®ç¬¬ä¸æ¡æ¶æ¯åï¼ä¼å¡«åè¿æ¥ä¸æ¡æ¶æ¯ï¼ç¶ååæ»¡äºï¼ååç°çº¿ç¨02æ¯ç©ºé²çï¼åç»çº¿ç¨02å¤çã\n\n',normalizedContent:'å·¥ä½éå(åç§°ä»»å¡éå)çä¸»è¦ææ³æ¯é¿åç«å³æ§è¡èµæºå¯éåä»»å¡ï¼èä¸å¾ä¸ç­å¾å®å®æã\n\nç¸åæä»¬å®æä»»å¡å¨ä¹åæ§è¡ãæä»¬æä»»å¡å°è£ä¸ºæ¶æ¯å¹¶å°å¶åéå°éåãå¨åå°è¿è¡çå·¥ä½è¿ç¨å°å¼¹åºä»»å¡å¹¶æç»æ§è¡ä½ä¸ãå½æå¤ä¸ªå·¥ä½çº¿ç¨æ¶ï¼è¿äºå·¥ä½çº¿ç¨å°ä¸èµ·å¤çè¿äºä»»å¡ã\n\n\n# è½®è¯¢ååæ¶æ¯\n\nå¯å¨ä¸ä¸ªæ¶æ¯åéçº¿ç¨ï¼ä¸¤ä¸ªå·¥ä½çº¿ç¨ï¼éè¦ä¿è¯ä¸ä¸ªæ¶æ¯åªè½è¢«å¤çä¸æ¬¡ï¼ä¸è½å¤çå¤æ¬¡ï¼å¤ä¸ªå·¥ä½çº¿ç¨ä¹åæ¯ç«äºå³ç³»ã\n\n\n# æ½åå·¥å·ç±»\n\npublic class rabbitmqutil {\n    public static channel getchannel() throws exception{\n        // åå»ºä¸ä¸ªè¿æ¥å·¥åï¼å¹¶è®¾ç½®mqçç¸å³ä¿¡æ¯\n        connectionfactory factory = new connectionfactory();\n        factory.sethost("192.168.182.130");\n        factory.setusername("admin");\n        factory.setpassword("123123");\n        // åå»ºè¿æ¥\n        connection connection = factory.newconnection();\n        // è·åä¿¡é\n        return connection.createchannel();\n    }\n}\n\n\n\n# å¯å¨ä¸¤ä¸ªå·¥ä½çº¿ç¨\n\npublic class worker01 {\n\n    // éåçåç§°\n    private final static string queue_name = "hello";\n\n    public static void main(string[] args) throws exception {\n        system.out.println("çº¿ç¨02ï¼ç­å¾æ¥æ¶æ¶æ¯.........");\n\n        // 1. æ¥æ¶æ¶æ¯ï¼å¹¶äº¤ä»æ¶æ¯\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string message = new string(delivery.getbody());\n            system.out.println(message);\n        };\n        // 2. åæ¶æ¶æ¯æ¶çåè°\n        cancelcallback cancelcallback = (consumertag) -> system.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n        // 3. æ¶è´¹èæ¶è´¹æ¶æ¯\n        channel channel = rabbitmqutil.getchannel();\n        channel.basicconsume(queue_name, true, delivercallback, cancelcallback);\n    }\n}\n\n\n\n\n# å¯å¨ä¸ä¸ªåéçº¿ç¨\n\npublic class task01 {\n    // éåçåç§°\n    private final static string queue_name = "hello";\n\n    public static void main(string[] args) throws exception {\n        // åå»ºéå\n        channel channel = rabbitmqutil.getchannel();\n        channel.queuedeclare(queue_name, false, false, false, null);\n        // åéä¸ä¸ªæ¶æ¯\n        for (int i = 0; i < 10; i++) {\n            string message = "ç¬¬" + i + "æ¡æ¶æ¯";\n            channel.basicpublish("", queue_name, null, message.getbytes());\n            system.out.println("æ¶æ¯åéå®æ¯ï¼" + message);\n        }\n    }\n}\n\n\n\n# æ¶æ¯åºç­\n\næ¶è´¹èå®æä¸ä¸ªä»»å¡å¯è½éè¦ä¸æ®µæ¶é´ï¼å¦æå¶ä¸­ä¸ä¸ªæ¶è´¹èå¤çä¸ä¸ªé¿çä»»å¡å¹¶ä»åªå®æäºé¨åçªç¶å®ææäºï¼å°ä¸¢å¤±æ­£å¨å¤ççæ¶æ¯ã\n\nä¸ºäºä¿è¯æ¶æ¯å¨åéè¿ç¨ä¸­ä¸ä¸¢å¤±ï¼rabbitmq å¼å¥æ¶æ¯åºç­æºå¶ï¼æ¶æ¯åºç­å°±æ¯ï¼æ¶è´¹èå¨æ¥æ¶å°æ¶æ¯å¹¶ä¸å¤çè¯¥æ¶æ¯ä¹åï¼åè¯ rabbitmq å®å·²ç»å¤çäºï¼rabbitmq å¯ä»¥æè¯¥æ¶æ¯å é¤äºã\n\n\n# èªå¨åºç­\n\næ¶æ¯åéåç«å³è¢«è®¤ä¸ºå·²ç»ä¼ éæåï¼è¿ç§æ¨¡å¼éè¦å¨é«ååéåæ°æ®ä¼ è¾å®å¨æ§æ¹é¢åæè¡¡ï¼å¦ææ¶æ¯å¨æ¥æ¶å°ä¹åï¼æ¶è´¹èåºç°è¿æ¥æè channel å³é­ï¼æ¶æ¯å°±ä¼ä¸¢å¤±äºã\n\nå¦ä¸æ¹é¢æ¶è´¹èæ²¡æå¯¹ä¼ éçæ¶æ¯æ°éè¿è¡éå¶ï¼æå¯è½æ¥æ¶å¤ªå¤æ¥ä¸åå¤ççæ¶æ¯ï¼å¯¼è´æ¶æ¯ç§¯åï¼ä½¿åå­èå°½ï¼æç»è¢«æä½ç³»ç»ææ­»ï¼è¿ç§æ¨¡å¼ä»éç¨å¨æ¶è´¹èå¯ä»¥é«æå¤çè¿äºæ¶æ¯çæåµä¸ä½¿ç¨ã\n\n\n# æå¨åºç­\n\næå¨åºç­çå¥½å¤æ¯å¯ä»¥æ¹éåºç­å¹¶ä¸åå°ç½ç»æ¥å µã\n\n# åºç­æ¹æ³\n\nchannelç±»ï¼\n\nbasicack(long deliverytag, boolean multiple)ï¼ç¨äºè¯å®ç¡®è®¤ï¼åç¥rabbitmqå·²ç»å¤çæ¶æ¯ï¼å¯ä»¥å°å¶ä¸¢å¼ã\n\n * multiple ï¼æ¯å¦æ¹éåºç­ï¼å¦æè®¾ç½®ä¸ºtrueï¼åä¼å°ä¿¡éä¸­è¿æªåºç­çæ¶æ¯åºç­ãfalseåªä¼åºç­æå®çæ¶æ¯ã\n\nbasicnack(long deliverytag, boolean multiple, boolean requeue)ï¼ç¨äºå¦å®ç¡®è®¤\n\nbasicreject(long deliverytag, boolean requeue)ï¼ç¨äºå¦å®ç¡®è®¤ï¼ä¸å¤çè¯¥æ¶æ¯äºç´æ¥æç»ï¼å¯ä»¥å°å¶ä¸¢å¼äº\n\n# æ¶æ¯èªå¨éæ°å¥é\n\nå¦ææ¶è´¹èç±äºæäºåå å¤±å»è¿æ¥(å¶ééå·²å³é­ï¼è¿æ¥å·²å³é­æ tcp è¿æ¥ä¸¢å¤±)ï¼å¯¼è´æ¶æ¯ æªåé ack ç¡®è®¤ï¼rabbitmq å°äºè§£å°æ¶æ¯æªå®å¨å¤çï¼å¹¶å°å¯¹å¶éæ°æéãå¦ææ­¤æ¶å¶ä»æ¶è´¹èå¯ä»¥å¤çï¼å®å°å¾å¿«å°å¶éæ°ååç»å¦ä¸ä¸ªæ¶è´¹èãè¿æ ·ï¼å³ä½¿æä¸ªæ¶è´¹èå¶å°æ­»äº¡ï¼ä¹å¯ä»¥ç¡®ä¿ä¸ä¼ä¸¢å¤±ä»»ä½æ¶æ¯ã\n\n\n\n# demo\n\n# çäº§è\n\npublic class task02 {\n    // éåçåç§°\n    private final static string queue_name = "ack_queue";\n\n    public static void main(string[] args) throws exception {\n        // åå»ºéå\n        channel channel = rabbitmqutil.getchannel();\n        channel.queuedeclare(queue_name, false, false, false, null);\n        // åéä¸ä¸ªæ¶æ¯\n        for (int i = 0; i < 10; i++) {\n            string message = "ç¬¬" + i + "æ¡æ¶æ¯";\n            channel.basicpublish("", queue_name, null, message.getbytes());\n            system.out.println("æ¶æ¯åéå®æ¯ï¼" + message);\n        }\n    }\n}\n\n\n# ä¸¤ä¸ªæ¶è´¹è\n\npublic class worker02 {\n\n    // éåçåç§°\n    private final static string queue_name = "ack_queue";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutil.getchannel();\n        system.out.println("çº¿ç¨02ï¼ç­å¾æ¥æ¶æ¶æ¯.........");\n\n        boolean autoack = false;\n        // 1. æ¥æ¶æ¶æ¯ï¼å¹¶äº¤ä»æ¶æ¯ï¼æå¨åºç­\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            sleeputils.sleep(1);\n            string message = new string(delivery.getbody());\n            system.out.println("æ¶å°çæ¶æ¯ï¼" + message);\n            // æå¨åºç­ï¼\n            // åæ°1ï¼æ¶æ¯æ è®°çtag\n            // åæ°2ï¼æ¯å¦æ¹éåºç­\n            channel.basicack(delivery.getenvelope().getdeliverytag(), false);\n        };\n        // 2. åæ¶æ¶æ¯æ¶çåè°\n        cancelcallback cancelcallback = (consumertag) -> system.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n        // 3. æ¶è´¹èæ¶è´¹æ¶æ¯\n        channel.basicconsume(queue_name, autoack, delivercallback, cancelcallback);\n    }\n}\n\n\npublic class worker03 {\n\n    // éåçåç§°\n    private final static string queue_name = "ack_queue";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutil.getchannel();\n        system.out.println("çº¿ç¨03ï¼ç­å¾æ¥æ¶æ¶æ¯.........");\n\n        boolean autoack = false;\n        // 1. æ¥æ¶æ¶æ¯ï¼å¹¶äº¤ä»æ¶æ¯ï¼æå¨åºç­\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            sleeputils.sleep(30);\n            string message = new string(delivery.getbody());\n            system.out.println("æ¶å°çæ¶æ¯ï¼" + message);\n            // æå¨åºç­ï¼\n            // åæ°1ï¼æ¶æ¯æ è®°çtag\n            // åæ°2ï¼æ¯å¦æ¹éåºç­\n            channel.basicack(delivery.getenvelope().getdeliverytag(), false);\n        };\n        // 2. åæ¶æ¶æ¯æ¶çåè°\n        cancelcallback cancelcallback = (consumertag) -> system.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n        // 3. æ¶è´¹èæ¶è´¹æ¶æ¯\n        channel.basicconsume(queue_name, autoack, delivercallback, cancelcallback);\n    }\n}\n\n\n> æ­£å¸¸æåµä¸æ¶æ¯åéæ¹åéä¸¤ä¸ªæ¶æ¯ä¸¤ä¸ªçº¿ç¨åå«æ¥æ¶å°æ¶æ¯å¹¶è¿è¡å¤çï¼ä½è¿éè®¾ç½®çæ¯ï¼ä¸ä¸ªçº¿ç¨å¤ççæ¶é´ä¸º1ç§ï¼å¦ä¸ä¸ªçº¿ç¨å¤ççæ¶é´ä¸º30ç§ã\n\n> åé10æ¡ï¼çº¿ç¨1å¾å¿«å¤çå®æ¶æ¯ï¼èçº¿ç¨2è¿æ²¡æå¤çï¼æ­¤æ¶æçº¿ç¨2å³æ(æ¨¡æå®æºæå¼å¸¸)ï¼æ¶æ¯ä¼éæ°åç»çº¿ç¨1ï¼è¢«çº¿ç¨1å¤çï¼å°±è¯´ææ°æ®ä¸ä¼ä¸¢å¤±ã\n\n\n\n\n# æä¹å\n\nä¸é¢æ¯å¦ä½å¤çä»»å¡ä¸ä¸¢å¤±çæåµï¼æä¹åå¯ä»¥ä¿éå½ rabbitmq æå¡åæä»¥åæ¶æ¯çäº§èåéè¿æ¥çæ¶æ¯ä¸ä¸¢å¤±ã\n\n> é»è®¤æåµä¸ rabbitmq éåºæç±äºæç§åå å´©æºæ¶ï¼å®å¿½è§éååæ¶æ¯ï¼é¤éåç¥å®ä¸è¦è¿æ ·åã\n\nç¡®ä¿æ¶æ¯ä¸ä¼ä¸¢å¤±éè¦åä¸¤ä»¶äºï¼å°éååæ¶æ¯é½æ è®°ä¸ºæä¹å\n\n\n# éåæä¹å\n\nä¹ååå»ºçéåé½æ¯éæä¹åçï¼rabbitmq å¦æéå¯çè¯ï¼éåå°±ä¼è¢«å é¤æï¼å¦æè¦éåå®ç°æä¹åéè¦å¨å£°æéåçæ¶åæ durable åæ°è®¾ç½®ä¸ºæä¹åã\n\nå¦æä¹åå£°æçéåä¸æ¯æä¹åçï¼éè¦æååéååå é¤ï¼æèéæ°åå»ºä¸ä¸ªæä¹åçéåï¼ä¸ç¶å°±ä¼åºç°éè¯¯ã\n\n\n\néæä¹åéååæä¹åéåå¨uiçé¢çåºå«ï¼\n\n\n\næä¹åéååï¼å³ä½¿éå¯ rabbitmq éåä¹ä¾ç¶å­å¨ã\n\n\n# æ¶æ¯æä¹å\n\nè¦æ³è®©æ¶æ¯å®ç°æä¹åéè¦å¨æ¶æ¯çäº§èä¿®æ¹ä»£ç ï¼messageproperties.persistent_text_plainæ·»å è¿ä¸ªå±æ§ã\n\nå°æ¶æ¯æ è®°ä¸ºæä¹åå¹¶ä¸è½å®å¨ä¿è¯ä¸ä¼ä¸¢å¤±æ¶æ¯ãå°½ç®¡åè¯ rabbitmq å°æ¶æ¯ä¿å­å°ç£çï¼ä¾ç¶å­å¨å½æ¶æ¯ååå¤å­å¨å¨ç£ççæ¶åä½æ¯è¿æ²¡æå­å¨å®ï¼æ¶æ¯è¿å¨ç¼å­çä¸ä¸ªé´éç¹ã æ­¤æ¶å¹¶æ²¡æçæ­£åå¥ç£çãæä¹æ§ä¿è¯å¹¶ä¸å¼ºï¼å¯¹äºç®åä»»å¡éåèè¨ç»°ç»°æä½ãå¦æéè¦æ´å¼ºæåçæä¹åç­ç¥ï¼å¯ä»¥è¿è¡åå¸ç¡®è®¤ã\n\npublic class task02 {\n    // éåçåç§°\n    private final static string queue_name = "ack_queue";\n\n    public static void main(string[] args) throws exception {\n        // åå»ºéå\n        channel channel = rabbitmqutil.getchannel();\n        // éåæä¹å\n        boolean durable = true;\n        channel.queuedeclare(queue_name, durable, false, false, null);\n        // åéä¸ä¸ªæ¶æ¯\n        for (int i = 0; i < 10; i++) {\n            string message = "ç¬¬" + i + "æ¡æ¶æ¯";\n            \n            // æ¶æ¯æä¹å\n            channel.basicpublish("", queue_name, messageproperties.persistent_text_plain, message.getbytes());\n            // æ¶æ¯éæä¹å\n            // channel.basicpublish("", queue_name, null, message.getbytes());\n            \n            system.out.println("æ¶æ¯åéå®æ¯ï¼" + message);\n        }\n    }\n}\n\n\n\n# ä¸å¬å¹³åå\n\nrabbitmqååæ¶æ¯éç¨çè½®è¯¢ååï¼å¨æç§åºæ¯ä¸è¿ç§ç­ç¥å¹¶ä¸æ¯å¾å¥½ï¼æ¯æ¹è¯´æä¸¤ä¸ªæ¶è´¹èå¨å¤çä»»å¡ï¼å¶ä¸­æä¸ªæ¶è´¹è1å¤çä»»å¡çéåº¦éå¸¸å¿«ï¼èå¦å¤ä¸ä¸ªæ¶è´¹è2å¤çéåº¦å´å¾æ¢ï¼è¿ä¸ªæ¶åéç¨è½®è¯¢ååçè¯å°±ä¼å¯¼è´å¤çéåº¦å¿«çæ¶è´¹èå¾å¤§ä¸é¨åæ¶é´å¤äºç©ºé²ç¶æï¼èå¤çæ¢çæ¶è´¹èä¸ç´å¨å¹²æ´»ï¼è¿ç§åéæ¹å¼å¨è¿ç§æåµä¸å¶å®å°±ä¸å¤ªå¥½ï¼ä½æ¯rabbitmqå¹¶ä¸ç¥éè¿ç§æåµå®ä¾ç¶å¾å¬å¹³çè¿è¡ååã\n\nä¸ºäºé¿åè¿ç§æåµï¼å¯ä»¥è®¾ç½®åæ°channel.basicqos(1);\n\n> åªææå¨åºç­çæåµä¸ï¼ä¸å¬å¹³ååæææï¼ä¼ åé½è®¾ç½®ä¸º1ææ¯ä¸å¬å¹³ååï¼å¦åæ¯é¢åå¼çæ¨¡å¼ååã\n\npublic class worker02 {\n\n    // éåçåç§°\n    private final static string queue_name = "ack_queue";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutil.getchannel();\n        system.out.println("çº¿ç¨02ï¼ç­å¾æ¥æ¶æ¶æ¯.........");\n\n        boolean autoack = false;\n        // 1. æ¥æ¶æ¶æ¯ï¼å¹¶äº¤ä»æ¶æ¯ï¼æå¨åºç­\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            sleeputils.sleep(1);\n            string message = new string(delivery.getbody());\n            system.out.println("æ¶å°çæ¶æ¯ï¼" + message);\n            // æå¨åºç­\n            channel.basicack(delivery.getenvelope().getdeliverytag(), false);\n        };\n        // 2. åæ¶æ¶æ¯æ¶çåè°\n        cancelcallback cancelcallback = (consumertag) -> system.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // è®¾ç½®ä¸å¬å¹³åå\n        int prefetchcount = 1;\n        channel.basicqos(prefetchcount);\n\n        // 3. æ¶è´¹èæ¶è´¹æ¶æ¯\n        channel.basicconsume(queue_name, autoack, delivercallback, cancelcallback);\n    }\n}\n\n\nå¦æè¿ä¸ªä»»å¡è¿æ²¡æå¤çå®æèè¿æ²¡æåºç­ï¼åä¸åéä»»å¡ï¼ç¶årabbitmqä¼æè¯¥ä»»å¡åéç»ç©ºé²æ¶è´¹èï¼å¦æææçæ¶è´¹èé½æ²¡æå®æä»»å¡ï¼éåè¿å¨æ·»å æ°ä»»å¡ï¼æå¯è½ä¼éå°éåè¢«ææ»¡çæåµï¼å°±åªè½æ·»å æ°ç worker æèæ¹åå¶ä»å­å¨ä»»å¡çç­ç¥ã\n\n\n# é¢åå¼\n\né¢åå¼å®ä¹ééä¸åè®¸çæªç¡®è®¤æ¶æ¯çæå¤§æ°éãä¸æ¦æ°éè¾¾å°éç½®çæ°éï¼rabbitmqå°åæ­¢å¨ééä¸ä¼ éæ´å¤æ¶æ¯ã\n\n> ä¾å¦ï¼åè®¾å¨ééä¸ææªç¡®è®¤çæ¶æ¯[5, 6, 7, 8]ï¼å¹¶ä¸ééçé¢åå¼ä¸º 4 (channel.basicqos(4);)ï¼æ­¤æ¶rabbitmqå°ä¸ä¼å¨è¯¥ééä¸åä¼ éä»»ä½æ¶æ¯ï¼é¤éè³å°æä¸ä¸ªæªåºç­çæ¶æ¯è¢«ç¡®è®¤ãæ¯æ¹è¯´tag=6è¿ä¸ªæ¶æ¯ååè¢«ç¡®è®¤ï¼rabbitmqå°ä¼æç¥å°è¿ä¸ªæåµå¹¶ååéä¸æ¡æ¶æ¯ãæ¶æ¯åºç­åqosé¢åå¼å¯¹ç¨æ·ååéæéå¤§å½±åã\n\nå¢å é¢åå¼å¯ä»¥æé«åæ¶è´¹èä¼ éæ¶æ¯çéåº¦ãè½ç¶èªå¨åºç­ä¼ è¾æ¶æ¯éçæ¯æä½³çï¼ä½å·²ä¼ éå°æªå¤ççæ¶æ¯çæ°éä¹ä¼å¢å ï¼ä»èå¢å äºæ¶è´¹èçramçæ¶è(éæºå­åå­å¨å¨)ï¼åºè¯¥å°å¿ä½¿ç¨å·ææ éé¢å¤ççèªå¨ç¡®è®¤æ¨¡å¼ææå¨ç¡®è®¤æ¨¡å¼ ï¼æ¶è´¹èæ¶è´¹äºå¤§éçæ¶æ¯å¦ææ²¡æç¡®è®¤çè¯ï¼ä¼å¯¼è´æ¶è´¹èè¿æ¥èç¹çåå­æ¶èåå¤§ã\n\næ¾å°åéçé¢åå¼æ¯ä¸ä¸ªåå¤è¯éªçè¿ç¨ï¼ä¸åçè´è½½è¯¥å¼åå¼ä¹ä¸åï¼100 å° 300 èå´åçå¼éå¸¸å¯æä¾æä½³çååéï¼å¹¶ä¸ä¸ä¼ç»æ¶è´¹èå¸¦æ¥å¤ªå¤§çé£é©ã\n\né¢åå¼ä¸º 1 æ¯æä¿å®çï¼ä½ååéåå¾å¾ä½ï¼ç¹å«æ¯æ¶è´¹èè¿æ¥å»¶è¿å¾ä¸¥éææ¶è´¹èè¿æ¥ç­å¾æ¶é´è¾é¿çç¯å¢ä¸­ãå¯¹äºå¤§å¤æ°åºç¨æ¥è¯´ï¼ç¨å¾®é«ä¸ç¹çå¼å°æ¯æä½³çã\n\nåéçº¿ç¨ï¼ åé15æ¡æ¶æ¯\n\næ¶è´¹çº¿ç¨ï¼ å¤çæ¶æ¯æ¶é´1ç§ï¼é¢åå¼ä¸º2\n\npublic class worker02 {\n\n    // éåçåç§°\n    private final static string queue_name = "ack_queue";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutil.getchannel();\n        system.out.println("çº¿ç¨02ï¼ç­å¾æ¥æ¶æ¶æ¯.........");\n\n        // æ¥æ¶å¹¶äº¤ä»æ¶æ¯ï¼æå¨åºç­\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            sleeputils.sleep(1);\n            string message = new string(delivery.getbody());\n            system.out.println("æ¶å°çæ¶æ¯ï¼" + message);\n            channel.basicack(delivery.getenvelope().getdeliverytag(), false);\n        };\n        // åæ¶æ¶æ¯æ¶çåè°\n        cancelcallback cancelcallback = (consumertag) -> system.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // é¢åå¼\n        int prefetchcount = 2;\n        channel.basicqos(prefetchcount);\n\n        // æ¶è´¹èæ¶è´¹æ¶æ¯\n        boolean autoack = false;\n        channel.basicconsume(queue_name, autoack, delivercallback, cancelcallback);\n    }\n}\n\n\næ¶è´¹çº¿ç¨ï¼ å¤çæ¶æ¯æ¶é´5ç§ï¼é¢åå¼ä¸º5\n\npublic class worker03 {\n\n    // éåçåç§°\n    private final static string queue_name = "ack_queue";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutil.getchannel();\n        system.out.println("çº¿ç¨03ï¼ç­å¾æ¥æ¶æ¶æ¯.........");\n\n        // æ¥æ¶å¹¶äº¤ä»æ¶æ¯ï¼æå¨åºç­\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            sleeputils.sleep(5);\n            string message = new string(delivery.getbody());\n            system.out.println("æ¶å°çæ¶æ¯ï¼" + message);\n            channel.basicack(delivery.getenvelope().getdeliverytag(), false);\n        };\n        // åæ¶æ¶æ¯æ¶çåè°\n        cancelcallback cancelcallback = (consumertag) -> system.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // é¢åå¼\n        int prefetchcount = 5;\n        channel.basicqos(prefetchcount);\n\n        // æ¶è´¹èæ¶è´¹æ¶æ¯\n        boolean autoack = false;\n        channel.basicconsume(queue_name, autoack, delivercallback, cancelcallback);\n    }\n}\n\n\n**åéçº¿ç¨ï¼ ** åé15æ¡æ¶æ¯\n\næ¶è´¹çº¿ç¨ï¼ å¤çæ¶æ¯æ¶é´1ç§ï¼é¢åå¼ä¸º2\n\næ¶è´¹çº¿ç¨ï¼ å¤çæ¶æ¯æ¶é´5ç§ï¼é¢åå¼ä¸º5\n\nååéæ¶æ¯çæ¶åï¼çº¿ç¨02åçº¿ç¨03è¿è¡è½®è¯¢ï¼ç´å°å°çº¿ç¨02çé¢åå¼å¡«æ»¡ï¼æ»¡äºä¹åä¼å°çº¿ç¨03çé¢åå¼å¡«æ»¡ãé½æ»¡äºä¹åï¼çº¿ç¨02æ¯ç©ºé²çä¼ä¸ç´å¤çæ¶æ¯ï¼å½çº¿ç¨03å¤çå®ç¬¬ä¸æ¡æ¶æ¯åï¼ä¼å¡«åè¿æ¥ä¸æ¡æ¶æ¯ï¼ç¶ååæ»¡äºï¼ååç°çº¿ç¨02æ¯ç©ºé²çï¼åç»çº¿ç¨02å¤çã\n\n',charsets:{cjk:!0},lastUpdated:"2022/11/30, 16:24:57",lastUpdatedTimestamp:1669796697e3},{title:"RabbitMQåå¸ç¡®è®¤",frontmatter:{title:"RabbitMQåå¸ç¡®è®¤",date:"2022-12-02T10:56:02.000Z",permalink:"/pages/hf5rpdk0",categories:["ä¸­é´ä»¶"],tags:["RabbitMQ"],author:{name:"ä¹æ¨åç"}},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/01.%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6/1001.RabbitMQ/05.RabbitMQ%E5%8F%91%E5%B8%83%E7%A1%AE%E8%AE%A4.html",relativePath:"04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/05.RabbitMQåå¸ç¡®è®¤.md",key:"v-09e33dd4",path:"/pages/hf5rpdk0/",headers:[{level:2,title:"å¼å¯åå¸ç¡®è®¤",slug:"å¼å¯åå¸ç¡®è®¤",normalizedTitle:"å¼å¯åå¸ç¡®è®¤",charIndex:456},{level:2,title:"åä¸ªç¡®è®¤åå¸",slug:"åä¸ªç¡®è®¤åå¸",normalizedTitle:"åä¸ªç¡®è®¤åå¸",charIndex:856},{level:2,title:"æ¹éç¡®è®¤åå¸",slug:"æ¹éç¡®è®¤åå¸",normalizedTitle:"æ¹éç¡®è®¤åå¸",charIndex:2005},{level:2,title:"å¼æ­¥ç¡®è®¤åå¸",slug:"å¼æ­¥ç¡®è®¤åå¸",normalizedTitle:"å¼æ­¥ç¡®è®¤åå¸",charIndex:3367},{level:2,title:"åå¸ç¡®è®¤éåº¦å¯¹æ¯",slug:"åå¸ç¡®è®¤éåº¦å¯¹æ¯",normalizedTitle:"åå¸ç¡®è®¤éåº¦å¯¹æ¯",charIndex:5695}],excerpt:"<p>çäº§èå¯ä»¥å°ä¿¡éè®¾ç½®æ confirm æ¨¡å¼ï¼å½ä¿¡éè¿å¥ confirm æ¨¡å¼åï¼ææå¨è¯¥ä¿¡éä¸é¢åå¸çæ¶æ¯é½å°ä¼è¢«ææ´¾ä¸ä¸ªå¯ä¸ç ID(ä» 1 å¼å§)ï¼æ¶æ¯è¢«æéå°ææå¹éçéåä¹åï¼broker å°±ä¼åéä¸ä¸ªç¡®è®¤ç»çäº§è(åå«æ¶æ¯çå¯ä¸ ID)ï¼è¿å°±ä½¿å¾çäº§èç¥éæ¶æ¯å·²ç»æ­£ç¡®å°è¾¾ç®çéåäºã</p>\n",headersStr:"å¼å¯åå¸ç¡®è®¤ åä¸ªç¡®è®¤åå¸ æ¹éç¡®è®¤åå¸ å¼æ­¥ç¡®è®¤åå¸ åå¸ç¡®è®¤éåº¦å¯¹æ¯",content:'çäº§èå¯ä»¥å°ä¿¡éè®¾ç½®æ confirm æ¨¡å¼ï¼å½ä¿¡éè¿å¥ confirm æ¨¡å¼åï¼ææå¨è¯¥ä¿¡éä¸é¢åå¸çæ¶æ¯é½å°ä¼è¢«ææ´¾ä¸ä¸ªå¯ä¸ç ID(ä» 1 å¼å§)ï¼æ¶æ¯è¢«æéå°ææå¹éçéåä¹åï¼broker å°±ä¼åéä¸ä¸ªç¡®è®¤ç»çäº§è(åå«æ¶æ¯çå¯ä¸ ID)ï¼è¿å°±ä½¿å¾çäº§èç¥éæ¶æ¯å·²ç»æ­£ç¡®å°è¾¾ç®çéåäºã\n\nå¦ææ¶æ¯åéåæ¯å¯æä¹åçï¼é£ä¹ç¡®è®¤æ¶æ¯ä¼å¨å°æ¶æ¯åå¥ç£çä¹åååºï¼broker åä¼ ç»çäº§èçç¡®è®¤æ¶æ¯ä¸­ delivery-tag ååå«äºç¡®è®¤æ¶æ¯çåºåå·ï¼æ­¤å¤ broker ä¹å¯ä»¥è®¾ç½®basic.ack ç multiple åï¼è¡¨ç¤ºå°è¿ä¸ªåºåå·ä¹åçæææ¶æ¯é½å·²ç»å¾å°äºå¤çã\n\nconfirm æ¨¡å¼çå¥½å¤æ¯å¼æ­¥çï¼ä¸æ¦åå¸ä¸æ¡æ¶æ¯ï¼çäº§èå°±å¯ä»¥å¨ä¿¡éè¿åç¡®è®¤çåæ¶ç»§ç»­åéä¸ä¸æ¡æ¶æ¯ï¼å½æ¶æ¯æç»å¾å°ç¡®è®¤ä¹åï¼çäº§èä¾¿å¯ä»¥éè¿åè°æ¹æ³æ¥å¤çè¯¥ç¡®è®¤æ¶æ¯ï¼å¦æ RabbitMQ å ä¸ºèªèº«åé¨éè¯¯å¯¼è´æ¶æ¯ä¸¢å¤±ï¼å°±ä¼åéä¸æ¡ nack æ¶æ¯ï¼çäº§èåºç¨ç¨åºåæ ·å¯ä»¥å¨åè°æ¹æ³ä¸­å¤çè¯¥ nack æ¶æ¯ã\n\n\n# å¼å¯åå¸ç¡®è®¤\n\nåå¸ç¡®è®¤é»è®¤æ²¡æå¼å¯ï¼å¦æè¦å¼å¯éè¦è°ç¨æ¹æ³ confirmSelectï¼æ¯å½è¦ä½¿ç¨åå¸ç¡®è®¤ï¼é½è¦å¨ channel ä¸è°ç¨è¯¥æ¹æ³ã\n\n// åå»ºä¸ä¸ªè¿æ¥å·¥åï¼å¹¶è®¾ç½®MQçç¸å³ä¿¡æ¯\nConnectionFactory factory = new ConnectionFactory();\nfactory.setHost("192.168.182.130");\nfactory.setUsername("admin");\nfactory.setPassword("123123");\n// åå»ºè¿æ¥\nConnection connection = factory.newConnection();\n// è·åä¿¡é\nChannel channel = connection.createChannel();\n// å¼å¯åå¸ç¡®è®¤\nchannel.confirmSelect();\n\n\n\n# åä¸ªç¡®è®¤åå¸\n\næ¯ä¸ç§åæ­¥ç¡®è®¤åå¸çæ¹å¼ï¼åå¸ä¸ä¸ªæ¶æ¯è¢«ç¡®è®¤åå¸åï¼åç»­çæ¶æ¯æè½ç»§ç»­åå¸ã\n\nwaitForConfirmsOrDie(long)æ¹æ³åªæå¨æ¶æ¯è¢«ç¡®è®¤çæ¶åæè¿åï¼å¦æå¨æå®æ¶é´èå´åè¿ä¸ªæ¶æ¯æ²¡æè¢«ç¡®è®¤é£ä¹å®å°æåºå¼å¸¸ã\n\nè¿ç§ç¡®è®¤æ¹å¼æä¸ä¸ªæå¤§çç¼ºç¹ï¼åå¸éåº¦ç¹å«çæ¢ã\n\nå ä¸ºå¦ææ²¡æç¡®è®¤åå¸çæ¶æ¯å°±ä¼é»å¡ææåç»­æ¶æ¯çåå¸ï¼è¿ç§æ¹å¼æå¤æä¾æ¯ç§ä¸è¶è¿æ°ç¾æ¡åå¸æ¶æ¯çååéãå¯¹äºæäºåºç¨ç¨åºæ¥è¯´è¿å¯è½å·²ç»è¶³å¤äºã\n\npublic class Task05 {\n    // éåçåç§°\n    private final static String QUEUE_NAME = "hello";\n\n    public static void main(String[] args) throws Exception {\n        // åå»ºéå\n        Channel channel = RabbitMqUtil.getChannel();\n        // å¼å¯åå¸ç¡®è®¤\n        channel.confirmSelect();\n\n        channel.queueDeclare(QUEUE_NAME, false, false, false, null);\n\n        // è®¡æ¶\n        long startTime = System.currentTimeMillis();\n        // åéæ¶æ¯\n        for (int i = 1; i <= 10000; i++) {\n            String message = "ç¬¬" + i + "æ¡æ¶æ¯";\n            channel.basicPublish("", QUEUE_NAME, null, message.getBytes());\n            // æå¡ç«¯è¿å false æè¶æ¶æ¶é´åæªè¿åï¼çäº§èå¯ä»¥æ¶æ¯éå\n            boolean flag = channel.waitForConfirms();\n            if (flag) {\n                System.out.println("æ¶æ¯åéå®æ¯ï¼" + message);\n            }\n        }\n        long endTime = System.currentTimeMillis();\n        System.out.println("èæ¶ï¼" + (endTime - startTime) + "æ¯«ç§");\n    }\n}\n\n\n\n\n\n# æ¹éç¡®è®¤åå¸\n\nä¸é¢çæ¹å¼éå¸¸æ¢ï¼ä¸åä¸ªç­å¾ç¡®è®¤æ¶æ¯ç¸æ¯ï¼ååå¸ä¸æ¹æ¶æ¯ç¶åä¸èµ·ç¡®è®¤å¯ä»¥æå¤§å°æé«ååéã\n\nè¿ç§æ¹å¼çç¼ºç¹å°±æ¯ï¼å½åçæéå¯¼è´åå¸åºç°é®é¢æ¶ï¼ä¸ç¥éæ¯åªä¸ªæ¶æ¯åºäºé®é¢ï¼å¿é¡»å°æ´ä¸ªæ¹å¤çä¿å­å¨åå­ä¸­ï¼ä»¥è®°å½éè¦çä¿¡æ¯èåéæ°åå¸æ¶æ¯ã\n\nè¿ç§æ¹æ¡ä»ç¶æ¯åæ­¥çï¼ä¸æ ·é»å¡æ¶æ¯çåå¸ã\n\npublic class Task05 {\n    // éåçåç§°\n    private final static String QUEUE_NAME = "hello";\n\n    public static void main(String[] args) throws Exception {\n        // åå»ºéå\n        Channel channel = RabbitMqUtil.getChannel();\n        channel.queueDeclare(QUEUE_NAME, false, false, false, null);\n\n        // å¼å¯åå¸ç¡®è®¤\n        channel.confirmSelect();\n        //æ¹éç¡®è®¤æ¶æ¯å¤§å°\n        int batchSize = 100;\n        //æªç¡®è®¤æ¶æ¯ä¸ªæ°\n        int outstandingMessageCount = 0;\n\n        // è®¡æ¶\n        long startTime = System.currentTimeMillis();\n        // åéæ¶æ¯\n        for (int i = 1; i <= 10000; i++) {\n            String message = "ç¬¬" + i + "æ¡æ¶æ¯";\n            channel.basicPublish("", QUEUE_NAME, null, message.getBytes());\n            outstandingMessageCount++;\n            if (outstandingMessageCount == batchSize) {\n                channel.waitForConfirms();\n                outstandingMessageCount = 0;\n            }\n            System.out.println("æ¶æ¯åéå®æ¯ï¼" + message);\n        }\n        //ä¸ºäºç¡®ä¿è¿æå©ä½æ²¡æç¡®è®¤æ¶æ¯ åæ¬¡ç¡®è®¤\n        if (outstandingMessageCount > 0) {\n            channel.waitForConfirms();\n        }\n        long endTime = System.currentTimeMillis();\n        System.out.println("èæ¶ï¼" + (endTime - startTime) + "æ¯«ç§");\n    }\n}\n\n\n\n\n\n# å¼æ­¥ç¡®è®¤åå¸\n\nå¼æ­¥ç¡®è®¤å©ç¨åè°å½æ°æ¥è¾¾å°æ¶æ¯å¯é æ§ä¼ éï¼ä¹éè¿å½æ°åè°æ¥ä¿è¯æéæåã\n\n\n\n> å¤çå¼æ­¥æªç¡®è®¤æ¶æ¯ï¼ æå¥½çè§£å³æ¹æ¡å°±æ¯ææªç¡®è®¤çæ¶æ¯æ¾å°ä¸ä¸ªåºäºåå­çè½è¢«åå¸çº¿ç¨è®¿é®çéåï¼æ¯å¦ç¨ ConcurrentLinkedQueue è¿ä¸ªéåå¨ confirm callbacks ä¸åå¸çº¿ç¨ä¹é´è¿è¡æ¶æ¯çä¼ éã\n\npublic class Task0501 {\n    // éåçåç§°\n    private final static String QUEUE_NAME = "hello";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtil.getChannel();\n        // åå»ºéå\n        channel.queueDeclare(QUEUE_NAME, false, false, false, null);\n        // å¼å¯åå¸ç¡®è®¤\n        channel.confirmSelect();\n        /* çº¿ç¨å®å¨æåºçä¸ä¸ªåå¸è¡¨ï¼éç¨äºé«å¹¶åçæåµ\n         * 1.è½»æ¾çå°åºå·ä¸æ¶æ¯è¿è¡å³è\n         * 2.è½»æ¾æ¹éå é¤æ¡ç® åªè¦ç»å°åºåå·\n         * 3.æ¯æå¹¶åè®¿é®\n         */\n        ConcurrentSkipListMap<Long, String> outstandingConfirms = new ConcurrentSkipListMap<>();\n\n        /* ç¡®è®¤æ¶å°æ¶æ¯çä¸ä¸ªåè°\n         * 1.æ¶æ¯åºåå·\n         * 2.true å¯ä»¥ç¡®è®¤å°äºç­äºå½ååºåå·çæ¶æ¯  false ç¡®è®¤å½ååºåå·æ¶æ¯\n         */\n        ConfirmCallback ackCallback = (sequenceNumber, multiple) -> {\n            if (multiple) {\n                // è¿åçæ¯å°äºç­äºå½ååºåå·çæªç¡®è®¤æ¶æ¯ æ¯ä¸ä¸ª map\n                ConcurrentNavigableMap<Long, String> confirmed = outstandingConfirms.headMap(sequenceNumber, true);\n                // æ¸é¤è¯¥é¨åæªç¡®è®¤æ¶æ¯\n                confirmed.clear();\n            } else {\n                // åªæ¸é¤å½ååºåå·çæ¶æ¯\n                outstandingConfirms.remove(sequenceNumber);\n            }\n        };\n\n        ConfirmCallback nackCallback = (sequenceNumber, multiple) -> {\n            String message = outstandingConfirms.get(sequenceNumber);\n            System.out.println("åå¸çæ¶æ¯" + message + "æªè¢«ç¡®è®¤ï¼åºåå·" + sequenceNumber);\n        };\n\n        /* æ·»å ä¸ä¸ªå¼æ­¥ç¡®è®¤ççå¬å¨\n         * 1.ç¡®è®¤æ¶å°æ¶æ¯çåè°\n         * 2.æªæ¶å°æ¶æ¯çåè°\n         */\n        channel.addConfirmListener(ackCallback, nackCallback);\n\n        // è®¡æ¶\n        long startTime = System.currentTimeMillis();\n        // åéæ¶æ¯\n        for (int i = 1; i <= 10000; i++) {\n            String message = "ç¬¬" + i + "æ¡æ¶æ¯";\n            /* channel.getNextPublishSeqNo()è·åä¸ä¸ä¸ªæ¶æ¯çåºåå·\n             * éè¿åºåå·ä¸æ¶æ¯ä½è¿è¡ä¸ä¸ªå³è\n             * å¨é¨é½æ¯æªç¡®è®¤çæ¶æ¯ä½\n             */\n            outstandingConfirms.put(channel.getNextPublishSeqNo(), message);\n            channel.basicPublish("", QUEUE_NAME, null, message.getBytes());\n            System.out.println("æ¶æ¯åéå®æ¯ï¼" + message);\n        }\n        long endTime = System.currentTimeMillis();\n        System.out.println("èæ¶ï¼" + (endTime - startTime) + "æ¯«ç§");\n    }\n}\n\n\n\n\n\n# åå¸ç¡®è®¤éåº¦å¯¹æ¯\n\n * åç¬åå¸æ¶æ¯ï¼åæ­¥ç­å¾ç¡®è®¤ï¼ç®åï¼ä½ååééå¸¸æéã\n * æ¹éåå¸æ¶æ¯ï¼æ¹éåæ­¥ç­å¾ç¡®è®¤ï¼ç®åï¼åççååéï¼ä¸æ¦åºç°é®é¢ä½å¾é¾æ¨æ­åºæ¯é£æ¡æ¶æ¯åºç°äºé®é¢ã\n * å¼æ­¥å¤çï¼æä½³æ§è½åèµæºä½¿ç¨ï¼å¨åºç°éè¯¯çæåµä¸å¯ä»¥å¾å¥½å°æ§å¶ï¼ä½æ¯å®ç°èµ·æ¥ç¨å¾®é¾äºã',normalizedContent:'çäº§èå¯ä»¥å°ä¿¡éè®¾ç½®æ confirm æ¨¡å¼ï¼å½ä¿¡éè¿å¥ confirm æ¨¡å¼åï¼ææå¨è¯¥ä¿¡éä¸é¢åå¸çæ¶æ¯é½å°ä¼è¢«ææ´¾ä¸ä¸ªå¯ä¸ç id(ä» 1 å¼å§)ï¼æ¶æ¯è¢«æéå°ææå¹éçéåä¹åï¼broker å°±ä¼åéä¸ä¸ªç¡®è®¤ç»çäº§è(åå«æ¶æ¯çå¯ä¸ id)ï¼è¿å°±ä½¿å¾çäº§èç¥éæ¶æ¯å·²ç»æ­£ç¡®å°è¾¾ç®çéåäºã\n\nå¦ææ¶æ¯åéåæ¯å¯æä¹åçï¼é£ä¹ç¡®è®¤æ¶æ¯ä¼å¨å°æ¶æ¯åå¥ç£çä¹åååºï¼broker åä¼ ç»çäº§èçç¡®è®¤æ¶æ¯ä¸­ delivery-tag ååå«äºç¡®è®¤æ¶æ¯çåºåå·ï¼æ­¤å¤ broker ä¹å¯ä»¥è®¾ç½®basic.ack ç multiple åï¼è¡¨ç¤ºå°è¿ä¸ªåºåå·ä¹åçæææ¶æ¯é½å·²ç»å¾å°äºå¤çã\n\nconfirm æ¨¡å¼çå¥½å¤æ¯å¼æ­¥çï¼ä¸æ¦åå¸ä¸æ¡æ¶æ¯ï¼çäº§èå°±å¯ä»¥å¨ä¿¡éè¿åç¡®è®¤çåæ¶ç»§ç»­åéä¸ä¸æ¡æ¶æ¯ï¼å½æ¶æ¯æç»å¾å°ç¡®è®¤ä¹åï¼çäº§èä¾¿å¯ä»¥éè¿åè°æ¹æ³æ¥å¤çè¯¥ç¡®è®¤æ¶æ¯ï¼å¦æ rabbitmq å ä¸ºèªèº«åé¨éè¯¯å¯¼è´æ¶æ¯ä¸¢å¤±ï¼å°±ä¼åéä¸æ¡ nack æ¶æ¯ï¼çäº§èåºç¨ç¨åºåæ ·å¯ä»¥å¨åè°æ¹æ³ä¸­å¤çè¯¥ nack æ¶æ¯ã\n\n\n# å¼å¯åå¸ç¡®è®¤\n\nåå¸ç¡®è®¤é»è®¤æ²¡æå¼å¯ï¼å¦æè¦å¼å¯éè¦è°ç¨æ¹æ³ confirmselectï¼æ¯å½è¦ä½¿ç¨åå¸ç¡®è®¤ï¼é½è¦å¨ channel ä¸è°ç¨è¯¥æ¹æ³ã\n\n// åå»ºä¸ä¸ªè¿æ¥å·¥åï¼å¹¶è®¾ç½®mqçç¸å³ä¿¡æ¯\nconnectionfactory factory = new connectionfactory();\nfactory.sethost("192.168.182.130");\nfactory.setusername("admin");\nfactory.setpassword("123123");\n// åå»ºè¿æ¥\nconnection connection = factory.newconnection();\n// è·åä¿¡é\nchannel channel = connection.createchannel();\n// å¼å¯åå¸ç¡®è®¤\nchannel.confirmselect();\n\n\n\n# åä¸ªç¡®è®¤åå¸\n\næ¯ä¸ç§åæ­¥ç¡®è®¤åå¸çæ¹å¼ï¼åå¸ä¸ä¸ªæ¶æ¯è¢«ç¡®è®¤åå¸åï¼åç»­çæ¶æ¯æè½ç»§ç»­åå¸ã\n\nwaitforconfirmsordie(long)æ¹æ³åªæå¨æ¶æ¯è¢«ç¡®è®¤çæ¶åæè¿åï¼å¦æå¨æå®æ¶é´èå´åè¿ä¸ªæ¶æ¯æ²¡æè¢«ç¡®è®¤é£ä¹å®å°æåºå¼å¸¸ã\n\nè¿ç§ç¡®è®¤æ¹å¼æä¸ä¸ªæå¤§çç¼ºç¹ï¼åå¸éåº¦ç¹å«çæ¢ã\n\nå ä¸ºå¦ææ²¡æç¡®è®¤åå¸çæ¶æ¯å°±ä¼é»å¡ææåç»­æ¶æ¯çåå¸ï¼è¿ç§æ¹å¼æå¤æä¾æ¯ç§ä¸è¶è¿æ°ç¾æ¡åå¸æ¶æ¯çååéãå¯¹äºæäºåºç¨ç¨åºæ¥è¯´è¿å¯è½å·²ç»è¶³å¤äºã\n\npublic class task05 {\n    // éåçåç§°\n    private final static string queue_name = "hello";\n\n    public static void main(string[] args) throws exception {\n        // åå»ºéå\n        channel channel = rabbitmqutil.getchannel();\n        // å¼å¯åå¸ç¡®è®¤\n        channel.confirmselect();\n\n        channel.queuedeclare(queue_name, false, false, false, null);\n\n        // è®¡æ¶\n        long starttime = system.currenttimemillis();\n        // åéæ¶æ¯\n        for (int i = 1; i <= 10000; i++) {\n            string message = "ç¬¬" + i + "æ¡æ¶æ¯";\n            channel.basicpublish("", queue_name, null, message.getbytes());\n            // æå¡ç«¯è¿å false æè¶æ¶æ¶é´åæªè¿åï¼çäº§èå¯ä»¥æ¶æ¯éå\n            boolean flag = channel.waitforconfirms();\n            if (flag) {\n                system.out.println("æ¶æ¯åéå®æ¯ï¼" + message);\n            }\n        }\n        long endtime = system.currenttimemillis();\n        system.out.println("èæ¶ï¼" + (endtime - starttime) + "æ¯«ç§");\n    }\n}\n\n\n\n\n\n# æ¹éç¡®è®¤åå¸\n\nä¸é¢çæ¹å¼éå¸¸æ¢ï¼ä¸åä¸ªç­å¾ç¡®è®¤æ¶æ¯ç¸æ¯ï¼ååå¸ä¸æ¹æ¶æ¯ç¶åä¸èµ·ç¡®è®¤å¯ä»¥æå¤§å°æé«ååéã\n\nè¿ç§æ¹å¼çç¼ºç¹å°±æ¯ï¼å½åçæéå¯¼è´åå¸åºç°é®é¢æ¶ï¼ä¸ç¥éæ¯åªä¸ªæ¶æ¯åºäºé®é¢ï¼å¿é¡»å°æ´ä¸ªæ¹å¤çä¿å­å¨åå­ä¸­ï¼ä»¥è®°å½éè¦çä¿¡æ¯èåéæ°åå¸æ¶æ¯ã\n\nè¿ç§æ¹æ¡ä»ç¶æ¯åæ­¥çï¼ä¸æ ·é»å¡æ¶æ¯çåå¸ã\n\npublic class task05 {\n    // éåçåç§°\n    private final static string queue_name = "hello";\n\n    public static void main(string[] args) throws exception {\n        // åå»ºéå\n        channel channel = rabbitmqutil.getchannel();\n        channel.queuedeclare(queue_name, false, false, false, null);\n\n        // å¼å¯åå¸ç¡®è®¤\n        channel.confirmselect();\n        //æ¹éç¡®è®¤æ¶æ¯å¤§å°\n        int batchsize = 100;\n        //æªç¡®è®¤æ¶æ¯ä¸ªæ°\n        int outstandingmessagecount = 0;\n\n        // è®¡æ¶\n        long starttime = system.currenttimemillis();\n        // åéæ¶æ¯\n        for (int i = 1; i <= 10000; i++) {\n            string message = "ç¬¬" + i + "æ¡æ¶æ¯";\n            channel.basicpublish("", queue_name, null, message.getbytes());\n            outstandingmessagecount++;\n            if (outstandingmessagecount == batchsize) {\n                channel.waitforconfirms();\n                outstandingmessagecount = 0;\n            }\n            system.out.println("æ¶æ¯åéå®æ¯ï¼" + message);\n        }\n        //ä¸ºäºç¡®ä¿è¿æå©ä½æ²¡æç¡®è®¤æ¶æ¯ åæ¬¡ç¡®è®¤\n        if (outstandingmessagecount > 0) {\n            channel.waitforconfirms();\n        }\n        long endtime = system.currenttimemillis();\n        system.out.println("èæ¶ï¼" + (endtime - starttime) + "æ¯«ç§");\n    }\n}\n\n\n\n\n\n# å¼æ­¥ç¡®è®¤åå¸\n\nå¼æ­¥ç¡®è®¤å©ç¨åè°å½æ°æ¥è¾¾å°æ¶æ¯å¯é æ§ä¼ éï¼ä¹éè¿å½æ°åè°æ¥ä¿è¯æéæåã\n\n\n\n> å¤çå¼æ­¥æªç¡®è®¤æ¶æ¯ï¼ æå¥½çè§£å³æ¹æ¡å°±æ¯ææªç¡®è®¤çæ¶æ¯æ¾å°ä¸ä¸ªåºäºåå­çè½è¢«åå¸çº¿ç¨è®¿é®çéåï¼æ¯å¦ç¨ concurrentlinkedqueue è¿ä¸ªéåå¨ confirm callbacks ä¸åå¸çº¿ç¨ä¹é´è¿è¡æ¶æ¯çä¼ éã\n\npublic class task0501 {\n    // éåçåç§°\n    private final static string queue_name = "hello";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutil.getchannel();\n        // åå»ºéå\n        channel.queuedeclare(queue_name, false, false, false, null);\n        // å¼å¯åå¸ç¡®è®¤\n        channel.confirmselect();\n        /* çº¿ç¨å®å¨æåºçä¸ä¸ªåå¸è¡¨ï¼éç¨äºé«å¹¶åçæåµ\n         * 1.è½»æ¾çå°åºå·ä¸æ¶æ¯è¿è¡å³è\n         * 2.è½»æ¾æ¹éå é¤æ¡ç® åªè¦ç»å°åºåå·\n         * 3.æ¯æå¹¶åè®¿é®\n         */\n        concurrentskiplistmap<long, string> outstandingconfirms = new concurrentskiplistmap<>();\n\n        /* ç¡®è®¤æ¶å°æ¶æ¯çä¸ä¸ªåè°\n         * 1.æ¶æ¯åºåå·\n         * 2.true å¯ä»¥ç¡®è®¤å°äºç­äºå½ååºåå·çæ¶æ¯  false ç¡®è®¤å½ååºåå·æ¶æ¯\n         */\n        confirmcallback ackcallback = (sequencenumber, multiple) -> {\n            if (multiple) {\n                // è¿åçæ¯å°äºç­äºå½ååºåå·çæªç¡®è®¤æ¶æ¯ æ¯ä¸ä¸ª map\n                concurrentnavigablemap<long, string> confirmed = outstandingconfirms.headmap(sequencenumber, true);\n                // æ¸é¤è¯¥é¨åæªç¡®è®¤æ¶æ¯\n                confirmed.clear();\n            } else {\n                // åªæ¸é¤å½ååºåå·çæ¶æ¯\n                outstandingconfirms.remove(sequencenumber);\n            }\n        };\n\n        confirmcallback nackcallback = (sequencenumber, multiple) -> {\n            string message = outstandingconfirms.get(sequencenumber);\n            system.out.println("åå¸çæ¶æ¯" + message + "æªè¢«ç¡®è®¤ï¼åºåå·" + sequencenumber);\n        };\n\n        /* æ·»å ä¸ä¸ªå¼æ­¥ç¡®è®¤ççå¬å¨\n         * 1.ç¡®è®¤æ¶å°æ¶æ¯çåè°\n         * 2.æªæ¶å°æ¶æ¯çåè°\n         */\n        channel.addconfirmlistener(ackcallback, nackcallback);\n\n        // è®¡æ¶\n        long starttime = system.currenttimemillis();\n        // åéæ¶æ¯\n        for (int i = 1; i <= 10000; i++) {\n            string message = "ç¬¬" + i + "æ¡æ¶æ¯";\n            /* channel.getnextpublishseqno()è·åä¸ä¸ä¸ªæ¶æ¯çåºåå·\n             * éè¿åºåå·ä¸æ¶æ¯ä½è¿è¡ä¸ä¸ªå³è\n             * å¨é¨é½æ¯æªç¡®è®¤çæ¶æ¯ä½\n             */\n            outstandingconfirms.put(channel.getnextpublishseqno(), message);\n            channel.basicpublish("", queue_name, null, message.getbytes());\n            system.out.println("æ¶æ¯åéå®æ¯ï¼" + message);\n        }\n        long endtime = system.currenttimemillis();\n        system.out.println("èæ¶ï¼" + (endtime - starttime) + "æ¯«ç§");\n    }\n}\n\n\n\n\n\n# åå¸ç¡®è®¤éåº¦å¯¹æ¯\n\n * åç¬åå¸æ¶æ¯ï¼åæ­¥ç­å¾ç¡®è®¤ï¼ç®åï¼ä½ååééå¸¸æéã\n * æ¹éåå¸æ¶æ¯ï¼æ¹éåæ­¥ç­å¾ç¡®è®¤ï¼ç®åï¼åççååéï¼ä¸æ¦åºç°é®é¢ä½å¾é¾æ¨æ­åºæ¯é£æ¡æ¶æ¯åºç°äºé®é¢ã\n * å¼æ­¥å¤çï¼æä½³æ§è½åèµæºä½¿ç¨ï¼å¨åºç°éè¯¯çæåµä¸å¯ä»¥å¾å¥½å°æ§å¶ï¼ä½æ¯å®ç°èµ·æ¥ç¨å¾®é¾äºã',charsets:{cjk:!0},lastUpdated:"2022/11/30, 16:24:57",lastUpdatedTimestamp:1669796697e3},{title:"RabbitMQäº¤æ¢æº",frontmatter:{title:"RabbitMQäº¤æ¢æº",date:"2022-12-03T15:22:41.000Z",permalink:"/pages/umb37yap",categories:["ä¸­é´ä»¶"],tags:["RabbitMQ"],author:{name:"ä¹æ¨åç"}},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/01.%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6/1001.RabbitMQ/06.RabbitMQ%E4%BA%A4%E6%8D%A2%E6%9C%BA.html",relativePath:"04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/06.RabbitMQäº¤æ¢æº.md",key:"v-1efa53dd",path:"/pages/umb37yap/",headers:[{level:2,title:"Exchanges",slug:"exchanges",normalizedTitle:"exchanges",charIndex:191},{level:2,title:"é»è®¤exchange",slug:"é»è®¤exchange",normalizedTitle:"é»è®¤exchange",charIndex:460},{level:2,title:"ä¸´æ¶éå",slug:"ä¸´æ¶éå",normalizedTitle:"ä¸´æ¶éå",charIndex:628},{level:2,title:"ç»å®(bindings)",slug:"ç»å®-bindings",normalizedTitle:"ç»å®(bindings)",charIndex:786},{level:2,title:"Fanout",slug:"fanout",normalizedTitle:"fanout",charIndex:862},{level:2,title:"Direct",slug:"direct",normalizedTitle:"direct",charIndex:3863},{level:2,title:"Topics",slug:"topics",normalizedTitle:"topics",charIndex:7877},{level:3,title:"å¹éæ¡ä¾",slug:"å¹éæ¡ä¾",normalizedTitle:"å¹éæ¡ä¾",charIndex:8236}],excerpt:"<p>åè®¾å·¥ä½éåèåï¼æ¯ä¸ªä»»å¡é½æ°å¥½äº¤ä»ç»ä¸ä¸ªæ¶è´¹è(å·¥ä½è¿ç¨)ãèå°æ¶æ¯ä¼ è¾¾ç»å¤ä¸ªæ¶è´¹èï¼è¿ç§æ¨¡å¼ç§°ä¸ºâåå¸/è®¢éâã</p>\n<blockquote>\n<p>ä¾ï¼æå»ºä¸ä¸ªç®åçæ¥å¿ç³»ç»ãå®å°ç±ä¸¤ä¸ªç¨åºç»æï¼ç¬¬ä¸ä¸ªç¨åºå°ååºæ¥å¿æ¶æ¯ï¼ç¬¬äºä¸ªç¨åºæ¯æ¶è´¹èãä¼å¯å¨ä¸¤ä¸ªæ¶è´¹èï¼ä¸ä¸ªæ¶è´¹èæ¥æ¶å°æ¶æ¯åææ¥å¿å­å¨å¨ç£çï¼å¦å¤ä¸ä¸ªæ¶è´¹èæ¥æ¶å°æ¶æ¯åææ¶æ¯æå°å¨å±å¹ä¸ï¼äºå®ä¸ç¬¬ä¸ä¸ªç¨åºååºçæ¥å¿æ¶æ¯å°å¹¿æ­ç»æææ¶è´¹èã</p>\n</blockquote>\n",headersStr:"Exchanges é»è®¤exchange ä¸´æ¶éå ç»å®(bindings) Fanout Direct Topics å¹éæ¡ä¾",content:'åè®¾å·¥ä½éåèåï¼æ¯ä¸ªä»»å¡é½æ°å¥½äº¤ä»ç»ä¸ä¸ªæ¶è´¹è(å·¥ä½è¿ç¨)ãèå°æ¶æ¯ä¼ è¾¾ç»å¤ä¸ªæ¶è´¹èï¼è¿ç§æ¨¡å¼ç§°ä¸ºâåå¸/è®¢éâã\n\n> ä¾ï¼æå»ºä¸ä¸ªç®åçæ¥å¿ç³»ç»ãå®å°ç±ä¸¤ä¸ªç¨åºç»æï¼ç¬¬ä¸ä¸ªç¨åºå°ååºæ¥å¿æ¶æ¯ï¼ç¬¬äºä¸ªç¨åºæ¯æ¶è´¹èãä¼å¯å¨ä¸¤ä¸ªæ¶è´¹èï¼ä¸ä¸ªæ¶è´¹èæ¥æ¶å°æ¶æ¯åææ¥å¿å­å¨å¨ç£çï¼å¦å¤ä¸ä¸ªæ¶è´¹èæ¥æ¶å°æ¶æ¯åææ¶æ¯æå°å¨å±å¹ä¸ï¼äºå®ä¸ç¬¬ä¸ä¸ªç¨åºååºçæ¥å¿æ¶æ¯å°å¹¿æ­ç»æææ¶è´¹èã\n\n\n# Exchanges\n\nRabbitMQ æ¶æ¯ä¼ éæ¨¡åçæ ¸å¿ææ³æ¯ï¼çäº§èçäº§çæ¶æ¯ä»ä¸ä¼ç´æ¥åéå°éåã\n\néå¸¸çäº§èä¸ç¥éæ¶æ¯ä¼ éå°äºåªäºéåä¸­ï¼çäº§èåªè½å°æ¶æ¯åéå°äº¤æ¢æº(exchange)ï¼äº¤æ¢æºå·¥ä½çåå®¹éå¸¸ç®åï¼æ¥æ¶æ¥èªçäº§èçæ¶æ¯ï¼å¹¶å°å®ä»¬æ¨å¥éåã äº¤æ¢æºå¿é¡»ç¡®åç¥éå¦ä½å¤çæ¶å°çæ¶æ¯ã\n\näº¤æ¢æºçç±»åå³å®ææ¶æ¯æ¾å°ç¹å®éåï¼è¿æ¯æ¾å°è®¸å¤éåä¸­ï¼æèä¸¢å¼å®ä»¬ã\n\n\n\nExchanges çç±»åï¼\n\n * ç´æ¥(direct)\n * ä¸»é¢(topic)\n * æ é¢(headers)\n * æåº(fanout)\n\n\n# é»è®¤exchange\n\nchannel.basicPublish("", QUEUE_NAME, null, message.getBytes());\n\n\nç¬¬ä¸ä¸ªåæ°æ¯äº¤æ¢æºçåç§°ãç©ºå­ç¬¦ä¸²è¡¨ç¤ºé»è®¤ææ åç§°äº¤æ¢æºï¼æ¶æ¯è½è·¯ç±åéå°éåä¸­å¶å®æ¯ç±routingKey(bindingkey)ç»å® key æå®çï¼å¦æå®å­å¨çè¯ã\n\n\n# ä¸´æ¶éå\n\nå½è¿æ¥ RabbitMQ æ¶ï¼éè¦ä¸ä¸ªå¨æ°çç©ºéåï¼ä¸ºæ­¤å¯ä»¥åå»ºä¸ä¸ªå·æéæºåç§°çéåï¼æèè½è®©æå¡å¨éæºçæéååç§°ãä¸æ¦æ­å¼äºæ¶è´¹èè¿æ¥ï¼éåå°è¢«èªå¨å é¤ã\n\nåå»ºä¸´æ¶éåï¼\n\nString queueName = channel.queueDeclare().getQueue();\n\n\n\n\n\n# ç»å®(bindings)\n\nå®æ¯ exchange å queue ä¹é´çæ¡¥æ¢ï¼æ¯å¦è¯´ä¸é¢è¿å¼ å¾å°±æ¯ X ä¸ Q1 å Q2 è¿è¡äºç»å®ï¼\n\n\n\n\n# Fanout\n\nFanout ç±»åéå¸¸ç®åãå°æ¥æ¶å°çæææ¶æ¯å¹¿æ­å°å®ç¥éçææéåä¸­ã\n\nç³»ç»ä¸­é»è®¤æäºFanoutç±»åçexchangeï¼\n\n\n\næ¡ä¾ï¼\n\næ¶è´¹èï¼å°æ¥æ¶å°çæ¶æ¯æå°å¨æ§å¶å°\n\npublic class Worker0601 {\n\n    private static final String EXCHANGE_NAME = "logs";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtil.getChannel();\n        // åå»ºä¸ä¸ªäº¤æ¢æºï¼äº¤æ¢æºçåå­ä¸ºlogs\n        channel.exchangeDeclare(EXCHANGE_NAME, "fanout");\n        // çæä¸ä¸ªä¸´æ¶éåï¼åç§°éæºï¼å½æ¶è´¹èä¸éåæ­å¼è¿æ¥æ¶ï¼è¯¥éåå¯¹èªå¨å é¤\n        String queueName = channel.queueDeclare().getQueue();\n        // å°äº¤æ¢æºåéæºéåç»å®ï¼routingKeyä¹å°±æ¯bindingKeyä¸ºç©ºå­ç¬¦ä¸²\n        channel.queueBind(queueName, EXCHANGE_NAME, "");\n\n        System.out.println("ç­å¾æ¥æ¶æ¶æ¯ï¼è¯¥éåä¼å°æ¶å°çæ¶æ¯æå°åºæ¥....");\n\n        // æ¥æ¶å°æ¶æ¯åçå¤çé»è¾ï¼\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String message = new String(delivery.getBody(), StandardCharsets.UTF_8);\n            System.out.println("æ¶å°çæ¶æ¯ï¼" + message);\n        };\n        // åæ¶æ¶æ¯æ¶çåè°ï¼\n        CancelCallback cancelCallback = (consumerTag) -> System.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // æ¶è´¹æ¶æ¯\n        channel.basicConsume(queueName, true, deliverCallback, cancelCallback);\n    }\n}\n\n\næ¶è´¹èï¼å°æ¥æ¶å°çæ¶æ¯å­å¨å¨ç£ç\n\npublic class Worker0602 {\n\n    private static final String EXCHANGE_NAME = "logs";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtil.getChannel();\n        // åå»ºä¸ä¸ªäº¤æ¢æºï¼äº¤æ¢æºçåå­ä¸ºlogs\n        channel.exchangeDeclare(EXCHANGE_NAME, "fanout");\n        // çæä¸ä¸ªä¸´æ¶éåï¼åç§°éæºï¼å½æ¶è´¹èä¸éåæ­å¼è¿æ¥æ¶ï¼è¯¥éåå¯¹èªå¨å é¤\n        String queueName = channel.queueDeclare().getQueue();\n        // å°äº¤æ¢æºåéæºéåç»å®ï¼routingKeyä¹å°±æ¯bindingKeyä¸ºç©ºå­ç¬¦ä¸²\n        channel.queueBind(queueName, EXCHANGE_NAME, "");\n\n        System.out.println("ç­å¾æ¥æ¶æ¶æ¯ï¼è¯¥éåä¼å°æ¶å°çæ¶æ¯åå¥æä»¶....");\n\n        // æ¥æ¶å°æ¶æ¯åçå¤çé»è¾ï¼\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String message = new String(delivery.getBody(), StandardCharsets.UTF_8);\n            File file = new File("D:\\\\rabbitmq_info.txt");\n            BufferedWriter bw = new BufferedWriter(new FileWriter(file, true));\n            bw.write(message);\n            bw.newLine();\n            bw.close();\n            System.out.println("æ°æ®åå¥æä»¶æå");\n        };\n        // åæ¶æ¶æ¯æ¶çåè°ï¼\n        CancelCallback cancelCallback = (consumerTag) -> System.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // æ¶è´¹æ¶æ¯\n        channel.basicConsume(queueName, true, deliverCallback, cancelCallback);\n    }\n}\n\n\nçäº§èï¼åéæ¶æ¯ç»ä¸¤ä¸ªæ¶è´¹èæ¥æ¶\n\npublic class Task0601 {\n    private static final String EXCHANGE_NAME = "logs";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtil.getChannel();\n        // åå»ºä¸ä¸ªäº¤æ¢æºï¼äº¤æ¢æºçåå­ä¸ºlogs\n        channel.exchangeDeclare(EXCHANGE_NAME, "fanout");\n\n        Scanner sc = new Scanner(System.in);\n        System.out.println("è¯·è¾å¥ä¿¡æ¯ï¼");\n        while (sc.hasNext()) {\n            String message = sc.nextLine();\n            channel.basicPublish(EXCHANGE_NAME, "", null, message.getBytes("UTF-8"));\n            System.out.println("çäº§èååºæ¶æ¯" + message);\n        }\n    }\n}\n\n\n\n# Direct\n\nå¯¹äºä¸é¢çæ¡ä¾ï¼å¸æå°æ¥å¿æ¶æ¯åå¥ç£ççç¨åºä»åå¥ä¸¥ééè¯¯(errros)ï¼èä¸å­å¨è­¦å(warning)æä¿¡æ¯(info)æ¥å¿ æ¶æ¯é¿åæµªè´¹ç£çç©ºé´ãFanout äº¤æ¢ç±»ååªè½è¿è¡æ æè¯çå¹¿æ­ï¼æä»¥è¿éä½¿ç¨ direct ç±»åæ¥è¿è¡æ¿æ¢ï¼å®å·¥ä½æ¹å¼æ¯ï¼æ¶æ¯åªå»å°å®ç»å®çroutingKey éåä¸­å»ã\n\n\n\nå¨ä¸é¢è¿å¼ å¾ä¸­ï¼å¯ä»¥çå° X ç»å®äºä¸¤ä¸ªéåï¼ç»å®ç±»åæ¯ directãéåQ1 ç»å®é®ä¸º orangeï¼éå Q2 ç»å®é®æä¸¤ä¸ªï¼ä¸ä¸ªç»å®é®ä¸º blackï¼å¦ä¸ä¸ªç»å®é®ä¸º greenã\n\nå¨è¿ç§ç»å®æåµä¸ï¼çäº§èåå¸æ¶æ¯å° exchange ä¸ï¼ç»å®é®ä¸º orange çæ¶æ¯ä¼è¢«åå¸å°éåQ1ãç»å®é®ä¸ºblackågreençæ¶æ¯ä¼è¢«åå¸å°éå Q2ï¼å¶ä»æ¶æ¯ç±»åçæ¶æ¯å°è¢«ä¸¢å¼ã\n\nå¤éç»å®ï¼\n\n\n\nå½ç¶å¦æ exchange çç»å®ç±»åæ¯directï¼ä½æ¯å®ç»å®çå¤ä¸ªéåç key å¦æé½ç¸åï¼å¨è¿ç§æåµä¸è½ç¶ç»å®ç±»åæ¯ direct ä½æ¯å®è¡¨ç°çå°±å fanout æç¹ç±»ä¼¼äºï¼å°±è·å¹¿æ­å·®ä¸å¤ï¼å¦ä¸å¾æç¤ºã\n\næ¡ä¾ï¼\n\n\n\næ¶æ¯åéèï¼\n\npublic class Task0701 {\n    private static final String EXCHANGE_NAME = "direct_logs";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtil.getChannel();\n        // åå»ºä¸ä¸ªäº¤æ¢æº\n        channel.exchangeDeclare(EXCHANGE_NAME, BuiltinExchangeType.DIRECT);\n\n        Map<String, String>  bindingKeyMap = new HashMap<>();\n        bindingKeyMap.put("info","æ®é info ä¿¡æ¯");\n        bindingKeyMap.put("warning","è­¦å warning ä¿¡æ¯");\n        bindingKeyMap.put("error","éè¯¯ error ä¿¡æ¯");\n        // debug æ²¡ææ¶è´¹è¿æ¥æ¶è¿ä¸ªæ¶æ¯ ææå°±ä¸¢å¤±äº\n        bindingKeyMap.put("debug","è°è¯ debug ä¿¡æ¯");\n        for (Map.Entry<String, String> bindingKeyEntry : bindingKeyMap.entrySet()) {\n            String bindingKey = bindingKeyEntry.getKey();\n            String message = bindingKeyEntry.getValue();\n            channel.basicPublish(EXCHANGE_NAME, bindingKey, null, message.getBytes(StandardCharsets.UTF_8));\n            System.out.println("çäº§èååºæ¶æ¯:" + message);\n        }\n    }\n}\n\n\næ¶æ¯æ¥æ¶èï¼\n\npublic class Worker0701 {\n\n    private static final String EXCHANGE_NAME = "direct_logs";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtil.getChannel();\n        // åå»ºä¸ä¸ªäº¤æ¢æºï¼äº¤æ¢æºçåå­ä¸ºlogs\n        channel.exchangeDeclare(EXCHANGE_NAME, BuiltinExchangeType.DIRECT);\n        // å£°æä¸ä¸ªéå\n        String queueName = "console";\n        channel.queueDeclare(queueName, false, false, false, null);\n        // å°äº¤æ¢æºåéåç»å®\n        channel.queueBind(queueName, EXCHANGE_NAME, "info");\n        channel.queueBind(queueName, EXCHANGE_NAME, "warning");\n\n        System.out.println("ç­å¾æ¥æ¶æ¶æ¯ï¼è¯¥éåä¼å°æ¶å°çæ¶æ¯æå°åºæ¥....");\n\n        // æ¥æ¶å°æ¶æ¯åçå¤çé»è¾ï¼\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String message = new String(delivery.getBody(), StandardCharsets.UTF_8);\n            message = "æ¥æ¶ç»å®é®ï¼" + delivery.getEnvelope().getRoutingKey() + "ï¼æ¶æ¯ï¼" + message;\n            System.out.println(message);\n        };\n        // åæ¶æ¶æ¯æ¶çåè°ï¼\n        CancelCallback cancelCallback = (consumerTag) -> System.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // æ¶è´¹æ¶æ¯\n        channel.basicConsume(queueName, true, deliverCallback, cancelCallback);\n    }\n}\n\n\næ¶æ¯æ¥æ¶èï¼\n\npublic class Worker0702 {\n\n    private static final String EXCHANGE_NAME = "direct_logs";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtil.getChannel();\n        // åå»ºä¸ä¸ªäº¤æ¢æºï¼äº¤æ¢æºçåå­ä¸ºlogs\n        channel.exchangeDeclare(EXCHANGE_NAME, BuiltinExchangeType.DIRECT);\n        // å£°æä¸ä¸ªéå\n        String queueName = "disk";\n        channel.queueDeclare(queueName, false, false, false, null);\n        // å°äº¤æ¢æºåéåç»å®\n        channel.queueBind(queueName, EXCHANGE_NAME, "error");\n\n        System.out.println("ç­å¾æ¥æ¶æ¶æ¯ï¼è¯¥éåä¼å°æ¶å°çæ¶æ¯åå¥æä»¶....");\n\n        // æ¥æ¶å°æ¶æ¯åçå¤çé»è¾ï¼\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String message = new String(delivery.getBody(), StandardCharsets.UTF_8);\n            message = "æ¥æ¶ç»å®é®ï¼" + delivery.getEnvelope().getRoutingKey() + "ï¼æ¶æ¯ï¼" + message;\n            File file = new File("D:\\\\rabbitmq_info.txt");\n            BufferedWriter bw = new BufferedWriter(new FileWriter(file, true));\n            bw.write(message);\n            bw.newLine();\n            bw.close();\n            System.out.println("éè¯¯æ¥å¿åå¥æä»¶æå");\n        };\n        // åæ¶æ¶æ¯æ¶çåè°ï¼\n        CancelCallback cancelCallback = (consumerTag) -> System.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // æ¶è´¹æ¶æ¯\n        channel.basicConsume(queueName, true, deliverCallback, cancelCallback);\n    }\n}\n\n\n\n# Topics\n\nå°½ç®¡ä½¿ç¨directäº¤æ¢æºæ¹è¿äºæ¥å¿ç³»ç»ï¼ä»ç¶å­å¨å±éæ§ï¼æ¯å¦æ³æ¥æ¶çæ¥å¿ç±»åæinfo.base å info.advantageï¼æä¸ªéååªæ³ info.base çæ¶æ¯ï¼é£è¿ä¸ªæ¶ådirect å°±åä¸å°äºãè¿ä¸ªæ¶åå°±åªè½ä½¿ç¨ topic ç±»åã\n\nåéå°ç±»åæ¯ topic äº¤æ¢æºçæ¶æ¯ç routing_key ä¸è½éæåï¼å¿é¡»æ»¡è¶³ä¸å®çè¦æ±ï¼å®å¿é¡»æ¯ä¸ä¸ªåè¯åè¡¨ï¼ä»¥ç¹å·åéå¼ãè¿äºåè¯å¯ä»¥æ¯ä»»æåè¯ï¼æ¯å¦è¯´ï¼"stock.usd.nyse", "nyse.vmw", "quick.orange.rabbit"è¿ç§ç±»åçãå½ç¶è¿ä¸ªåè¯åè¡¨æå¤ä¸è½è¶è¿ 255 ä¸ªå­èã\n\nå¨è¿ä¸ªè§ååè¡¨ä¸­ï¼æä¸¤ä¸ªæ¿æ¢ç¬¦ï¼\n\n * *(æå·)å¯ä»¥ä»£æ¿ä¸ä¸ªåè¯\n * #(äºå·)å¯ä»¥æ¿ä»£é¶ä¸ªæå¤ä¸ªåè¯\n\n\n# å¹éæ¡ä¾\n\nä¸å¾ç»å®å³ç³»å¦ä¸ï¼\n\n * Q1--\x3eç»å®çæ¯ä¸­é´å¸¦ orange å¸¦ 3 ä¸ªåè¯çå­ç¬¦ä¸²(*.orange.*)\n * Q2--\x3eç»å®çæ¯æåä¸ä¸ªåè¯æ¯ rabbit ç 3 ä¸ªåè¯(*.*.rabbit)ï¼ç¬¬ä¸ä¸ªåè¯æ¯ lazy çå¤ä¸ªåè¯(lazy.#)\n\n\n\nä¸å¾æ¯ä¸ä¸ªéåç»å®å³ç³»å¾ï¼ä»ä»¬ä¹é´æ°æ®æ¥æ¶æåµï¼\n\n * quick.orange.rabbitï¼è¢«éå Q1Q2 æ¥æ¶å°\n * lazy.orange.elephantï¼è¢«éå Q1Q2 æ¥æ¶å°\n * quick.orange.foxï¼è¢«éå Q1 æ¥æ¶å°\n * lazy.brown.foxï¼è¢«éå Q2 æ¥æ¶å°\n * lazy.pink.rabbitï¼è½ç¶æ»¡è¶³ä¸¤ä¸ªç»å®ä½åªè¢«éå Q2 æ¥æ¶ä¸æ¬¡\n * quick.brown.foxï¼ä¸å¹éä»»ä½ç»å®ä¸ä¼è¢«ä»»ä½éåæ¥æ¶å°ä¼è¢«ä¸¢å¼\n * quick.orange.male.rabbitï¼æ¯åä¸ªåè¯ä¸å¹éä»»ä½ç»å®ä¼è¢«ä¸¢å¼\n * lazy.orange.male.rabbitï¼æ¯åä¸ªåè¯ä½å¹é Q2\n\nå½éåç»å®å³ç³»æ¯ä¸åè¿ç§æåµæ¶éè¦å¼èµ·æ³¨æ\n\n * å½ä¸ä¸ªéåç»å®é®æ¯#ï¼è¿ä¸ªéåå°æ¥æ¶æææ°æ®ï¼å fanout\n * å¦æéåç»å®é®å½ä¸­æ²¡æ#å*åºç°ï¼è¯¥éåç»å®ç±»åå°±æ¯ direct\n\næ¡ä¾ï¼\n\næ¶æ¯åéèï¼\n\npublic class Task0801 {\n    private static final String EXCHANGE_NAME = "topic_logs";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtil.getChannel();\n        // åå»ºä¸ä¸ªäº¤æ¢æº\n        channel.exchangeDeclare(EXCHANGE_NAME, BuiltinExchangeType.TOPIC);\n\n        Map<String, String> bindingKeyMap = new HashMap<>();\n        bindingKeyMap.put("quick.orange.rabbit", "è¢«éå Q1Q2 æ¥æ¶å°");\n        bindingKeyMap.put("lazy.orange.elephant", "è¢«éå Q1Q2 æ¥æ¶å°");\n        bindingKeyMap.put("quick.orange.fox", "è¢«éå Q1 æ¥æ¶å°");\n        bindingKeyMap.put("lazy.brown.fox", "è¢«éå Q2 æ¥æ¶å°");\n        bindingKeyMap.put("lazy.pink.rabbit", "è½ç¶æ»¡è¶³ä¸¤ä¸ªç»å®ä½åªè¢«éå Q2 æ¥æ¶ä¸æ¬¡");\n        bindingKeyMap.put("quick.brown.fox", "ä¸å¹éä»»ä½ç»å®ä¸ä¼è¢«ä»»ä½éåæ¥æ¶å°ä¼è¢«ä¸¢å¼");\n        bindingKeyMap.put("quick.orange.male.rabbit", "æ¯åä¸ªåè¯ä¸å¹éä»»ä½ç»å®ä¼è¢«ä¸¢å¼");\n        bindingKeyMap.put("lazy.orange.male.rabbit", "æ¯åä¸ªåè¯ä½å¹é Q2");\n\n        for (Map.Entry<String, String> bindingKeyEntry : bindingKeyMap.entrySet()) {\n            String bindingKey = bindingKeyEntry.getKey();\n            String message = bindingKeyEntry.getValue();\n            channel.basicPublish(EXCHANGE_NAME, bindingKey, null, message.getBytes(StandardCharsets.UTF_8));\n            System.out.println("çäº§èååºæ¶æ¯:" + message);\n        }\n    }\n}\n\n\næ¶æ¯æ¥æ¶èï¼\n\npublic class Worker0801 {\n\n    private static final String EXCHANGE_NAME = "topic_logs";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtil.getChannel();\n        // åå»ºä¸ä¸ªäº¤æ¢æºï¼äº¤æ¢æºçåå­ä¸ºlogs\n        channel.exchangeDeclare(EXCHANGE_NAME, BuiltinExchangeType.TOPIC);\n        // å£°æä¸ä¸ªéå\n        String queueName = "Q1";\n        channel.queueDeclare(queueName, false, false, false, null);\n        // å°äº¤æ¢æºåéåç»å®\n        channel.queueBind(queueName, EXCHANGE_NAME, "*.orange.*");\n\n        System.out.println("Q1ç­å¾æ¥æ¶æ¶æ¯....");\n\n        // æ¥æ¶å°æ¶æ¯åçå¤çé»è¾ï¼\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String message = new String(delivery.getBody(), StandardCharsets.UTF_8);\n            message = "æ¥æ¶ç»å®é®ï¼" + delivery.getEnvelope().getRoutingKey() + "ï¼æ¶æ¯ï¼" + message;\n            System.out.println(message);\n        };\n        // åæ¶æ¶æ¯æ¶çåè°ï¼\n        CancelCallback cancelCallback = (consumerTag) -> System.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // æ¶è´¹æ¶æ¯\n        channel.basicConsume(queueName, true, deliverCallback, cancelCallback);\n    }\n}\n\n\næ¶æ¯æ¥æ¶èï¼\n\npublic class Worker0802 {\n\n    private static final String EXCHANGE_NAME = "topic_logs";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtil.getChannel();\n        // åå»ºä¸ä¸ªäº¤æ¢æºï¼äº¤æ¢æºçåå­ä¸ºlogs\n        channel.exchangeDeclare(EXCHANGE_NAME, BuiltinExchangeType.TOPIC);\n        // å£°æä¸ä¸ªéå\n        String queueName = "Q2";\n        channel.queueDeclare(queueName, false, false, false, null);\n        // å°äº¤æ¢æºåéåç»å®\n        channel.queueBind(queueName, EXCHANGE_NAME, "*.*.rabbit");\n        channel.queueBind(queueName, EXCHANGE_NAME, "lazy.#");\n\n        System.out.println("Q2ç­å¾æ¥æ¶æ¶æ¯....");\n\n        // æ¥æ¶å°æ¶æ¯åçå¤çé»è¾ï¼\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String message = new String(delivery.getBody(), StandardCharsets.UTF_8);\n            message = "æ¥æ¶ç»å®é®ï¼" + delivery.getEnvelope().getRoutingKey() + "ï¼æ¶æ¯ï¼" + message;\n            System.out.println(message);\n        };\n        // åæ¶æ¶æ¯æ¶çåè°ï¼\n        CancelCallback cancelCallback = (consumerTag) -> System.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // æ¶è´¹æ¶æ¯\n        channel.basicConsume(queueName, true, deliverCallback, cancelCallback);\n    }\n}\n',normalizedContent:'åè®¾å·¥ä½éåèåï¼æ¯ä¸ªä»»å¡é½æ°å¥½äº¤ä»ç»ä¸ä¸ªæ¶è´¹è(å·¥ä½è¿ç¨)ãèå°æ¶æ¯ä¼ è¾¾ç»å¤ä¸ªæ¶è´¹èï¼è¿ç§æ¨¡å¼ç§°ä¸ºâåå¸/è®¢éâã\n\n> ä¾ï¼æå»ºä¸ä¸ªç®åçæ¥å¿ç³»ç»ãå®å°ç±ä¸¤ä¸ªç¨åºç»æï¼ç¬¬ä¸ä¸ªç¨åºå°ååºæ¥å¿æ¶æ¯ï¼ç¬¬äºä¸ªç¨åºæ¯æ¶è´¹èãä¼å¯å¨ä¸¤ä¸ªæ¶è´¹èï¼ä¸ä¸ªæ¶è´¹èæ¥æ¶å°æ¶æ¯åææ¥å¿å­å¨å¨ç£çï¼å¦å¤ä¸ä¸ªæ¶è´¹èæ¥æ¶å°æ¶æ¯åææ¶æ¯æå°å¨å±å¹ä¸ï¼äºå®ä¸ç¬¬ä¸ä¸ªç¨åºååºçæ¥å¿æ¶æ¯å°å¹¿æ­ç»æææ¶è´¹èã\n\n\n# exchanges\n\nrabbitmq æ¶æ¯ä¼ éæ¨¡åçæ ¸å¿ææ³æ¯ï¼çäº§èçäº§çæ¶æ¯ä»ä¸ä¼ç´æ¥åéå°éåã\n\néå¸¸çäº§èä¸ç¥éæ¶æ¯ä¼ éå°äºåªäºéåä¸­ï¼çäº§èåªè½å°æ¶æ¯åéå°äº¤æ¢æº(exchange)ï¼äº¤æ¢æºå·¥ä½çåå®¹éå¸¸ç®åï¼æ¥æ¶æ¥èªçäº§èçæ¶æ¯ï¼å¹¶å°å®ä»¬æ¨å¥éåã äº¤æ¢æºå¿é¡»ç¡®åç¥éå¦ä½å¤çæ¶å°çæ¶æ¯ã\n\näº¤æ¢æºçç±»åå³å®ææ¶æ¯æ¾å°ç¹å®éåï¼è¿æ¯æ¾å°è®¸å¤éåä¸­ï¼æèä¸¢å¼å®ä»¬ã\n\n\n\nexchanges çç±»åï¼\n\n * ç´æ¥(direct)\n * ä¸»é¢(topic)\n * æ é¢(headers)\n * æåº(fanout)\n\n\n# é»è®¤exchange\n\nchannel.basicpublish("", queue_name, null, message.getbytes());\n\n\nç¬¬ä¸ä¸ªåæ°æ¯äº¤æ¢æºçåç§°ãç©ºå­ç¬¦ä¸²è¡¨ç¤ºé»è®¤ææ åç§°äº¤æ¢æºï¼æ¶æ¯è½è·¯ç±åéå°éåä¸­å¶å®æ¯ç±routingkey(bindingkey)ç»å® key æå®çï¼å¦æå®å­å¨çè¯ã\n\n\n# ä¸´æ¶éå\n\nå½è¿æ¥ rabbitmq æ¶ï¼éè¦ä¸ä¸ªå¨æ°çç©ºéåï¼ä¸ºæ­¤å¯ä»¥åå»ºä¸ä¸ªå·æéæºåç§°çéåï¼æèè½è®©æå¡å¨éæºçæéååç§°ãä¸æ¦æ­å¼äºæ¶è´¹èè¿æ¥ï¼éåå°è¢«èªå¨å é¤ã\n\nåå»ºä¸´æ¶éåï¼\n\nstring queuename = channel.queuedeclare().getqueue();\n\n\n\n\n\n# ç»å®(bindings)\n\nå®æ¯ exchange å queue ä¹é´çæ¡¥æ¢ï¼æ¯å¦è¯´ä¸é¢è¿å¼ å¾å°±æ¯ x ä¸ q1 å q2 è¿è¡äºç»å®ï¼\n\n\n\n\n# fanout\n\nfanout ç±»åéå¸¸ç®åãå°æ¥æ¶å°çæææ¶æ¯å¹¿æ­å°å®ç¥éçææéåä¸­ã\n\nç³»ç»ä¸­é»è®¤æäºfanoutç±»åçexchangeï¼\n\n\n\næ¡ä¾ï¼\n\næ¶è´¹èï¼å°æ¥æ¶å°çæ¶æ¯æå°å¨æ§å¶å°\n\npublic class worker0601 {\n\n    private static final string exchange_name = "logs";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutil.getchannel();\n        // åå»ºä¸ä¸ªäº¤æ¢æºï¼äº¤æ¢æºçåå­ä¸ºlogs\n        channel.exchangedeclare(exchange_name, "fanout");\n        // çæä¸ä¸ªä¸´æ¶éåï¼åç§°éæºï¼å½æ¶è´¹èä¸éåæ­å¼è¿æ¥æ¶ï¼è¯¥éåå¯¹èªå¨å é¤\n        string queuename = channel.queuedeclare().getqueue();\n        // å°äº¤æ¢æºåéæºéåç»å®ï¼routingkeyä¹å°±æ¯bindingkeyä¸ºç©ºå­ç¬¦ä¸²\n        channel.queuebind(queuename, exchange_name, "");\n\n        system.out.println("ç­å¾æ¥æ¶æ¶æ¯ï¼è¯¥éåä¼å°æ¶å°çæ¶æ¯æå°åºæ¥....");\n\n        // æ¥æ¶å°æ¶æ¯åçå¤çé»è¾ï¼\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string message = new string(delivery.getbody(), standardcharsets.utf_8);\n            system.out.println("æ¶å°çæ¶æ¯ï¼" + message);\n        };\n        // åæ¶æ¶æ¯æ¶çåè°ï¼\n        cancelcallback cancelcallback = (consumertag) -> system.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // æ¶è´¹æ¶æ¯\n        channel.basicconsume(queuename, true, delivercallback, cancelcallback);\n    }\n}\n\n\næ¶è´¹èï¼å°æ¥æ¶å°çæ¶æ¯å­å¨å¨ç£ç\n\npublic class worker0602 {\n\n    private static final string exchange_name = "logs";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutil.getchannel();\n        // åå»ºä¸ä¸ªäº¤æ¢æºï¼äº¤æ¢æºçåå­ä¸ºlogs\n        channel.exchangedeclare(exchange_name, "fanout");\n        // çæä¸ä¸ªä¸´æ¶éåï¼åç§°éæºï¼å½æ¶è´¹èä¸éåæ­å¼è¿æ¥æ¶ï¼è¯¥éåå¯¹èªå¨å é¤\n        string queuename = channel.queuedeclare().getqueue();\n        // å°äº¤æ¢æºåéæºéåç»å®ï¼routingkeyä¹å°±æ¯bindingkeyä¸ºç©ºå­ç¬¦ä¸²\n        channel.queuebind(queuename, exchange_name, "");\n\n        system.out.println("ç­å¾æ¥æ¶æ¶æ¯ï¼è¯¥éåä¼å°æ¶å°çæ¶æ¯åå¥æä»¶....");\n\n        // æ¥æ¶å°æ¶æ¯åçå¤çé»è¾ï¼\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string message = new string(delivery.getbody(), standardcharsets.utf_8);\n            file file = new file("d:\\\\rabbitmq_info.txt");\n            bufferedwriter bw = new bufferedwriter(new filewriter(file, true));\n            bw.write(message);\n            bw.newline();\n            bw.close();\n            system.out.println("æ°æ®åå¥æä»¶æå");\n        };\n        // åæ¶æ¶æ¯æ¶çåè°ï¼\n        cancelcallback cancelcallback = (consumertag) -> system.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // æ¶è´¹æ¶æ¯\n        channel.basicconsume(queuename, true, delivercallback, cancelcallback);\n    }\n}\n\n\nçäº§èï¼åéæ¶æ¯ç»ä¸¤ä¸ªæ¶è´¹èæ¥æ¶\n\npublic class task0601 {\n    private static final string exchange_name = "logs";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutil.getchannel();\n        // åå»ºä¸ä¸ªäº¤æ¢æºï¼äº¤æ¢æºçåå­ä¸ºlogs\n        channel.exchangedeclare(exchange_name, "fanout");\n\n        scanner sc = new scanner(system.in);\n        system.out.println("è¯·è¾å¥ä¿¡æ¯ï¼");\n        while (sc.hasnext()) {\n            string message = sc.nextline();\n            channel.basicpublish(exchange_name, "", null, message.getbytes("utf-8"));\n            system.out.println("çäº§èååºæ¶æ¯" + message);\n        }\n    }\n}\n\n\n\n# direct\n\nå¯¹äºä¸é¢çæ¡ä¾ï¼å¸æå°æ¥å¿æ¶æ¯åå¥ç£ççç¨åºä»åå¥ä¸¥ééè¯¯(errros)ï¼èä¸å­å¨è­¦å(warning)æä¿¡æ¯(info)æ¥å¿ æ¶æ¯é¿åæµªè´¹ç£çç©ºé´ãfanout äº¤æ¢ç±»ååªè½è¿è¡æ æè¯çå¹¿æ­ï¼æä»¥è¿éä½¿ç¨ direct ç±»åæ¥è¿è¡æ¿æ¢ï¼å®å·¥ä½æ¹å¼æ¯ï¼æ¶æ¯åªå»å°å®ç»å®çroutingkey éåä¸­å»ã\n\n\n\nå¨ä¸é¢è¿å¼ å¾ä¸­ï¼å¯ä»¥çå° x ç»å®äºä¸¤ä¸ªéåï¼ç»å®ç±»åæ¯ directãéåq1 ç»å®é®ä¸º orangeï¼éå q2 ç»å®é®æä¸¤ä¸ªï¼ä¸ä¸ªç»å®é®ä¸º blackï¼å¦ä¸ä¸ªç»å®é®ä¸º greenã\n\nå¨è¿ç§ç»å®æåµä¸ï¼çäº§èåå¸æ¶æ¯å° exchange ä¸ï¼ç»å®é®ä¸º orange çæ¶æ¯ä¼è¢«åå¸å°éåq1ãç»å®é®ä¸ºblackågreençæ¶æ¯ä¼è¢«åå¸å°éå q2ï¼å¶ä»æ¶æ¯ç±»åçæ¶æ¯å°è¢«ä¸¢å¼ã\n\nå¤éç»å®ï¼\n\n\n\nå½ç¶å¦æ exchange çç»å®ç±»åæ¯directï¼ä½æ¯å®ç»å®çå¤ä¸ªéåç key å¦æé½ç¸åï¼å¨è¿ç§æåµä¸è½ç¶ç»å®ç±»åæ¯ direct ä½æ¯å®è¡¨ç°çå°±å fanout æç¹ç±»ä¼¼äºï¼å°±è·å¹¿æ­å·®ä¸å¤ï¼å¦ä¸å¾æç¤ºã\n\næ¡ä¾ï¼\n\n\n\næ¶æ¯åéèï¼\n\npublic class task0701 {\n    private static final string exchange_name = "direct_logs";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutil.getchannel();\n        // åå»ºä¸ä¸ªäº¤æ¢æº\n        channel.exchangedeclare(exchange_name, builtinexchangetype.direct);\n\n        map<string, string>  bindingkeymap = new hashmap<>();\n        bindingkeymap.put("info","æ®é info ä¿¡æ¯");\n        bindingkeymap.put("warning","è­¦å warning ä¿¡æ¯");\n        bindingkeymap.put("error","éè¯¯ error ä¿¡æ¯");\n        // debug æ²¡ææ¶è´¹è¿æ¥æ¶è¿ä¸ªæ¶æ¯ ææå°±ä¸¢å¤±äº\n        bindingkeymap.put("debug","è°è¯ debug ä¿¡æ¯");\n        for (map.entry<string, string> bindingkeyentry : bindingkeymap.entryset()) {\n            string bindingkey = bindingkeyentry.getkey();\n            string message = bindingkeyentry.getvalue();\n            channel.basicpublish(exchange_name, bindingkey, null, message.getbytes(standardcharsets.utf_8));\n            system.out.println("çäº§èååºæ¶æ¯:" + message);\n        }\n    }\n}\n\n\næ¶æ¯æ¥æ¶èï¼\n\npublic class worker0701 {\n\n    private static final string exchange_name = "direct_logs";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutil.getchannel();\n        // åå»ºä¸ä¸ªäº¤æ¢æºï¼äº¤æ¢æºçåå­ä¸ºlogs\n        channel.exchangedeclare(exchange_name, builtinexchangetype.direct);\n        // å£°æä¸ä¸ªéå\n        string queuename = "console";\n        channel.queuedeclare(queuename, false, false, false, null);\n        // å°äº¤æ¢æºåéåç»å®\n        channel.queuebind(queuename, exchange_name, "info");\n        channel.queuebind(queuename, exchange_name, "warning");\n\n        system.out.println("ç­å¾æ¥æ¶æ¶æ¯ï¼è¯¥éåä¼å°æ¶å°çæ¶æ¯æå°åºæ¥....");\n\n        // æ¥æ¶å°æ¶æ¯åçå¤çé»è¾ï¼\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string message = new string(delivery.getbody(), standardcharsets.utf_8);\n            message = "æ¥æ¶ç»å®é®ï¼" + delivery.getenvelope().getroutingkey() + "ï¼æ¶æ¯ï¼" + message;\n            system.out.println(message);\n        };\n        // åæ¶æ¶æ¯æ¶çåè°ï¼\n        cancelcallback cancelcallback = (consumertag) -> system.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // æ¶è´¹æ¶æ¯\n        channel.basicconsume(queuename, true, delivercallback, cancelcallback);\n    }\n}\n\n\næ¶æ¯æ¥æ¶èï¼\n\npublic class worker0702 {\n\n    private static final string exchange_name = "direct_logs";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutil.getchannel();\n        // åå»ºä¸ä¸ªäº¤æ¢æºï¼äº¤æ¢æºçåå­ä¸ºlogs\n        channel.exchangedeclare(exchange_name, builtinexchangetype.direct);\n        // å£°æä¸ä¸ªéå\n        string queuename = "disk";\n        channel.queuedeclare(queuename, false, false, false, null);\n        // å°äº¤æ¢æºåéåç»å®\n        channel.queuebind(queuename, exchange_name, "error");\n\n        system.out.println("ç­å¾æ¥æ¶æ¶æ¯ï¼è¯¥éåä¼å°æ¶å°çæ¶æ¯åå¥æä»¶....");\n\n        // æ¥æ¶å°æ¶æ¯åçå¤çé»è¾ï¼\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string message = new string(delivery.getbody(), standardcharsets.utf_8);\n            message = "æ¥æ¶ç»å®é®ï¼" + delivery.getenvelope().getroutingkey() + "ï¼æ¶æ¯ï¼" + message;\n            file file = new file("d:\\\\rabbitmq_info.txt");\n            bufferedwriter bw = new bufferedwriter(new filewriter(file, true));\n            bw.write(message);\n            bw.newline();\n            bw.close();\n            system.out.println("éè¯¯æ¥å¿åå¥æä»¶æå");\n        };\n        // åæ¶æ¶æ¯æ¶çåè°ï¼\n        cancelcallback cancelcallback = (consumertag) -> system.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // æ¶è´¹æ¶æ¯\n        channel.basicconsume(queuename, true, delivercallback, cancelcallback);\n    }\n}\n\n\n\n# topics\n\nå°½ç®¡ä½¿ç¨directäº¤æ¢æºæ¹è¿äºæ¥å¿ç³»ç»ï¼ä»ç¶å­å¨å±éæ§ï¼æ¯å¦æ³æ¥æ¶çæ¥å¿ç±»åæinfo.base å info.advantageï¼æä¸ªéååªæ³ info.base çæ¶æ¯ï¼é£è¿ä¸ªæ¶ådirect å°±åä¸å°äºãè¿ä¸ªæ¶åå°±åªè½ä½¿ç¨ topic ç±»åã\n\nåéå°ç±»åæ¯ topic äº¤æ¢æºçæ¶æ¯ç routing_key ä¸è½éæåï¼å¿é¡»æ»¡è¶³ä¸å®çè¦æ±ï¼å®å¿é¡»æ¯ä¸ä¸ªåè¯åè¡¨ï¼ä»¥ç¹å·åéå¼ãè¿äºåè¯å¯ä»¥æ¯ä»»æåè¯ï¼æ¯å¦è¯´ï¼"stock.usd.nyse", "nyse.vmw", "quick.orange.rabbit"è¿ç§ç±»åçãå½ç¶è¿ä¸ªåè¯åè¡¨æå¤ä¸è½è¶è¿ 255 ä¸ªå­èã\n\nå¨è¿ä¸ªè§ååè¡¨ä¸­ï¼æä¸¤ä¸ªæ¿æ¢ç¬¦ï¼\n\n * *(æå·)å¯ä»¥ä»£æ¿ä¸ä¸ªåè¯\n * #(äºå·)å¯ä»¥æ¿ä»£é¶ä¸ªæå¤ä¸ªåè¯\n\n\n# å¹éæ¡ä¾\n\nä¸å¾ç»å®å³ç³»å¦ä¸ï¼\n\n * q1--\x3eç»å®çæ¯ä¸­é´å¸¦ orange å¸¦ 3 ä¸ªåè¯çå­ç¬¦ä¸²(*.orange.*)\n * q2--\x3eç»å®çæ¯æåä¸ä¸ªåè¯æ¯ rabbit ç 3 ä¸ªåè¯(*.*.rabbit)ï¼ç¬¬ä¸ä¸ªåè¯æ¯ lazy çå¤ä¸ªåè¯(lazy.#)\n\n\n\nä¸å¾æ¯ä¸ä¸ªéåç»å®å³ç³»å¾ï¼ä»ä»¬ä¹é´æ°æ®æ¥æ¶æåµï¼\n\n * quick.orange.rabbitï¼è¢«éå q1q2 æ¥æ¶å°\n * lazy.orange.elephantï¼è¢«éå q1q2 æ¥æ¶å°\n * quick.orange.foxï¼è¢«éå q1 æ¥æ¶å°\n * lazy.brown.foxï¼è¢«éå q2 æ¥æ¶å°\n * lazy.pink.rabbitï¼è½ç¶æ»¡è¶³ä¸¤ä¸ªç»å®ä½åªè¢«éå q2 æ¥æ¶ä¸æ¬¡\n * quick.brown.foxï¼ä¸å¹éä»»ä½ç»å®ä¸ä¼è¢«ä»»ä½éåæ¥æ¶å°ä¼è¢«ä¸¢å¼\n * quick.orange.male.rabbitï¼æ¯åä¸ªåè¯ä¸å¹éä»»ä½ç»å®ä¼è¢«ä¸¢å¼\n * lazy.orange.male.rabbitï¼æ¯åä¸ªåè¯ä½å¹é q2\n\nå½éåç»å®å³ç³»æ¯ä¸åè¿ç§æåµæ¶éè¦å¼èµ·æ³¨æ\n\n * å½ä¸ä¸ªéåç»å®é®æ¯#ï¼è¿ä¸ªéåå°æ¥æ¶æææ°æ®ï¼å fanout\n * å¦æéåç»å®é®å½ä¸­æ²¡æ#å*åºç°ï¼è¯¥éåç»å®ç±»åå°±æ¯ direct\n\næ¡ä¾ï¼\n\næ¶æ¯åéèï¼\n\npublic class task0801 {\n    private static final string exchange_name = "topic_logs";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutil.getchannel();\n        // åå»ºä¸ä¸ªäº¤æ¢æº\n        channel.exchangedeclare(exchange_name, builtinexchangetype.topic);\n\n        map<string, string> bindingkeymap = new hashmap<>();\n        bindingkeymap.put("quick.orange.rabbit", "è¢«éå q1q2 æ¥æ¶å°");\n        bindingkeymap.put("lazy.orange.elephant", "è¢«éå q1q2 æ¥æ¶å°");\n        bindingkeymap.put("quick.orange.fox", "è¢«éå q1 æ¥æ¶å°");\n        bindingkeymap.put("lazy.brown.fox", "è¢«éå q2 æ¥æ¶å°");\n        bindingkeymap.put("lazy.pink.rabbit", "è½ç¶æ»¡è¶³ä¸¤ä¸ªç»å®ä½åªè¢«éå q2 æ¥æ¶ä¸æ¬¡");\n        bindingkeymap.put("quick.brown.fox", "ä¸å¹éä»»ä½ç»å®ä¸ä¼è¢«ä»»ä½éåæ¥æ¶å°ä¼è¢«ä¸¢å¼");\n        bindingkeymap.put("quick.orange.male.rabbit", "æ¯åä¸ªåè¯ä¸å¹éä»»ä½ç»å®ä¼è¢«ä¸¢å¼");\n        bindingkeymap.put("lazy.orange.male.rabbit", "æ¯åä¸ªåè¯ä½å¹é q2");\n\n        for (map.entry<string, string> bindingkeyentry : bindingkeymap.entryset()) {\n            string bindingkey = bindingkeyentry.getkey();\n            string message = bindingkeyentry.getvalue();\n            channel.basicpublish(exchange_name, bindingkey, null, message.getbytes(standardcharsets.utf_8));\n            system.out.println("çäº§èååºæ¶æ¯:" + message);\n        }\n    }\n}\n\n\næ¶æ¯æ¥æ¶èï¼\n\npublic class worker0801 {\n\n    private static final string exchange_name = "topic_logs";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutil.getchannel();\n        // åå»ºä¸ä¸ªäº¤æ¢æºï¼äº¤æ¢æºçåå­ä¸ºlogs\n        channel.exchangedeclare(exchange_name, builtinexchangetype.topic);\n        // å£°æä¸ä¸ªéå\n        string queuename = "q1";\n        channel.queuedeclare(queuename, false, false, false, null);\n        // å°äº¤æ¢æºåéåç»å®\n        channel.queuebind(queuename, exchange_name, "*.orange.*");\n\n        system.out.println("q1ç­å¾æ¥æ¶æ¶æ¯....");\n\n        // æ¥æ¶å°æ¶æ¯åçå¤çé»è¾ï¼\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string message = new string(delivery.getbody(), standardcharsets.utf_8);\n            message = "æ¥æ¶ç»å®é®ï¼" + delivery.getenvelope().getroutingkey() + "ï¼æ¶æ¯ï¼" + message;\n            system.out.println(message);\n        };\n        // åæ¶æ¶æ¯æ¶çåè°ï¼\n        cancelcallback cancelcallback = (consumertag) -> system.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // æ¶è´¹æ¶æ¯\n        channel.basicconsume(queuename, true, delivercallback, cancelcallback);\n    }\n}\n\n\næ¶æ¯æ¥æ¶èï¼\n\npublic class worker0802 {\n\n    private static final string exchange_name = "topic_logs";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutil.getchannel();\n        // åå»ºä¸ä¸ªäº¤æ¢æºï¼äº¤æ¢æºçåå­ä¸ºlogs\n        channel.exchangedeclare(exchange_name, builtinexchangetype.topic);\n        // å£°æä¸ä¸ªéå\n        string queuename = "q2";\n        channel.queuedeclare(queuename, false, false, false, null);\n        // å°äº¤æ¢æºåéåç»å®\n        channel.queuebind(queuename, exchange_name, "*.*.rabbit");\n        channel.queuebind(queuename, exchange_name, "lazy.#");\n\n        system.out.println("q2ç­å¾æ¥æ¶æ¶æ¯....");\n\n        // æ¥æ¶å°æ¶æ¯åçå¤çé»è¾ï¼\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string message = new string(delivery.getbody(), standardcharsets.utf_8);\n            message = "æ¥æ¶ç»å®é®ï¼" + delivery.getenvelope().getroutingkey() + "ï¼æ¶æ¯ï¼" + message;\n            system.out.println(message);\n        };\n        // åæ¶æ¶æ¯æ¶çåè°ï¼\n        cancelcallback cancelcallback = (consumertag) -> system.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // æ¶è´¹æ¶æ¯\n        channel.basicconsume(queuename, true, delivercallback, cancelcallback);\n    }\n}\n',charsets:{cjk:!0},lastUpdated:"2022/11/30, 16:24:57",lastUpdatedTimestamp:1669796697e3},{title:"SpringBootæ´åRabbitMQ",frontmatter:{title:"SpringBootæ´åRabbitMQ",date:"2022-12-05T10:38:33.000Z",permalink:"/pages/0dmo0ykv/",categories:["ä¸­é´ä»¶","Springçæ"],tags:["RabbitMQ","SpringBoot"],author:{name:"ä¹æ¨åç"}},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/01.%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6/1001.RabbitMQ/08.SpringBoot%E6%95%B4%E5%90%88RabbitMQ.html",relativePath:"04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/08.SpringBootæ´åRabbitMQ.md",key:"v-61a56867",path:"/pages/0dmo0ykv/",headers:[{level:2,title:"åå»ºé¡¹ç®",slug:"åå»ºé¡¹ç®",normalizedTitle:"åå»ºé¡¹ç®",charIndex:124},{level:2,title:"ä¿®æ¹pomæä»¶",slug:"ä¿®æ¹pomæä»¶",normalizedTitle:"ä¿®æ¹pomæä»¶",charIndex:135},{level:2,title:"ä¿®æ¹éç½®æä»¶",slug:"ä¿®æ¹éç½®æä»¶",normalizedTitle:"ä¿®æ¹éç½®æä»¶",charIndex:1010},{level:2,title:"åå»ºéç½®æä»¶ç±»",slug:"åå»ºéç½®æä»¶ç±»",normalizedTitle:"åå»ºéç½®æä»¶ç±»",charIndex:1149},{level:2,title:"æ¶æ¯çäº§è",slug:"æ¶æ¯çäº§è",normalizedTitle:"æ¶æ¯çäº§è",charIndex:3862},{level:2,title:"æ¶æ¯æ¶è´¹è",slug:"æ¶æ¯æ¶è´¹è",normalizedTitle:"æ¶æ¯æ¶è´¹è",charIndex:4362},{level:2,title:"æµè¯",slug:"æµè¯",normalizedTitle:"æµè¯",charIndex:572}],excerpt:'<p>SpringAMQPæ¯åºäºRabbitMQå°è£çä¸å¥æ¨¡æ¿ï¼å¹¶ä¸è¿å©ç¨SpringBootå¯¹å¶å®ç°äºèªå¨è£éï¼ä½¿ç¨èµ·æ¥éå¸¸æ¹ä¾¿ã</p>\n<p>SpringAmqpçå®æ¹å°åï¼<a href="https://spring.io/projects/spring-amqp" target="_blank" rel="noopener noreferrer">https://spring.io/projects/spring-amqp<OutboundLink/></a></p>\n',headersStr:"åå»ºé¡¹ç® ä¿®æ¹pomæä»¶ ä¿®æ¹éç½®æä»¶ åå»ºéç½®æä»¶ç±» æ¶æ¯çäº§è æ¶æ¯æ¶è´¹è æµè¯",content:'SpringAMQPæ¯åºäºRabbitMQå°è£çä¸å¥æ¨¡æ¿ï¼å¹¶ä¸è¿å©ç¨SpringBootå¯¹å¶å®ç°äºèªå¨è£éï¼ä½¿ç¨èµ·æ¥éå¸¸æ¹ä¾¿ã\n\nSpringAmqpçå®æ¹å°åï¼https://spring.io/projects/spring-amqp\n\n\n# åå»ºé¡¹ç®\n\n\n\n\n# ä¿®æ¹pomæä»¶\n\nå°SpringBootççæ¬æ¹ä¸º2.3.4.RELEASE\n\n<parent>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-parent</artifactId>\n    <version>2.3.4.RELEASE</version>\n    <relativePath/> \x3c!-- lookup parent from repository --\x3e\n</parent>\n\n\næ·»å RabbitMQä¾èµï¼\n\n\x3c!--RabbitMQ ä¾èµ--\x3e\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-amqp</artifactId>\n</dependency>\n\x3c!--RabbitMQ æµè¯ä¾èµ--\x3e\n<dependency>\n    <groupId>org.springframework.amqp</groupId>\n    <artifactId>spring-rabbit-test</artifactId>\n    <scope>test</scope>\n</dependency>\n\n\nå¶ä»ä¾èµæ ¹æ®å®éæåµæ·»å ï¼\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-web</artifactId>\n</dependency>\n\n<dependency>\n    <groupId>org.projectlombok</groupId>\n    <artifactId>lombok</artifactId>\n    <scope>provided</scope>\n</dependency>\n\n\n\n# ä¿®æ¹éç½®æä»¶\n\nspring.rabbitmq.host=192.168.182.130\nspring.rabbitmq.port=5672\nspring.rabbitmq.username=admin\nspring.rabbitmq.password=123123\n\n\n\n# åå»ºéç½®æä»¶ç±»\n\nåå»ºä¸¤ä¸ªéå QA å QBï¼ä¸¤èéå TTL åå«è®¾ç½®ä¸º 10S å 40Sï¼ç¶åå¨åå»ºä¸ä¸ªäº¤æ¢æº X åæ­»ä¿¡äº¤æ¢æº Yï¼å®ä»¬çç±»åé½æ¯directï¼åå»ºä¸ä¸ªæ­»ä¿¡éå QDï¼å®ä»¬çç»å®å³ç³»å¦ä¸ï¼\n\n\n\nimport org.springframework.amqp.core.*;\n\n@Configuration\npublic class TtlQueueConfig {\n\n    public static final String X_EXCHANGE = "X";\n    public static final String QUEUE_A = "A";\n    public static final String QUEUE_B = "B";\n    public static final String Y_DEAD_LETTER_EXCHANGE = "Y";\n    public static final String DEAD_LETTER_QUEUE = "D";\n\n    /**\n     * å£°æ X äº¤æ¢æº\n     */\n    @Bean("xExchange")\n    public DirectExchange xExchange() {\n        return new DirectExchange(X_EXCHANGE);\n    }\n\n    /**\n     * å£°æ Y æ­»ä¿¡äº¤æ¢æº\n     */\n    @Bean("yExchange")\n    public DirectExchange yExchange() {\n        return new DirectExchange(Y_DEAD_LETTER_EXCHANGE);\n    }\n\n    /**\n     * å£°æ A éåï¼ç»å®æ­»ä¿¡äº¤æ¢æºï¼å¹¶è®¾ç½®TTLæ¶é´ä¸º 10 ç§\n     */\n    @Bean("aQueue")\n    public Queue aQueue() {\n        Map<String, Object> args = new HashMap<>(3);\n        // å£°æå½åéåç»å®çæ­»ä¿¡äº¤æ¢æº\n        args.put("x-dead-letter-exchange", Y_DEAD_LETTER_EXCHANGE);\n        // å£°æå½åéåçæ­»ä¿¡è·¯ç± key\n        args.put("x-dead-letter-routing-key", "YD");\n        // å£°æéåç TTL\n        args.put("x-message-ttl", 10000);\n        return QueueBuilder.durable(QUEUE_A).withArguments(args).build();\n    }\n\n    /**\n     * å£°æ A éåä¸ X äº¤æ¢æºç»å®\n     */\n    @Bean\n    public Binding aQueueBindingX(@Qualifier("aQueue") Queue aQueue,\n                                  @Qualifier("xExchange") DirectExchange xExchange) {\n        return BindingBuilder.bind(aQueue).to(xExchange).with("XA");\n    }\n\n    /**\n     * å£°æ B éåï¼ç»å®æ­»ä¿¡äº¤æ¢æºï¼å¹¶è®¾ç½®TTLæ¶é´ä¸º 40 ç§\n     */\n    @Bean("bQueue")\n    public Queue bQueue() {\n        Map<String, Object> args = new HashMap<>(3);\n        //å£°æå½åéåç»å®çæ­»ä¿¡äº¤æ¢æº\n        args.put("x-dead-letter-exchange", Y_DEAD_LETTER_EXCHANGE);\n        //å£°æå½åéåçæ­»ä¿¡è·¯ç± key\n        args.put("x-dead-letter-routing-key", "YD");\n        //å£°æéåç TTL\n        args.put("x-message-ttl", 40000);\n        return QueueBuilder.durable(QUEUE_B).withArguments(args).build();\n    }\n\n    /**\n     * å£°æéåAä¸äº¤æ¢æºXç»å®\n     */\n    @Bean\n    public Binding bQueueBindingX(@Qualifier("bQueue") Queue bQueue,\n                                  @Qualifier("xExchange") DirectExchange xExchange) {\n        return BindingBuilder.bind(bQueue).to(xExchange).with("XB");\n    }\n\n    /**\n     * å£°ææ­»ä¿¡éå D\n     */\n    @Bean("dQueue")\n    public Queue dQueue() {\n        return new Queue(DEAD_LETTER_QUEUE);\n    }\n\n    /**\n     * å£°ææ­»ä¿¡éå D ä¸æ­»ä¿¡äº¤æ¢æº Y ç»å®\n     */\n    @Bean\n    public Binding dDeadLetterQueueBindingY(@Qualifier("dQueue") Queue queueD,\n                                            @Qualifier("yExchange") DirectExchange yExchange) {\n        return BindingBuilder.bind(queueD).to(yExchange).with("YD");\n    }\n}\n\n\n\n# æ¶æ¯çäº§è\n\n@Slf4j\n@RequestMapping("/ttl")\n@RestController\npublic class SendMsgController {\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    @GetMapping("sendMsg/{message}")\n    public void sendMsg(@PathVariable String message) {\n        log.info("å½åæ¶é´ï¼{}ï¼åéä¸æ¡ä¿¡æ¯ç»ä¸¤ä¸ª TTL éåï¼{}", LocalDateTime.now(), message);\n        rabbitTemplate.convertAndSend("X", "XA", "æ¶æ¯æ¥èª ttl ä¸º 10S çéå: " + message);\n        rabbitTemplate.convertAndSend("X", "XB", "æ¶æ¯æ¥èª ttl ä¸º 40S çéå: " + message);\n    }\n}\n\n\n\n# æ¶æ¯æ¶è´¹è\n\n@Slf4j\n@Component\npublic class DeadLetterQueueConsumer {\n\n    @RabbitListener(queues = TtlQueueConfig.DEAD_LETTER_QUEUE)\n    public void receiveD(Message message, Channel channel) {\n        String msg = new String(message.getBody());\n        log.info("å½åæ¶é´ï¼{}ï¼æ¶å°æ­»ä¿¡éåä¿¡æ¯{}", LocalDateTime.now(), msg);\n    }\n}\n\n\n\n# æµè¯\n\nå¯å¨é¡¹ç®ï¼åèµ·ä¸ä¸ªè¯·æ± http://localhost:8080/ttl/sendMsg/124123\n\n\n\nç¬¬ä¸æ¡æ¶æ¯å¨ 10S ååæäºæ­»ä¿¡æ¶æ¯ï¼ç¶åè¢«æ¶è´¹èæ¶è´¹æï¼ç¬¬äºæ¡æ¶æ¯å¨ 40S ä¹ååæäºæ­»ä¿¡æ¶æ¯ï¼ç¶åè¢«æ¶è´¹æï¼è¿æ ·ä¸ä¸ªå»¶æ¶éåå°±æé å®æäºã',normalizedContent:'springamqpæ¯åºäºrabbitmqå°è£çä¸å¥æ¨¡æ¿ï¼å¹¶ä¸è¿å©ç¨springbootå¯¹å¶å®ç°äºèªå¨è£éï¼ä½¿ç¨èµ·æ¥éå¸¸æ¹ä¾¿ã\n\nspringamqpçå®æ¹å°åï¼https://spring.io/projects/spring-amqp\n\n\n# åå»ºé¡¹ç®\n\n\n\n\n# ä¿®æ¹pomæä»¶\n\nå°springbootççæ¬æ¹ä¸º2.3.4.release\n\n<parent>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-parent</artifactid>\n    <version>2.3.4.release</version>\n    <relativepath/> \x3c!-- lookup parent from repository --\x3e\n</parent>\n\n\næ·»å rabbitmqä¾èµï¼\n\n\x3c!--rabbitmq ä¾èµ--\x3e\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-amqp</artifactid>\n</dependency>\n\x3c!--rabbitmq æµè¯ä¾èµ--\x3e\n<dependency>\n    <groupid>org.springframework.amqp</groupid>\n    <artifactid>spring-rabbit-test</artifactid>\n    <scope>test</scope>\n</dependency>\n\n\nå¶ä»ä¾èµæ ¹æ®å®éæåµæ·»å ï¼\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-web</artifactid>\n</dependency>\n\n<dependency>\n    <groupid>org.projectlombok</groupid>\n    <artifactid>lombok</artifactid>\n    <scope>provided</scope>\n</dependency>\n\n\n\n# ä¿®æ¹éç½®æä»¶\n\nspring.rabbitmq.host=192.168.182.130\nspring.rabbitmq.port=5672\nspring.rabbitmq.username=admin\nspring.rabbitmq.password=123123\n\n\n\n# åå»ºéç½®æä»¶ç±»\n\nåå»ºä¸¤ä¸ªéå qa å qbï¼ä¸¤èéå ttl åå«è®¾ç½®ä¸º 10s å 40sï¼ç¶åå¨åå»ºä¸ä¸ªäº¤æ¢æº x åæ­»ä¿¡äº¤æ¢æº yï¼å®ä»¬çç±»åé½æ¯directï¼åå»ºä¸ä¸ªæ­»ä¿¡éå qdï¼å®ä»¬çç»å®å³ç³»å¦ä¸ï¼\n\n\n\nimport org.springframework.amqp.core.*;\n\n@configuration\npublic class ttlqueueconfig {\n\n    public static final string x_exchange = "x";\n    public static final string queue_a = "a";\n    public static final string queue_b = "b";\n    public static final string y_dead_letter_exchange = "y";\n    public static final string dead_letter_queue = "d";\n\n    /**\n     * å£°æ x äº¤æ¢æº\n     */\n    @bean("xexchange")\n    public directexchange xexchange() {\n        return new directexchange(x_exchange);\n    }\n\n    /**\n     * å£°æ y æ­»ä¿¡äº¤æ¢æº\n     */\n    @bean("yexchange")\n    public directexchange yexchange() {\n        return new directexchange(y_dead_letter_exchange);\n    }\n\n    /**\n     * å£°æ a éåï¼ç»å®æ­»ä¿¡äº¤æ¢æºï¼å¹¶è®¾ç½®ttlæ¶é´ä¸º 10 ç§\n     */\n    @bean("aqueue")\n    public queue aqueue() {\n        map<string, object> args = new hashmap<>(3);\n        // å£°æå½åéåç»å®çæ­»ä¿¡äº¤æ¢æº\n        args.put("x-dead-letter-exchange", y_dead_letter_exchange);\n        // å£°æå½åéåçæ­»ä¿¡è·¯ç± key\n        args.put("x-dead-letter-routing-key", "yd");\n        // å£°æéåç ttl\n        args.put("x-message-ttl", 10000);\n        return queuebuilder.durable(queue_a).witharguments(args).build();\n    }\n\n    /**\n     * å£°æ a éåä¸ x äº¤æ¢æºç»å®\n     */\n    @bean\n    public binding aqueuebindingx(@qualifier("aqueue") queue aqueue,\n                                  @qualifier("xexchange") directexchange xexchange) {\n        return bindingbuilder.bind(aqueue).to(xexchange).with("xa");\n    }\n\n    /**\n     * å£°æ b éåï¼ç»å®æ­»ä¿¡äº¤æ¢æºï¼å¹¶è®¾ç½®ttlæ¶é´ä¸º 40 ç§\n     */\n    @bean("bqueue")\n    public queue bqueue() {\n        map<string, object> args = new hashmap<>(3);\n        //å£°æå½åéåç»å®çæ­»ä¿¡äº¤æ¢æº\n        args.put("x-dead-letter-exchange", y_dead_letter_exchange);\n        //å£°æå½åéåçæ­»ä¿¡è·¯ç± key\n        args.put("x-dead-letter-routing-key", "yd");\n        //å£°æéåç ttl\n        args.put("x-message-ttl", 40000);\n        return queuebuilder.durable(queue_b).witharguments(args).build();\n    }\n\n    /**\n     * å£°æéåaä¸äº¤æ¢æºxç»å®\n     */\n    @bean\n    public binding bqueuebindingx(@qualifier("bqueue") queue bqueue,\n                                  @qualifier("xexchange") directexchange xexchange) {\n        return bindingbuilder.bind(bqueue).to(xexchange).with("xb");\n    }\n\n    /**\n     * å£°ææ­»ä¿¡éå d\n     */\n    @bean("dqueue")\n    public queue dqueue() {\n        return new queue(dead_letter_queue);\n    }\n\n    /**\n     * å£°ææ­»ä¿¡éå d ä¸æ­»ä¿¡äº¤æ¢æº y ç»å®\n     */\n    @bean\n    public binding ddeadletterqueuebindingy(@qualifier("dqueue") queue queued,\n                                            @qualifier("yexchange") directexchange yexchange) {\n        return bindingbuilder.bind(queued).to(yexchange).with("yd");\n    }\n}\n\n\n\n# æ¶æ¯çäº§è\n\n@slf4j\n@requestmapping("/ttl")\n@restcontroller\npublic class sendmsgcontroller {\n\n    @autowired\n    private rabbittemplate rabbittemplate;\n\n    @getmapping("sendmsg/{message}")\n    public void sendmsg(@pathvariable string message) {\n        log.info("å½åæ¶é´ï¼{}ï¼åéä¸æ¡ä¿¡æ¯ç»ä¸¤ä¸ª ttl éåï¼{}", localdatetime.now(), message);\n        rabbittemplate.convertandsend("x", "xa", "æ¶æ¯æ¥èª ttl ä¸º 10s çéå: " + message);\n        rabbittemplate.convertandsend("x", "xb", "æ¶æ¯æ¥èª ttl ä¸º 40s çéå: " + message);\n    }\n}\n\n\n\n# æ¶æ¯æ¶è´¹è\n\n@slf4j\n@component\npublic class deadletterqueueconsumer {\n\n    @rabbitlistener(queues = ttlqueueconfig.dead_letter_queue)\n    public void received(message message, channel channel) {\n        string msg = new string(message.getbody());\n        log.info("å½åæ¶é´ï¼{}ï¼æ¶å°æ­»ä¿¡éåä¿¡æ¯{}", localdatetime.now(), msg);\n    }\n}\n\n\n\n# æµè¯\n\nå¯å¨é¡¹ç®ï¼åèµ·ä¸ä¸ªè¯·æ± http://localhost:8080/ttl/sendmsg/124123\n\n\n\nç¬¬ä¸æ¡æ¶æ¯å¨ 10s ååæäºæ­»ä¿¡æ¶æ¯ï¼ç¶åè¢«æ¶è´¹èæ¶è´¹æï¼ç¬¬äºæ¡æ¶æ¯å¨ 40s ä¹ååæäºæ­»ä¿¡æ¶æ¯ï¼ç¶åè¢«æ¶è´¹æï¼è¿æ ·ä¸ä¸ªå»¶æ¶éåå°±æé å®æäºã',charsets:{cjk:!0},lastUpdated:"2022/11/25, 18:48:06",lastUpdatedTimestamp:1669373286e3},{title:"RabbitMQæ­»ä¿¡éå",frontmatter:{title:"RabbitMQæ­»ä¿¡éå",date:"2022-12-04T17:24:29.000Z",permalink:"/pages/l98puwie",categories:["ä¸­é´ä»¶"],tags:["RabbitMQ"],author:{name:"ä¹æ¨åç"}},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/01.%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6/1001.RabbitMQ/07.RabbitMQ%E6%AD%BB%E4%BF%A1%E9%98%9F%E5%88%97.html",relativePath:"04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/07.RabbitMQæ­»ä¿¡éå.md",key:"v-676e814a",path:"/pages/l98puwie/",headers:[{level:2,title:"æ­»ä¿¡çæ¥æº",slug:"æ­»ä¿¡çæ¥æº",normalizedTitle:"æ­»ä¿¡çæ¥æº",charIndex:260},{level:2,title:"æ¶æ¯TTLè¿æ",slug:"æ¶æ¯ttlè¿æ",normalizedTitle:"æ¶æ¯ttlè¿æ",charIndex:371},{level:2,title:"éåè¾¾å°æå¤§é¿åº¦",slug:"éåè¾¾å°æå¤§é¿åº¦",normalizedTitle:"éåè¾¾å°æå¤§é¿åº¦",charIndex:283},{level:2,title:"æ¶æ¯è¢«æ",slug:"æ¶æ¯è¢«æ",normalizedTitle:"æ¶æ¯è¢«æ",charIndex:315}],excerpt:"<p>æ­»ä¿¡ï¼å°±æ¯æ æ³è¢«æ¶è´¹çæ¶æ¯ï¼ä¸è¬æ¥è¯´ï¼producer å°æ¶æ¯æéå° broker æèç´æ¥å°queue éäºï¼consumer ä» queue ååºæ¶æ¯è¿è¡æ¶è´¹ï¼ä½æäºæ¶åç±äºç¹å®çåå å¯¼è´ queue ä¸­çæäºæ¶æ¯æ æ³è¢«æ¶è´¹ï¼è¿æ ·çæ¶æ¯å¦ææ²¡æåç»­çå¤çï¼å°±åæäºæ­»ä¿¡ï¼ææ­»ä¿¡èªç¶å°±æäºæ­»ä¿¡éåã</p>\n<p>åºç¨åºæ¯ï¼ä¸ºäºä¿è¯è®¢åä¸å¡çæ¶æ¯æ°æ®ä¸ä¸¢å¤±ï¼éè¦ä½¿ç¨å° RabbitMQ çæ­»ä¿¡éåæºå¶ï¼å½æ¶æ¯æ¶è´¹åçå¼å¸¸æ¶ï¼å°æ¶æ¯æå¥æ­»ä¿¡éåä¸­ãè¿ææ¯å¦è¯´ï¼ç¨æ·å¨ååä¸åæåå¹¶ç¹å»å»æ¯ä»åå¨æå®æ¶é´æªæ¯ä»æ¶èªå¨å¤±æã</p>\n",headersStr:"æ­»ä¿¡çæ¥æº æ¶æ¯TTLè¿æ éåè¾¾å°æå¤§é¿åº¦ æ¶æ¯è¢«æ",content:'æ­»ä¿¡ï¼å°±æ¯æ æ³è¢«æ¶è´¹çæ¶æ¯ï¼ä¸è¬æ¥è¯´ï¼producer å°æ¶æ¯æéå° broker æèç´æ¥å°queue éäºï¼consumer ä» queue ååºæ¶æ¯è¿è¡æ¶è´¹ï¼ä½æäºæ¶åç±äºç¹å®çåå å¯¼è´ queue ä¸­çæäºæ¶æ¯æ æ³è¢«æ¶è´¹ï¼è¿æ ·çæ¶æ¯å¦ææ²¡æåç»­çå¤çï¼å°±åæäºæ­»ä¿¡ï¼ææ­»ä¿¡èªç¶å°±æäºæ­»ä¿¡éåã\n\nåºç¨åºæ¯ï¼ä¸ºäºä¿è¯è®¢åä¸å¡çæ¶æ¯æ°æ®ä¸ä¸¢å¤±ï¼éè¦ä½¿ç¨å° RabbitMQ çæ­»ä¿¡éåæºå¶ï¼å½æ¶æ¯æ¶è´¹åçå¼å¸¸æ¶ï¼å°æ¶æ¯æå¥æ­»ä¿¡éåä¸­ãè¿ææ¯å¦è¯´ï¼ç¨æ·å¨ååä¸åæåå¹¶ç¹å»å»æ¯ä»åå¨æå®æ¶é´æªæ¯ä»æ¶èªå¨å¤±æã\n\n\n# æ­»ä¿¡çæ¥æº\n\n * æ¶æ¯ TTL è¿æ\n * éåè¾¾å°æå¤§é¿åº¦(éåæ»¡äºï¼æ æ³åæ·»å æ°æ®å° mq ä¸­)\n * æ¶æ¯è¢«æç»(basic.reject æ basic.nack)å¹¶ä¸ requeue=false.\n\n\n\n\n# æ¶æ¯TTLè¿æ\n\næ¶æ¯åéèï¼\n\npublic class Task0901 {\n    private static final String NORMAL_EXCHANGE = "normal_exchange";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtil.getChannel();\n        // åå»ºä¸ä¸ªäº¤æ¢æº\n        channel.exchangeDeclare(NORMAL_EXCHANGE, BuiltinExchangeType.DIRECT);\n        //è®¾ç½®æ¶æ¯ç TTL æ¶é´  æ¯«ç§å¼\n        AMQP.BasicProperties properties = new AMQP.BasicProperties().builder().expiration("10000").build();\n\n        for (int i = 1; i <= 10; i++) {\n            String message = "info:" + i;\n            channel.basicPublish(NORMAL_EXCHANGE, "aaa", properties, message.getBytes(StandardCharsets.UTF_8));\n            System.out.println("çäº§èååºæ¶æ¯:" + message);\n        }\n    }\n}\n\n\næ­»ä¿¡éåï¼\n\npublic class Worker0902 {\n\n    private static final String DEAD_EXCHANGE = "dead_exchange";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtil.getChannel();\n\n        // ------------åå»ºæ­»ä¿¡éå------------\n        // åå»ºä¸ä¸ªæ­»ä¿¡äº¤æ¢æº\n        channel.exchangeDeclare(DEAD_EXCHANGE, BuiltinExchangeType.DIRECT);\n        // å£°æä¸ä¸ªæ­»ä¿¡éå\n        String deadQueue = "dead_queue";\n        channel.queueDeclare(deadQueue, false, false, false, null);\n        // å°äº¤æ¢æºåéåç»å®\n        channel.queueBind(deadQueue, DEAD_EXCHANGE, "bbb");\n\n        // ------------æ¥æ¶å¹¶å¤çæ¶æ¯------------\n        System.out.println("æ­»ä¿¡éåç­å¾æ¥æ¶æ¶æ¯....");\n        // æ¥æ¶å°æ¶æ¯åçå¤çé»è¾ï¼\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String message = new String(delivery.getBody(), StandardCharsets.UTF_8);\n            System.out.println("æ­»ä¿¡éåæ¶å°å¹¶å¤çæ¶æ¯ï¼" + message);\n        };\n        // åæ¶æ¶æ¯æ¶çåè°ï¼\n        CancelCallback cancelCallback = (consumerTag) -> System.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // æ¶è´¹æ¶æ¯\n        channel.basicConsume(deadQueue, true, deliverCallback, cancelCallback);\n    }\n}\n\n\næ¶æ¯æ¥æ¶èï¼å¯å¨ä¹åå³é­è¯¥æ¶è´¹èï¼æ¨¡æå¶æ¥æ¶ä¸å°æ¶æ¯\n\npublic class Worker0901 {\n\n    private static final String NORMAL_EXCHANGE = "normal_exchange";\n    private static final String DEAD_EXCHANGE = "dead_exchange";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtil.getChannel();\n\n        // ------------åå»ºæ­»ä¿¡éåä¸æ®ééåçç»å®ä¿¡æ¯------------\n        // æ­£å¸¸éåç»å®æ­»ä¿¡éåä¿¡æ¯\n        Map<String, Object> params = new HashMap<>();\n        // æ­£å¸¸éåè®¾ç½®æ­»ä¿¡äº¤æ¢æº åæ° key æ¯åºå®å¼\n        params.put("x-dead-letter-exchange", DEAD_EXCHANGE);\n        // æ­£å¸¸éåè®¾ç½®æ­»ä¿¡ routing-key åæ° key æ¯åºå®å¼\n        params.put("x-dead-letter-routing-key", "bbb");\n\n        // ------------åå»ºæ®ééå------------\n        // åå»ºä¸ä¸ªæ®éäº¤æ¢æº\n        channel.exchangeDeclare(NORMAL_EXCHANGE, BuiltinExchangeType.DIRECT);\n        // å£°æä¸ä¸ªæ®ééå\n        String normalQueue = "normal_queue";\n        channel.queueDeclare(normalQueue, false, false, false, params);\n        // å°äº¤æ¢æºåéåç»å®\n        channel.queueBind(normalQueue, NORMAL_EXCHANGE, "aaa");\n\n        // ------------æ¥æ¶å¹¶å¤çæ¶æ¯------------\n        System.out.println("ç­å¾æ¥æ¶æ¶æ¯....");\n        // æ¥æ¶å°æ¶æ¯åçå¤çé»è¾ï¼\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String message = new String(delivery.getBody(), StandardCharsets.UTF_8);\n            System.out.println("æ¶è´¹èæ¶å°å¹¶å¤çæ¶æ¯ï¼" + message);\n        };\n        // åæ¶æ¶æ¯æ¶çåè°ï¼\n        CancelCallback cancelCallback = (consumerTag) -> System.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // æ¶è´¹æ¶æ¯\n        channel.basicConsume(normalQueue, true, deliverCallback, cancelCallback);\n    }\n}\n\n\n\n\n\n# éåè¾¾å°æå¤§é¿åº¦\n\n> ææ°çæ¶æ¯ä¼é¡¶åºä¹ååéçæ¶æ¯ã\n\næ¶æ¯åéèï¼\n\npublic class Task0902 {\n    private static final String NORMAL_EXCHANGE = "normal_exchange";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtil.getChannel();\n        // åå»ºä¸ä¸ªäº¤æ¢æº\n        channel.exchangeDeclare(NORMAL_EXCHANGE, BuiltinExchangeType.DIRECT);\n\n        for (int i = 1; i <= 10; i++) {\n            String message = "info:" + i;\n            channel.basicPublish(NORMAL_EXCHANGE, "aaa", null, message.getBytes(StandardCharsets.UTF_8));\n            System.out.println("çäº§èååºæ¶æ¯:" + message);\n        }\n    }\n}\n\n\næ­»ä¿¡éåï¼ä¿æä¸åï¼åä¸é¢çä¸æ ·\n\næ¶è´¹èï¼è®¾ç½®éåçæå¤§é¿åº¦ï¼ï¼éè¦åå é¤ååçéåï¼å¨å¯å¨å¹¶åæ­¢è¯¥éåï¼å ä¸ºåæ°åäº\n\npublic class Worker0903 {\n\n    private static final String NORMAL_EXCHANGE = "normal_exchange";\n    private static final String DEAD_EXCHANGE = "dead_exchange";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtil.getChannel();\n\n        // ------------åå»ºæ­»ä¿¡éåä¸æ®ééåçç»å®ä¿¡æ¯------------\n        // æ­£å¸¸éåç»å®æ­»ä¿¡éåä¿¡æ¯\n        Map<String, Object> params = new HashMap<>();\n        // æ­£å¸¸éåè®¾ç½®æ­»ä¿¡äº¤æ¢æº åæ° key æ¯åºå®å¼\n        params.put("x-dead-letter-exchange", DEAD_EXCHANGE);\n        // æ­£å¸¸éåè®¾ç½®æ­»ä¿¡ routing-key åæ° key æ¯åºå®å¼\n        params.put("x-dead-letter-routing-key", "bbb");\n        // è®¾ç½®éåçæå¤§é¿åº¦\n        params.put("x-max-length", 6);\n\n        // ------------åå»ºæ®ééå------------\n        // åå»ºä¸ä¸ªæ®éäº¤æ¢æº\n        channel.exchangeDeclare(NORMAL_EXCHANGE, BuiltinExchangeType.DIRECT);\n        // å£°æä¸ä¸ªæ®ééå\n        String normalQueue = "normal_queue";\n        channel.queueDeclare(normalQueue, false, false, false, params);\n        // å°äº¤æ¢æºåéåç»å®\n        channel.queueBind(normalQueue, NORMAL_EXCHANGE, "aaa");\n\n        // ------------æ¥æ¶å¹¶å¤çæ¶æ¯------------\n        System.out.println("ç­å¾æ¥æ¶æ¶æ¯....");\n        // æ¥æ¶å°æ¶æ¯åçå¤çé»è¾ï¼\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String message = new String(delivery.getBody(), StandardCharsets.UTF_8);\n            System.out.println("æ¶è´¹èæ¶å°å¹¶å¤çæ¶æ¯ï¼" + message);\n        };\n        // åæ¶æ¶æ¯æ¶çåè°ï¼\n        CancelCallback cancelCallback = (consumerTag) -> System.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // æ¶è´¹æ¶æ¯\n        channel.basicConsume(normalQueue, true, deliverCallback, cancelCallback);\n    }\n}\n\n\n\n\n\n# æ¶æ¯è¢«æ\n\næ¶æ¯åéèï¼åä¸é¢ä»£ç ä¸æ ·\n\næ­»ä¿¡éåï¼åä¸é¢ä»£ç ä¸æ ·\n\næ¶è´¹èï¼è®¾ç½®æç»ç¬¬äºæ¡æ¶æ¯ï¼ï¼åå æä¹åçéåï¼å¯å¨ä¹åå³é­è¯¥æ¶è´¹èï¼æ¨¡æå¶æ¥æ¶ä¸å°æ¶æ¯\n\npublic class Worker0904 {\n\n    private static final String NORMAL_EXCHANGE = "normal_exchange";\n    private static final String DEAD_EXCHANGE = "dead_exchange";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtil.getChannel();\n\n        // ------------åå»ºæ®ééå------------\n        // åå»ºä¸ä¸ªæ®éäº¤æ¢æº\n        channel.exchangeDeclare(NORMAL_EXCHANGE, BuiltinExchangeType.DIRECT);\n        // å£°æä¸ä¸ªæ®ééå\n        String normalQueue = "normal_queue";\n        channel.queueDeclare(normalQueue, false, false, false, params);\n        // å°äº¤æ¢æºåéåç»å®\n        channel.queueBind(normalQueue, NORMAL_EXCHANGE, "aaa");\n\n        // ------------æ¥æ¶å¹¶å¤çæ¶æ¯------------\n        System.out.println("ç­å¾æ¥æ¶æ¶æ¯....");\n        // æ¥æ¶å°æ¶æ¯åçå¤çé»è¾ï¼\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String message = new String(delivery.getBody(), StandardCharsets.UTF_8);\n            if (message.equals("info:5")) {\n                System.out.println("æ¶è´¹èæ¶å°å¹¶æç»è¯¥æ¶æ¯ï¼" + message);\n                //requeueè®¾ç½®ä¸º false ä»£è¡¨æç»éæ°å¥éï¼è¯¥éåå¦æéç½®äºæ­»ä¿¡äº¤æ¢æºå°åéå°æ­»ä¿¡éåä¸­\n                channel.basicReject(delivery.getEnvelope().getDeliveryTag(), false);\n            } else {\n                channel.basicAck(delivery.getEnvelope().getDeliveryTag(), false);\n                System.out.println("æ¶è´¹èæ¶å°å¹¶å¤çæ¶æ¯ï¼" + message);\n            }\n        };\n        // åæ¶æ¶æ¯æ¶çåè°ï¼\n        CancelCallback cancelCallback = (consumerTag) -> System.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // æ¶è´¹æ¶æ¯ è®¾ç½®æå¨åºç­\n        channel.basicConsume(normalQueue, false, deliverCallback, cancelCallback);\n    }\n}\n\n\n',normalizedContent:'æ­»ä¿¡ï¼å°±æ¯æ æ³è¢«æ¶è´¹çæ¶æ¯ï¼ä¸è¬æ¥è¯´ï¼producer å°æ¶æ¯æéå° broker æèç´æ¥å°queue éäºï¼consumer ä» queue ååºæ¶æ¯è¿è¡æ¶è´¹ï¼ä½æäºæ¶åç±äºç¹å®çåå å¯¼è´ queue ä¸­çæäºæ¶æ¯æ æ³è¢«æ¶è´¹ï¼è¿æ ·çæ¶æ¯å¦ææ²¡æåç»­çå¤çï¼å°±åæäºæ­»ä¿¡ï¼ææ­»ä¿¡èªç¶å°±æäºæ­»ä¿¡éåã\n\nåºç¨åºæ¯ï¼ä¸ºäºä¿è¯è®¢åä¸å¡çæ¶æ¯æ°æ®ä¸ä¸¢å¤±ï¼éè¦ä½¿ç¨å° rabbitmq çæ­»ä¿¡éåæºå¶ï¼å½æ¶æ¯æ¶è´¹åçå¼å¸¸æ¶ï¼å°æ¶æ¯æå¥æ­»ä¿¡éåä¸­ãè¿ææ¯å¦è¯´ï¼ç¨æ·å¨ååä¸åæåå¹¶ç¹å»å»æ¯ä»åå¨æå®æ¶é´æªæ¯ä»æ¶èªå¨å¤±æã\n\n\n# æ­»ä¿¡çæ¥æº\n\n * æ¶æ¯ ttl è¿æ\n * éåè¾¾å°æå¤§é¿åº¦(éåæ»¡äºï¼æ æ³åæ·»å æ°æ®å° mq ä¸­)\n * æ¶æ¯è¢«æç»(basic.reject æ basic.nack)å¹¶ä¸ requeue=false.\n\n\n\n\n# æ¶æ¯ttlè¿æ\n\næ¶æ¯åéèï¼\n\npublic class task0901 {\n    private static final string normal_exchange = "normal_exchange";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutil.getchannel();\n        // åå»ºä¸ä¸ªäº¤æ¢æº\n        channel.exchangedeclare(normal_exchange, builtinexchangetype.direct);\n        //è®¾ç½®æ¶æ¯ç ttl æ¶é´  æ¯«ç§å¼\n        amqp.basicproperties properties = new amqp.basicproperties().builder().expiration("10000").build();\n\n        for (int i = 1; i <= 10; i++) {\n            string message = "info:" + i;\n            channel.basicpublish(normal_exchange, "aaa", properties, message.getbytes(standardcharsets.utf_8));\n            system.out.println("çäº§èååºæ¶æ¯:" + message);\n        }\n    }\n}\n\n\næ­»ä¿¡éåï¼\n\npublic class worker0902 {\n\n    private static final string dead_exchange = "dead_exchange";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutil.getchannel();\n\n        // ------------åå»ºæ­»ä¿¡éå------------\n        // åå»ºä¸ä¸ªæ­»ä¿¡äº¤æ¢æº\n        channel.exchangedeclare(dead_exchange, builtinexchangetype.direct);\n        // å£°æä¸ä¸ªæ­»ä¿¡éå\n        string deadqueue = "dead_queue";\n        channel.queuedeclare(deadqueue, false, false, false, null);\n        // å°äº¤æ¢æºåéåç»å®\n        channel.queuebind(deadqueue, dead_exchange, "bbb");\n\n        // ------------æ¥æ¶å¹¶å¤çæ¶æ¯------------\n        system.out.println("æ­»ä¿¡éåç­å¾æ¥æ¶æ¶æ¯....");\n        // æ¥æ¶å°æ¶æ¯åçå¤çé»è¾ï¼\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string message = new string(delivery.getbody(), standardcharsets.utf_8);\n            system.out.println("æ­»ä¿¡éåæ¶å°å¹¶å¤çæ¶æ¯ï¼" + message);\n        };\n        // åæ¶æ¶æ¯æ¶çåè°ï¼\n        cancelcallback cancelcallback = (consumertag) -> system.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // æ¶è´¹æ¶æ¯\n        channel.basicconsume(deadqueue, true, delivercallback, cancelcallback);\n    }\n}\n\n\næ¶æ¯æ¥æ¶èï¼å¯å¨ä¹åå³é­è¯¥æ¶è´¹èï¼æ¨¡æå¶æ¥æ¶ä¸å°æ¶æ¯\n\npublic class worker0901 {\n\n    private static final string normal_exchange = "normal_exchange";\n    private static final string dead_exchange = "dead_exchange";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutil.getchannel();\n\n        // ------------åå»ºæ­»ä¿¡éåä¸æ®ééåçç»å®ä¿¡æ¯------------\n        // æ­£å¸¸éåç»å®æ­»ä¿¡éåä¿¡æ¯\n        map<string, object> params = new hashmap<>();\n        // æ­£å¸¸éåè®¾ç½®æ­»ä¿¡äº¤æ¢æº åæ° key æ¯åºå®å¼\n        params.put("x-dead-letter-exchange", dead_exchange);\n        // æ­£å¸¸éåè®¾ç½®æ­»ä¿¡ routing-key åæ° key æ¯åºå®å¼\n        params.put("x-dead-letter-routing-key", "bbb");\n\n        // ------------åå»ºæ®ééå------------\n        // åå»ºä¸ä¸ªæ®éäº¤æ¢æº\n        channel.exchangedeclare(normal_exchange, builtinexchangetype.direct);\n        // å£°æä¸ä¸ªæ®ééå\n        string normalqueue = "normal_queue";\n        channel.queuedeclare(normalqueue, false, false, false, params);\n        // å°äº¤æ¢æºåéåç»å®\n        channel.queuebind(normalqueue, normal_exchange, "aaa");\n\n        // ------------æ¥æ¶å¹¶å¤çæ¶æ¯------------\n        system.out.println("ç­å¾æ¥æ¶æ¶æ¯....");\n        // æ¥æ¶å°æ¶æ¯åçå¤çé»è¾ï¼\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string message = new string(delivery.getbody(), standardcharsets.utf_8);\n            system.out.println("æ¶è´¹èæ¶å°å¹¶å¤çæ¶æ¯ï¼" + message);\n        };\n        // åæ¶æ¶æ¯æ¶çåè°ï¼\n        cancelcallback cancelcallback = (consumertag) -> system.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // æ¶è´¹æ¶æ¯\n        channel.basicconsume(normalqueue, true, delivercallback, cancelcallback);\n    }\n}\n\n\n\n\n\n# éåè¾¾å°æå¤§é¿åº¦\n\n> ææ°çæ¶æ¯ä¼é¡¶åºä¹ååéçæ¶æ¯ã\n\næ¶æ¯åéèï¼\n\npublic class task0902 {\n    private static final string normal_exchange = "normal_exchange";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutil.getchannel();\n        // åå»ºä¸ä¸ªäº¤æ¢æº\n        channel.exchangedeclare(normal_exchange, builtinexchangetype.direct);\n\n        for (int i = 1; i <= 10; i++) {\n            string message = "info:" + i;\n            channel.basicpublish(normal_exchange, "aaa", null, message.getbytes(standardcharsets.utf_8));\n            system.out.println("çäº§èååºæ¶æ¯:" + message);\n        }\n    }\n}\n\n\næ­»ä¿¡éåï¼ä¿æä¸åï¼åä¸é¢çä¸æ ·\n\næ¶è´¹èï¼è®¾ç½®éåçæå¤§é¿åº¦ï¼ï¼éè¦åå é¤ååçéåï¼å¨å¯å¨å¹¶åæ­¢è¯¥éåï¼å ä¸ºåæ°åäº\n\npublic class worker0903 {\n\n    private static final string normal_exchange = "normal_exchange";\n    private static final string dead_exchange = "dead_exchange";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutil.getchannel();\n\n        // ------------åå»ºæ­»ä¿¡éåä¸æ®ééåçç»å®ä¿¡æ¯------------\n        // æ­£å¸¸éåç»å®æ­»ä¿¡éåä¿¡æ¯\n        map<string, object> params = new hashmap<>();\n        // æ­£å¸¸éåè®¾ç½®æ­»ä¿¡äº¤æ¢æº åæ° key æ¯åºå®å¼\n        params.put("x-dead-letter-exchange", dead_exchange);\n        // æ­£å¸¸éåè®¾ç½®æ­»ä¿¡ routing-key åæ° key æ¯åºå®å¼\n        params.put("x-dead-letter-routing-key", "bbb");\n        // è®¾ç½®éåçæå¤§é¿åº¦\n        params.put("x-max-length", 6);\n\n        // ------------åå»ºæ®ééå------------\n        // åå»ºä¸ä¸ªæ®éäº¤æ¢æº\n        channel.exchangedeclare(normal_exchange, builtinexchangetype.direct);\n        // å£°æä¸ä¸ªæ®ééå\n        string normalqueue = "normal_queue";\n        channel.queuedeclare(normalqueue, false, false, false, params);\n        // å°äº¤æ¢æºåéåç»å®\n        channel.queuebind(normalqueue, normal_exchange, "aaa");\n\n        // ------------æ¥æ¶å¹¶å¤çæ¶æ¯------------\n        system.out.println("ç­å¾æ¥æ¶æ¶æ¯....");\n        // æ¥æ¶å°æ¶æ¯åçå¤çé»è¾ï¼\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string message = new string(delivery.getbody(), standardcharsets.utf_8);\n            system.out.println("æ¶è´¹èæ¶å°å¹¶å¤çæ¶æ¯ï¼" + message);\n        };\n        // åæ¶æ¶æ¯æ¶çåè°ï¼\n        cancelcallback cancelcallback = (consumertag) -> system.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // æ¶è´¹æ¶æ¯\n        channel.basicconsume(normalqueue, true, delivercallback, cancelcallback);\n    }\n}\n\n\n\n\n\n# æ¶æ¯è¢«æ\n\næ¶æ¯åéèï¼åä¸é¢ä»£ç ä¸æ ·\n\næ­»ä¿¡éåï¼åä¸é¢ä»£ç ä¸æ ·\n\næ¶è´¹èï¼è®¾ç½®æç»ç¬¬äºæ¡æ¶æ¯ï¼ï¼åå æä¹åçéåï¼å¯å¨ä¹åå³é­è¯¥æ¶è´¹èï¼æ¨¡æå¶æ¥æ¶ä¸å°æ¶æ¯\n\npublic class worker0904 {\n\n    private static final string normal_exchange = "normal_exchange";\n    private static final string dead_exchange = "dead_exchange";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutil.getchannel();\n\n        // ------------åå»ºæ®ééå------------\n        // åå»ºä¸ä¸ªæ®éäº¤æ¢æº\n        channel.exchangedeclare(normal_exchange, builtinexchangetype.direct);\n        // å£°æä¸ä¸ªæ®ééå\n        string normalqueue = "normal_queue";\n        channel.queuedeclare(normalqueue, false, false, false, params);\n        // å°äº¤æ¢æºåéåç»å®\n        channel.queuebind(normalqueue, normal_exchange, "aaa");\n\n        // ------------æ¥æ¶å¹¶å¤çæ¶æ¯------------\n        system.out.println("ç­å¾æ¥æ¶æ¶æ¯....");\n        // æ¥æ¶å°æ¶æ¯åçå¤çé»è¾ï¼\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string message = new string(delivery.getbody(), standardcharsets.utf_8);\n            if (message.equals("info:5")) {\n                system.out.println("æ¶è´¹èæ¶å°å¹¶æç»è¯¥æ¶æ¯ï¼" + message);\n                //requeueè®¾ç½®ä¸º false ä»£è¡¨æç»éæ°å¥éï¼è¯¥éåå¦æéç½®äºæ­»ä¿¡äº¤æ¢æºå°åéå°æ­»ä¿¡éåä¸­\n                channel.basicreject(delivery.getenvelope().getdeliverytag(), false);\n            } else {\n                channel.basicack(delivery.getenvelope().getdeliverytag(), false);\n                system.out.println("æ¶è´¹èæ¶å°å¹¶å¤çæ¶æ¯ï¼" + message);\n            }\n        };\n        // åæ¶æ¶æ¯æ¶çåè°ï¼\n        cancelcallback cancelcallback = (consumertag) -> system.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n\n        // æ¶è´¹æ¶æ¯ è®¾ç½®æå¨åºç­\n        channel.basicconsume(normalqueue, false, delivercallback, cancelcallback);\n    }\n}\n\n\n',charsets:{cjk:!0},lastUpdated:"2022/11/25, 18:48:06",lastUpdatedTimestamp:1669373286e3},{title:"RabbitMQå»¶æ¶éå",frontmatter:{title:"RabbitMQå»¶æ¶éå",date:"2022-12-06T15:57:32.000Z",permalink:"/pages/8s5gukww",categories:["ä¸­é´ä»¶"],tags:["RabbitMQ"],author:{name:"ä¹æ¨åç"}},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/01.%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6/1001.RabbitMQ/09.RabbitMQ%E5%BB%B6%E6%97%B6%E9%98%9F%E5%88%97.html",relativePath:"04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/09.RabbitMQå»¶æ¶éå.md",key:"v-176b8424",path:"/pages/8s5gukww/",headers:[{level:2,title:"ä½¿ç¨åºæ¯",slug:"ä½¿ç¨åºæ¯",normalizedTitle:"ä½¿ç¨åºæ¯",charIndex:88},{level:2,title:"TTL",slug:"ttl",normalizedTitle:"ttl",charIndex:519},{level:3,title:"éåè®¾ç½®TTL",slug:"éåè®¾ç½®ttl",normalizedTitle:"éåè®¾ç½®ttl",charIndex:695},{level:4,title:"åå»ºéç½®æä»¶ç±»",slug:"åå»ºéç½®æä»¶ç±»",normalizedTitle:"åå»ºéç½®æä»¶ç±»",charIndex:1108},{level:4,title:"æ¶æ¯çäº§è",slug:"æ¶æ¯çäº§è",normalizedTitle:"æ¶æ¯çäº§è",charIndex:3718},{level:4,title:"æ¶æ¯æ¶è´¹è",slug:"æ¶æ¯æ¶è´¹è",normalizedTitle:"æ¶æ¯æ¶è´¹è",charIndex:4217},{level:4,title:"æµè¯",slug:"æµè¯",normalizedTitle:"æµè¯",charIndex:4536},{level:3,title:"æ¶æ¯è®¾ç½®TTL",slug:"æ¶æ¯è®¾ç½®ttl",normalizedTitle:"æ¶æ¯è®¾ç½®ttl",charIndex:4674},{level:4,title:"åå»ºä¸ä¸ªæ°çéç½®ç±»",slug:"åå»ºä¸ä¸ªæ°çéç½®ç±»",normalizedTitle:"åå»ºä¸ä¸ªæ°çéç½®ç±»",charIndex:5298},{level:4,title:"æ¶æ¯çäº§è",slug:"æ¶æ¯çäº§è-2",normalizedTitle:"æ¶æ¯çäº§è",charIndex:3718},{level:4,title:"æ¶æ¯æ¶è´¹è",slug:"æ¶æ¯æ¶è´¹è-2",normalizedTitle:"æ¶æ¯æ¶è´¹è",charIndex:4217},{level:4,title:"æµè¯",slug:"æµè¯-2",normalizedTitle:"æµè¯",charIndex:4536},{level:3,title:"ä¸¤èçåºå«",slug:"ä¸¤èçåºå«",normalizedTitle:"ä¸¤èçåºå«",charIndex:7284},{level:2,title:"å»¶æ¶éåæä»¶",slug:"å»¶æ¶éåæä»¶",normalizedTitle:"å»¶æ¶éåæä»¶",charIndex:7497},{level:3,title:"å®è£",slug:"å®è£",normalizedTitle:"å®è£",charIndex:7661},{level:3,title:"éç½®æä»¶ç±»",slug:"éç½®æä»¶ç±»",normalizedTitle:"éç½®æä»¶ç±»",charIndex:1110},{level:3,title:"æ¶æ¯çäº§è",slug:"æ¶æ¯çäº§è-3",normalizedTitle:"æ¶æ¯çäº§è",charIndex:3718},{level:3,title:"æ¶æ¯æ¶è´¹è",slug:"æ¶æ¯æ¶è´¹è-3",normalizedTitle:"æ¶æ¯æ¶è´¹è",charIndex:4217},{level:3,title:"æµè¯",slug:"æµè¯-3",normalizedTitle:"æµè¯",charIndex:4536},{level:2,title:"æ»ç»",slug:"æ»ç»",normalizedTitle:"æ»ç»",charIndex:10298}],excerpt:"<p>å»¶æ¶éååé¨æ¯æåºçï¼æéè¦çç¹æ§å°±æ¯å»¶æ¶ï¼å»¶æ¶éåä¸­çåç´ æ¯å¸æå¨æå®æ¶é´å°äºä»¥åæä¹åååºåå¤çï¼ç®åæ¥è¯´ï¼å»¶æ¶éåå°±æ¯ç¨æ¥å­æ¾éè¦å¨æå®æ¶é´è¢«å¤ççåç´ çéåã</p>\n",headersStr:"ä½¿ç¨åºæ¯ TTL éåè®¾ç½®TTL åå»ºéç½®æä»¶ç±» æ¶æ¯çäº§è æ¶æ¯æ¶è´¹è æµè¯ æ¶æ¯è®¾ç½®TTL åå»ºä¸ä¸ªæ°çéç½®ç±» æ¶æ¯çäº§è æ¶æ¯æ¶è´¹è æµè¯ ä¸¤èçåºå« å»¶æ¶éåæä»¶ å®è£ éç½®æä»¶ç±» æ¶æ¯çäº§è æ¶æ¯æ¶è´¹è æµè¯ æ»ç»",content:'å»¶æ¶éååé¨æ¯æåºçï¼æéè¦çç¹æ§å°±æ¯å»¶æ¶ï¼å»¶æ¶éåä¸­çåç´ æ¯å¸æå¨æå®æ¶é´å°äºä»¥åæä¹åååºåå¤çï¼ç®åæ¥è¯´ï¼å»¶æ¶éåå°±æ¯ç¨æ¥å­æ¾éè¦å¨æå®æ¶é´è¢«å¤ççåç´ çéåã\n\n\n# ä½¿ç¨åºæ¯\n\n 1. è®¢åå¨ååéä¹åæªæ¯ä»åèªå¨åæ¶\n 2. æ°åå»ºçåºéºï¼å¦æå¨åå¤©åé½æ²¡æä¸ä¼ è¿ååï¼åèªå¨åéæ¶æ¯æéã\n 3. ç¨æ·æ³¨åæååï¼å¦æä¸å¤©åæ²¡æç»éåè¿è¡ç­ä¿¡æéã\n 4. ç¨æ·åèµ·éæ¬¾ï¼å¦æä¸å¤©åæ²¡æå¾å°å¤çåéç¥ç¸å³è¿è¥äººåã\n 5. é¢å®ä¼è®®åï¼éè¦å¨é¢å®çæ¶é´ç¹åååééç¥åä¸ªä¸ä¼äººååå ä¼è®®ã\n\nè¿äºåºæ¯é½æä¸ä¸ªç¹ç¹ï¼éè¦å¨æä¸ªäºä»¶åçä¹åæèä¹åçæå®æ¶é´ç¹å®ææä¸é¡¹ä»»å¡ï¼å¦ï¼åçè®¢åçæäºä»¶ï¼å¨ååéä¹åæ£æ¥è¯¥è®¢åæ¯ä»ç¶æï¼ç¶åå°æªæ¯ä»çè®¢åè¿è¡å³é­ï¼ä½¿ç¨å®æ¶ä»»å¡ï¼ä¸ç´è½®è¯¢æ°æ®ï¼æ¯ç§æ¥ä¸æ¬¡ï¼ååºéè¦è¢«å¤ççæ°æ®ï¼ç¶åå¤çï¼å¦ææ°æ®éæ¯è¾å°ï¼å¯ä»¥è¿æ ·åï¼ä½å¯¹äºæ°æ®éæ¯è¾å¤§ï¼å¹¶ä¸æ¶ææ§è¾å¼ºçåºæ¯ï¼ç­æåæªæ¯ä»çè®¢åæ°æ®å¯è½ä¼æå¾å¤ï¼æ´»å¨æé´çè³ä¼è¾¾å°ç¾ä¸çè³åä¸çº§å«ï¼å¯¹è¿ä¹åºå¤§çæ°æ®éä½¿ç¨è½®è¯¢çæ¹å¼æ¯ä¸å¯åçï¼å¾å¯è½å¨ä¸ç§åæ æ³å®æææè®¢åçæ£æ¥ï¼åæ¶ä¼ç»æ°æ®åºå¸¦æ¥å¾å¤§ååï¼æ æ³æ»¡è¶³ä¸å¡è¦æ±èä¸æ§è½ä½ä¸ã\n\n\n\n\n# TTL\n\nTTL æ¯ RabbitMQ ä¸­ä¸ä¸ªæ¶æ¯æèéåçå±æ§ï¼è¡¨æä¸æ¡æ¶æ¯æèè¯¥éåä¸­çæææ¶æ¯çæå¤§å­æ´»æ¶é´ï¼åä½æ¯æ¯«ç§ã\n\nå¦æä¸æ¡æ¶æ¯è®¾ç½®äº TTL å±æ§æèè¿å¥äºè®¾ç½®TTL å±æ§çéåï¼è¿æ¡æ¶æ¯å¦æå¨TTLè®¾ç½®çæ¶é´åæ²¡æè¢«æ¶è´¹ï¼åä¼æä¸º"æ­»ä¿¡"ãå¦æåæ¶éç½®äºéåçTTLåæ¶æ¯çTTLï¼ä¼ä½¿ç¨è¾å°çå¼ï¼æä¸¤ç§æ¹å¼è®¾ç½® TTLã\n\n\n# éåè®¾ç½®TTL\n\nå¨åå»ºéåçæ¶åè®¾ç½®éåçx-message-ttlå±æ§ï¼ä½¿ç¨SpringBootæ´åè®¾ç½®ï¼\n\n/**\n * å£°æ A éåï¼å¹¶è®¾ç½®TTLæ¶é´ä¸º 10 ç§\n */\n@Bean("aQueue")\npublic Queue aQueue() {\n    Map<String, Object> args = new HashMap<>(3);\n    // å£°æéåç TTL\n    args.put("x-message-ttl", 10000);\n    return QueueBuilder.durable(QUEUE_A).withArguments(args).build();\n}\n\n\nåå»ºä¸¤ä¸ªéå QA å QBï¼ä¸¤èéå TTL åå«è®¾ç½®ä¸º 10S å 40Sï¼ç¶åå¨åå»ºä¸ä¸ªäº¤æ¢æº X åæ­»ä¿¡äº¤æ¢æº Yï¼å®ä»¬çç±»åé½æ¯directï¼åå»ºä¸ä¸ªæ­»ä¿¡éå QDï¼å®ä»¬çç»å®å³ç³»å¦ä¸ï¼\n\n\n\n# åå»ºéç½®æä»¶ç±»\n\nimport org.springframework.amqp.core.*;\n\n@Configuration\npublic class TtlQueueConfig {\n\n    public static final String X_EXCHANGE = "X";\n    public static final String QUEUE_A = "A";\n    public static final String QUEUE_B = "B";\n    public static final String Y_DEAD_LETTER_EXCHANGE = "Y";\n    public static final String DEAD_LETTER_QUEUE = "D";\n\n    /**\n     * å£°æ X äº¤æ¢æº\n     */\n    @Bean("xExchange")\n    public DirectExchange xExchange() {\n        return new DirectExchange(X_EXCHANGE);\n    }\n\n    /**\n     * å£°æ Y æ­»ä¿¡äº¤æ¢æº\n     */\n    @Bean("yExchange")\n    public DirectExchange yExchange() {\n        return new DirectExchange(Y_DEAD_LETTER_EXCHANGE);\n    }\n\n    /**\n     * å£°æ A éåï¼ç»å®æ­»ä¿¡äº¤æ¢æºï¼å¹¶è®¾ç½®TTLæ¶é´ä¸º 10 ç§\n     */\n    @Bean("aQueue")\n    public Queue aQueue() {\n        Map<String, Object> args = new HashMap<>(3);\n        // å£°æå½åéåç»å®çæ­»ä¿¡äº¤æ¢æº\n        args.put("x-dead-letter-exchange", Y_DEAD_LETTER_EXCHANGE);\n        // å£°æå½åéåçæ­»ä¿¡è·¯ç± key\n        args.put("x-dead-letter-routing-key", "YD");\n        // å£°æéåç TTL\n        args.put("x-message-ttl", 10000);\n        return QueueBuilder.durable(QUEUE_A).withArguments(args).build();\n    }\n\n    /**\n     * å£°æ A éåä¸ X äº¤æ¢æºç»å®\n     */\n    @Bean\n    public Binding aQueueBindingX(@Qualifier("aQueue") Queue aQueue,\n                                  @Qualifier("xExchange") DirectExchange xExchange) {\n        return BindingBuilder.bind(aQueue).to(xExchange).with("XA");\n    }\n\n    /**\n     * å£°æ B éåï¼ç»å®æ­»ä¿¡äº¤æ¢æºï¼å¹¶è®¾ç½®TTLæ¶é´ä¸º 40 ç§\n     */\n    @Bean("bQueue")\n    public Queue bQueue() {\n        Map<String, Object> args = new HashMap<>(3);\n        //å£°æå½åéåç»å®çæ­»ä¿¡äº¤æ¢æº\n        args.put("x-dead-letter-exchange", Y_DEAD_LETTER_EXCHANGE);\n        //å£°æå½åéåçæ­»ä¿¡è·¯ç± key\n        args.put("x-dead-letter-routing-key", "YD");\n        //å£°æéåç TTL\n        args.put("x-message-ttl", 40000);\n        return QueueBuilder.durable(QUEUE_B).withArguments(args).build();\n    }\n\n    /**\n     * å£°æéåAä¸äº¤æ¢æºXç»å®\n     */\n    @Bean\n    public Binding bQueueBindingX(@Qualifier("bQueue") Queue bQueue,\n                                  @Qualifier("xExchange") DirectExchange xExchange) {\n        return BindingBuilder.bind(bQueue).to(xExchange).with("XB");\n    }\n\n    /**\n     * å£°ææ­»ä¿¡éå D\n     */\n    @Bean("dQueue")\n    public Queue dQueue() {\n        return new Queue(DEAD_LETTER_QUEUE);\n    }\n\n    /**\n     * å£°ææ­»ä¿¡éå D ä¸æ­»ä¿¡äº¤æ¢æº Y ç»å®\n     */\n    @Bean\n    public Binding dDeadLetterQueueBindingY(@Qualifier("dQueue") Queue queueD,\n                                            @Qualifier("yExchange") DirectExchange yExchange) {\n        return BindingBuilder.bind(queueD).to(yExchange).with("YD");\n    }\n}\n\n\n# æ¶æ¯çäº§è\n\n@Slf4j\n@RequestMapping("/ttl")\n@RestController\npublic class SendMsgController {\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    @GetMapping("sendMsg/{message}")\n    public void sendMsg(@PathVariable String message) {\n        log.info("å½åæ¶é´ï¼{}ï¼åéä¸æ¡ä¿¡æ¯ç»ä¸¤ä¸ª TTL éåï¼{}", LocalDateTime.now(), message);\n        rabbitTemplate.convertAndSend("X", "XA", "æ¶æ¯æ¥èª ttl ä¸º 10S çéå: " + message);\n        rabbitTemplate.convertAndSend("X", "XB", "æ¶æ¯æ¥èª ttl ä¸º 40S çéå: " + message);\n    }\n}\n\n\n# æ¶æ¯æ¶è´¹è\n\n@Slf4j\n@Component\npublic class DeadLetterQueueConsumer {\n\n    @RabbitListener(queues = TtlQueueConfig.DEAD_LETTER_QUEUE)\n    public void receiveD(Message message, Channel channel) {\n        String msg = new String(message.getBody());\n        log.info("å½åæ¶é´ï¼{}ï¼æ¶å°æ­»ä¿¡éåä¿¡æ¯{}", LocalDateTime.now(), msg);\n    }\n}\n\n\n# æµè¯\n\nå¯å¨é¡¹ç®ï¼åèµ·ä¸ä¸ªè¯·æ± http://localhost:8080/ttl/sendMsg/124123\n\n\n\nç¬¬ä¸æ¡æ¶æ¯å¨ 10S ååæäºæ­»ä¿¡æ¶æ¯ï¼ç¶åè¢«æ¶è´¹èæ¶è´¹æï¼ç¬¬äºæ¡æ¶æ¯å¨ 40S ä¹ååæäºæ­»ä¿¡æ¶æ¯ï¼ç¶åè¢«æ¶è´¹æï¼è¿æ ·ä¸ä¸ªå»¶æ¶éåå°±æé å®æäºã\n\n\n# æ¶æ¯è®¾ç½®TTL\n\nå¯¹æ¯æ¡æ¶æ¯è®¾ç½®TTLï¼ä½¿ç¨SpringBootæ´åè®¾ç½®ï¼\n\n@GetMapping("sendMsg/{message}")\npublic void sendMsg(@PathVariable String message) {\n    log.info("å½åæ¶é´ï¼{}ï¼åéä¸æ¡ä¿¡æ¯ç»ä¸¤ä¸ª TTL éåï¼{}", LocalDateTime.now(), message);\n    rabbitTemplate.convertAndSend("X", "XA", "æ¶æ¯æ¥èª ttl ä¸º 10S çéå: " + message);\n    rabbitTemplate.convertAndSend("X", "XB", "æ¶æ¯æ¥èª ttl ä¸º 40S çéå: " + message,\n            // æ¶æ¯æ¥èªè®¾ç½®äº40Sçéåï¼ä½æ¶æ¯çTTLæ¯2Sï¼å¦æé½è®¾ç½®äºï¼åä»¥å°çä¸ºå\n            correlationData -> {\n                correlationData.getMessageProperties().setExpiration("2000");\n                return correlationData;\n            });\n}\n\n\nå¨ä¸é¢çæ¡ä¾ä¸­æ°å¢ä¸ä¸ªCéåï¼ç»å®å³ç³»å¦ä¸ï¼è¯¥éåä¸è®¾ç½®TTL æ¶é´ï¼\n\n\n\n# åå»ºä¸ä¸ªæ°çéç½®ç±»\n\n@Component\npublic class MsgQueueConfig {\n\n    public static final String QUEUE_C = "C";\n    public static final String Y_DEAD_LETTER_EXCHANGE = "Y";\n\n    /**\n     * å£°æ C éåï¼ç»å®æ­»ä¿¡äº¤æ¢æº\n     */\n    @Bean("cQueue")\n    public Queue cQueue(){\n        Map<String, Object> args = new HashMap<>(3);\n        //å£°æå½åéåç»å®çæ­»ä¿¡äº¤æ¢æº\n        args.put("x-dead-letter-exchange", Y_DEAD_LETTER_EXCHANGE);\n        //å£°æå½åéåçæ­»ä¿¡è·¯ç± key\n        args.put("x-dead-letter-routing-key", "YD");\n        //æ²¡æå£°æ TTL å±æ§\n        return QueueBuilder.durable(QUEUE_C).withArguments(args).build();\n    }\n\n    /**\n     * å£°æéåCä¸äº¤æ¢æºXç»å®\n     */\n    @Bean\n    public Binding cQueueBindingX(@Qualifier("cQueue") Queue bQueue,\n                                  @Qualifier("xExchange") DirectExchange xExchange) {\n        return BindingBuilder.bind(bQueue).to(xExchange).with("XC");\n    }\n}\n\n\n# æ¶æ¯çäº§è\n\n@GetMapping("sendMsg/{message}")\npublic void sendMsg(@PathVariable String message) {\n    log.info("å½åæ¶é´ï¼{}ï¼åéä¸æ¡ä¿¡æ¯ç»ä¸¤ä¸ª TTL éåï¼{}", LocalDateTime.now(), message);\n    rabbitTemplate.convertAndSend("X", "XA", "æ¶æ¯æ¥èª ttl ä¸º 10S çéå: " + message);\n    rabbitTemplate.convertAndSend("X", "XB", "æ¶æ¯æ¥èª ttl ä¸º 40S çéå: " + message,\n            // æ¶æ¯æ¥èªè®¾ç½®äº40Sçéåï¼ä½æ¶æ¯çTTLæ¯2Sï¼å¦æé½è®¾ç½®äºï¼åä»¥å°çä¸ºå\n            correlationData -> {\n                correlationData.getMessageProperties().setExpiration("2000");\n                return correlationData;\n            });\n}\n\n@GetMapping("sendExpirationMsg/{message}/{ttlTime}")\npublic void sendMsg(@PathVariable String message, @PathVariable String ttlTime) {\n    rabbitTemplate.convertAndSend("X", "XC", message, correlationData -> {\n        correlationData.getMessageProperties().setExpiration(ttlTime);\n        return correlationData;\n    });\n    log.info("å½åæ¶é´ï¼{}ï¼åéä¸æ¡æ¶é¿{}æ¯«ç§ TTL ä¿¡æ¯ç»éå C: {}", LocalDateTime.now(), ttlTime, message);\n}\n\n\n# æ¶æ¯æ¶è´¹è\n\nåä¸é¢çä¿æä¸è´\n\n# æµè¯\n\nå¯å¨é¡¹ç®ï¼åèµ·ä¸¤ä¸ªè¯·æ±\n\n * http://localhost:8080/ttl/sendExpirationMsg/ä½ å¥½2/20000\n * http://localhost:8080/ttl/sendExpirationMsg/ä½ å¥½/2000\n\n\n\næ§è¡æåã\n\n\n# ä¸¤èçåºå«\n\nè®¾ç½®éåç TTL å±æ§ï¼ä¸æ¦æ¶æ¯è¿æï¼å°±ä¼è¢«éåä¸¢å¼(å¦æéç½®äºæ­»ä¿¡éåè¢«ä¸¢å°æ­»ä¿¡éåä¸­)ã\n\nè®¾ç½®æ¶æ¯ç TTL å±æ§ï¼æ¶æ¯è¿æï¼ä¸ä¸å®ä¼è¢«é©¬ä¸ä¸¢å¼ï¼æ¶æ¯æ¯å¦è¿ææ¯å¨å³å°æéå°æ¶è´¹èä¹åå¤å®çï¼å¦æå½åéåæä¸¥éçæ¶æ¯ç§¯åæåµï¼åå·²è¿æçæ¶æ¯ä¹è®¸è¿è½å­æ´»è¾é¿æ¶é´ï¼å¦æä¸è®¾ç½® TTLï¼è¡¨ç¤ºæ¶æ¯æ°¸è¿ä¸ä¼è¿æï¼å¦æå° TTL è®¾ç½®ä¸º 0ï¼åè¡¨ç¤ºé¤éæ­¤æ¶å¯ä»¥ç´æ¥æéè¯¥æ¶æ¯å°æ¶è´¹èï¼å¦åè¯¥æ¶æ¯å°ä¼è¢«ä¸¢å¼ã\n\n\n# å»¶æ¶éåæä»¶\n\nä¸é¢æ¶æ¯TTLè®¾ç½®æ¶ï¼çèµ·æ¥æ²¡ä»ä¹é®é¢ï¼ä½å¦æä½¿ç¨å¨æ¶æ¯å±æ§ä¸è®¾ç½® TTL çæ¹å¼ï¼æ¶æ¯å¯è½å¹¶ä¸ä¼ææ¶âæ­»äº¡âï¼å ä¸º RabbitMQ åªä¼æ£æ¥ç¬¬ä¸ä¸ªæ¶æ¯æ¯å¦è¿æï¼å¦æè¿æåä¸¢å°æ­»ä¿¡éåï¼å¦æç¬¬ä¸ä¸ªæ¶æ¯çå»¶æ¶æ¶é¿å¾é¿ï¼èç¬¬äºä¸ªæ¶æ¯çå»¶æ¶æ¶é¿å¾ç­ï¼ç¬¬äºä¸ªæ¶æ¯å¹¶ä¸ä¼ä¼åå¾å°æ§è¡ã\n\nä½¿ç¨å»¶æ¶éåæä»¶è§£å³ï¼\n\n\n# å®è£\n\nå®ç½ä¸è½½å°åï¼https://www.rabbitmq.com/community-plugins.html\n\næ¾å° rabbitmq_delayed_message_exchange æä»¶ï¼ç¹å»Releasesï¼è¿å¥githubé¡µé¢ç¹å»ä¸è½½ezæ ¼å¼çæä»¶ï¼å¹¶å°è¯¥æä»¶ä¸ä¼ å° RabbitMQ çæä»¶ç®å½/usr/lib/rabbitmq/lib/rabbitmq_server-3.8.8/pluginsã\n\n> ä¸è½½åéççæ¬ï¼mqæ¯3.8.8ï¼æä»¶å°±ä¸è½½æ¯æè¯¥çæ¬çï¼å¦åæ§è¡ä¸é¢å½ä»¤ä¼æ¥éã\n\n\n\næ§è¡å½ä»¤ï¼\n\n rabbitmq-plugins enable rabbitmq_delayed_message_exchange\n\n\n> å¦ææ§è¡äºæ²¡ååºï¼å¯ä»¥è¿å¥rabbitmqçå®è£ç®å½æ§è¡ï¼ç¶åéå¯è¯è¯ã\n\n\n\n\n\næ°å¢ä¸ä¸ªéådelayed.queueï¼ä¸ä¸ªäº¤æ¢æºdelayed.exchangeï¼ç»å®å³ç³»å¦ä¸ï¼\n\n\n\n\n# éç½®æä»¶ç±»\n\n@Configuration\npublic class DelayedQueueConfig {\n    public static final String DELAYED_QUEUE_NAME = "delayed.queue";\n    public static final String DELAYED_EXCHANGE_NAME = "delayed.exchange";\n    public static final String DELAYED_ROUTING_KEY = "delayed.routingkey";\n\n    /**\n     * å£°æ delayed.queue éå\n     */\n    @Bean\n    public Queue delayedQueue() {\n        return new Queue(DELAYED_QUEUE_NAME);\n    }\n\n    /**\n     * å£°æ delayed.exchange äº¤æ¢æº\n     * äº¤æ¢æºä½¿ç¨æ°ç±»åçäº¤æ¢æºï¼x-delayed-message\n     */\n    @Bean\n    public CustomExchange delayedExchange() {\n        Map<String, Object> args = new HashMap<>();\n        // èªå®ä¹äº¤æ¢æºçç±»å\n        args.put("x-delayed-type", "direct");\n        return new CustomExchange(DELAYED_EXCHANGE_NAME, "x-delayed-message", true, false, args);\n    }\n\n    /**\n     * å£°æéåä¸äº¤æ¢æºç»å®\n     */\n    @Bean\n    public Binding bindingDelayedQueue(@Qualifier("delayedQueue") Queue queue,\n                                       @Qualifier("delayedExchange") CustomExchange delayedExchange) {\n        return BindingBuilder.bind(queue).to(delayedExchange).with(DELAYED_ROUTING_KEY).noargs();\n    }\n}\n\n\n\n# æ¶æ¯çäº§è\n\npublic static final String DELAYED_EXCHANGE_NAME = "delayed.exchange";\npublic static final String DELAYED_ROUTING_KEY = "delayed.routingkey";\n\n@GetMapping("sendDelayMsg/{message}/{delayTime}")\npublic void sendMsg(@PathVariable String message, @PathVariable Integer delayTime) {\n    rabbitTemplate.convertAndSend(DELAYED_EXCHANGE_NAME, DELAYED_ROUTING_KEY, message, correlationData -> {\n                correlationData.getMessageProperties().setDelay(delayTime);\n                return correlationData;\n            });\n    log.info("å½åæ¶é´ï¼{}ï¼åéä¸æ¡å»¶æ¶ {} æ¯«ç§çä¿¡æ¯ç»éå delayed.queueï¼{}", \n        LocalDateTime.now(), delayTime, message);\n}\n\n\n\n# æ¶æ¯æ¶è´¹è\n\n@RabbitListener(queues = DelayedQueueConfig.DELAYED_QUEUE_NAME)\npublic void receiveDelayedQueue(Message message) {\n    String msg = new String(message.getBody());\n    log.info("å½åæ¶é´ï¼{}ï¼æ¶å°å»¶æ¶éåçæ¶æ¯ï¼{}", LocalDateTime.now(), msg);\n}\n\n\n\n# æµè¯\n\nå¯å¨é¡¹ç®ï¼åèµ·ä¸¤ä¸ªè¯·æ±\n\nhttp://localhost:8080/ttl/sendDelayMsg/{message}/{delayTime}\n\n * http://localhost:8080/ttl/sendDelayMsg/ç¬¬1æ¡æ¶æ¯/20000\n * http://localhost:8080/ttl/sendDelayMsg/ç¬¬2æ¡æ¶æ¯/2000\n\n\n\nç¬¬äºä¸ªæ¶æ¯è¢«åæ¶è´¹æï¼ç¬¦åé¢æã\n\n\n# æ»ç»\n\nå»¶æ¶éåå¨éè¦å»¶æ¶å¤ççåºæ¯ä¸éå¸¸æç¨ï¼ä½¿ç¨ RabbitMQ æ¥å®ç°å»¶æ¶éåå¯ä»¥å¾å¥½çå©ç¨å¶ç¹æ§ï¼å¦ï¼æ¶æ¯å¯é åéãæ¶æ¯å¯é æéãæ­»ä¿¡éåæ¥ä¿éæ¶æ¯è³å°è¢«æ¶è´¹ä¸æ¬¡ä»¥åæªè¢«æ­£ç¡®å¤ççæ¶æ¯ä¸ä¼è¢«ä¸¢å¼ã\n\nå¦å¤ï¼éè¿ RabbitMQ éç¾¤çç¹æ§ï¼å¯ä»¥å¾å¥½çè§£å³åç¹æéé®é¢ï¼ä¸ä¼å ä¸ºåä¸ªèç¹ææå¯¼è´å»¶æ¶éåä¸å¯ç¨æèæ¶æ¯ä¸¢å¤±ã\n\nå½ç¶ï¼å»¶æ¶éåè¿æå¾å¤å¶å®éæ©ï¼æ¯å¦å©ç¨ Java ç DelayQueueï¼å©ç¨ Redis ç zsetï¼å©ç¨ Quartzæèå©ç¨ kafka çæ¶é´è½®ï¼è¿äºæ¹å¼åæç¹ç¹ï¼çéè¦éç¨çåºæ¯ã',normalizedContent:'å»¶æ¶éååé¨æ¯æåºçï¼æéè¦çç¹æ§å°±æ¯å»¶æ¶ï¼å»¶æ¶éåä¸­çåç´ æ¯å¸æå¨æå®æ¶é´å°äºä»¥åæä¹åååºåå¤çï¼ç®åæ¥è¯´ï¼å»¶æ¶éåå°±æ¯ç¨æ¥å­æ¾éè¦å¨æå®æ¶é´è¢«å¤ççåç´ çéåã\n\n\n# ä½¿ç¨åºæ¯\n\n 1. è®¢åå¨ååéä¹åæªæ¯ä»åèªå¨åæ¶\n 2. æ°åå»ºçåºéºï¼å¦æå¨åå¤©åé½æ²¡æä¸ä¼ è¿ååï¼åèªå¨åéæ¶æ¯æéã\n 3. ç¨æ·æ³¨åæååï¼å¦æä¸å¤©åæ²¡æç»éåè¿è¡ç­ä¿¡æéã\n 4. ç¨æ·åèµ·éæ¬¾ï¼å¦æä¸å¤©åæ²¡æå¾å°å¤çåéç¥ç¸å³è¿è¥äººåã\n 5. é¢å®ä¼è®®åï¼éè¦å¨é¢å®çæ¶é´ç¹åååééç¥åä¸ªä¸ä¼äººååå ä¼è®®ã\n\nè¿äºåºæ¯é½æä¸ä¸ªç¹ç¹ï¼éè¦å¨æä¸ªäºä»¶åçä¹åæèä¹åçæå®æ¶é´ç¹å®ææä¸é¡¹ä»»å¡ï¼å¦ï¼åçè®¢åçæäºä»¶ï¼å¨ååéä¹åæ£æ¥è¯¥è®¢åæ¯ä»ç¶æï¼ç¶åå°æªæ¯ä»çè®¢åè¿è¡å³é­ï¼ä½¿ç¨å®æ¶ä»»å¡ï¼ä¸ç´è½®è¯¢æ°æ®ï¼æ¯ç§æ¥ä¸æ¬¡ï¼ååºéè¦è¢«å¤ççæ°æ®ï¼ç¶åå¤çï¼å¦ææ°æ®éæ¯è¾å°ï¼å¯ä»¥è¿æ ·åï¼ä½å¯¹äºæ°æ®éæ¯è¾å¤§ï¼å¹¶ä¸æ¶ææ§è¾å¼ºçåºæ¯ï¼ç­æåæªæ¯ä»çè®¢åæ°æ®å¯è½ä¼æå¾å¤ï¼æ´»å¨æé´çè³ä¼è¾¾å°ç¾ä¸çè³åä¸çº§å«ï¼å¯¹è¿ä¹åºå¤§çæ°æ®éä½¿ç¨è½®è¯¢çæ¹å¼æ¯ä¸å¯åçï¼å¾å¯è½å¨ä¸ç§åæ æ³å®æææè®¢åçæ£æ¥ï¼åæ¶ä¼ç»æ°æ®åºå¸¦æ¥å¾å¤§ååï¼æ æ³æ»¡è¶³ä¸å¡è¦æ±èä¸æ§è½ä½ä¸ã\n\n\n\n\n# ttl\n\nttl æ¯ rabbitmq ä¸­ä¸ä¸ªæ¶æ¯æèéåçå±æ§ï¼è¡¨æä¸æ¡æ¶æ¯æèè¯¥éåä¸­çæææ¶æ¯çæå¤§å­æ´»æ¶é´ï¼åä½æ¯æ¯«ç§ã\n\nå¦æä¸æ¡æ¶æ¯è®¾ç½®äº ttl å±æ§æèè¿å¥äºè®¾ç½®ttl å±æ§çéåï¼è¿æ¡æ¶æ¯å¦æå¨ttlè®¾ç½®çæ¶é´åæ²¡æè¢«æ¶è´¹ï¼åä¼æä¸º"æ­»ä¿¡"ãå¦æåæ¶éç½®äºéåçttlåæ¶æ¯çttlï¼ä¼ä½¿ç¨è¾å°çå¼ï¼æä¸¤ç§æ¹å¼è®¾ç½® ttlã\n\n\n# éåè®¾ç½®ttl\n\nå¨åå»ºéåçæ¶åè®¾ç½®éåçx-message-ttlå±æ§ï¼ä½¿ç¨springbootæ´åè®¾ç½®ï¼\n\n/**\n * å£°æ a éåï¼å¹¶è®¾ç½®ttlæ¶é´ä¸º 10 ç§\n */\n@bean("aqueue")\npublic queue aqueue() {\n    map<string, object> args = new hashmap<>(3);\n    // å£°æéåç ttl\n    args.put("x-message-ttl", 10000);\n    return queuebuilder.durable(queue_a).witharguments(args).build();\n}\n\n\nåå»ºä¸¤ä¸ªéå qa å qbï¼ä¸¤èéå ttl åå«è®¾ç½®ä¸º 10s å 40sï¼ç¶åå¨åå»ºä¸ä¸ªäº¤æ¢æº x åæ­»ä¿¡äº¤æ¢æº yï¼å®ä»¬çç±»åé½æ¯directï¼åå»ºä¸ä¸ªæ­»ä¿¡éå qdï¼å®ä»¬çç»å®å³ç³»å¦ä¸ï¼\n\n\n\n# åå»ºéç½®æä»¶ç±»\n\nimport org.springframework.amqp.core.*;\n\n@configuration\npublic class ttlqueueconfig {\n\n    public static final string x_exchange = "x";\n    public static final string queue_a = "a";\n    public static final string queue_b = "b";\n    public static final string y_dead_letter_exchange = "y";\n    public static final string dead_letter_queue = "d";\n\n    /**\n     * å£°æ x äº¤æ¢æº\n     */\n    @bean("xexchange")\n    public directexchange xexchange() {\n        return new directexchange(x_exchange);\n    }\n\n    /**\n     * å£°æ y æ­»ä¿¡äº¤æ¢æº\n     */\n    @bean("yexchange")\n    public directexchange yexchange() {\n        return new directexchange(y_dead_letter_exchange);\n    }\n\n    /**\n     * å£°æ a éåï¼ç»å®æ­»ä¿¡äº¤æ¢æºï¼å¹¶è®¾ç½®ttlæ¶é´ä¸º 10 ç§\n     */\n    @bean("aqueue")\n    public queue aqueue() {\n        map<string, object> args = new hashmap<>(3);\n        // å£°æå½åéåç»å®çæ­»ä¿¡äº¤æ¢æº\n        args.put("x-dead-letter-exchange", y_dead_letter_exchange);\n        // å£°æå½åéåçæ­»ä¿¡è·¯ç± key\n        args.put("x-dead-letter-routing-key", "yd");\n        // å£°æéåç ttl\n        args.put("x-message-ttl", 10000);\n        return queuebuilder.durable(queue_a).witharguments(args).build();\n    }\n\n    /**\n     * å£°æ a éåä¸ x äº¤æ¢æºç»å®\n     */\n    @bean\n    public binding aqueuebindingx(@qualifier("aqueue") queue aqueue,\n                                  @qualifier("xexchange") directexchange xexchange) {\n        return bindingbuilder.bind(aqueue).to(xexchange).with("xa");\n    }\n\n    /**\n     * å£°æ b éåï¼ç»å®æ­»ä¿¡äº¤æ¢æºï¼å¹¶è®¾ç½®ttlæ¶é´ä¸º 40 ç§\n     */\n    @bean("bqueue")\n    public queue bqueue() {\n        map<string, object> args = new hashmap<>(3);\n        //å£°æå½åéåç»å®çæ­»ä¿¡äº¤æ¢æº\n        args.put("x-dead-letter-exchange", y_dead_letter_exchange);\n        //å£°æå½åéåçæ­»ä¿¡è·¯ç± key\n        args.put("x-dead-letter-routing-key", "yd");\n        //å£°æéåç ttl\n        args.put("x-message-ttl", 40000);\n        return queuebuilder.durable(queue_b).witharguments(args).build();\n    }\n\n    /**\n     * å£°æéåaä¸äº¤æ¢æºxç»å®\n     */\n    @bean\n    public binding bqueuebindingx(@qualifier("bqueue") queue bqueue,\n                                  @qualifier("xexchange") directexchange xexchange) {\n        return bindingbuilder.bind(bqueue).to(xexchange).with("xb");\n    }\n\n    /**\n     * å£°ææ­»ä¿¡éå d\n     */\n    @bean("dqueue")\n    public queue dqueue() {\n        return new queue(dead_letter_queue);\n    }\n\n    /**\n     * å£°ææ­»ä¿¡éå d ä¸æ­»ä¿¡äº¤æ¢æº y ç»å®\n     */\n    @bean\n    public binding ddeadletterqueuebindingy(@qualifier("dqueue") queue queued,\n                                            @qualifier("yexchange") directexchange yexchange) {\n        return bindingbuilder.bind(queued).to(yexchange).with("yd");\n    }\n}\n\n\n# æ¶æ¯çäº§è\n\n@slf4j\n@requestmapping("/ttl")\n@restcontroller\npublic class sendmsgcontroller {\n\n    @autowired\n    private rabbittemplate rabbittemplate;\n\n    @getmapping("sendmsg/{message}")\n    public void sendmsg(@pathvariable string message) {\n        log.info("å½åæ¶é´ï¼{}ï¼åéä¸æ¡ä¿¡æ¯ç»ä¸¤ä¸ª ttl éåï¼{}", localdatetime.now(), message);\n        rabbittemplate.convertandsend("x", "xa", "æ¶æ¯æ¥èª ttl ä¸º 10s çéå: " + message);\n        rabbittemplate.convertandsend("x", "xb", "æ¶æ¯æ¥èª ttl ä¸º 40s çéå: " + message);\n    }\n}\n\n\n# æ¶æ¯æ¶è´¹è\n\n@slf4j\n@component\npublic class deadletterqueueconsumer {\n\n    @rabbitlistener(queues = ttlqueueconfig.dead_letter_queue)\n    public void received(message message, channel channel) {\n        string msg = new string(message.getbody());\n        log.info("å½åæ¶é´ï¼{}ï¼æ¶å°æ­»ä¿¡éåä¿¡æ¯{}", localdatetime.now(), msg);\n    }\n}\n\n\n# æµè¯\n\nå¯å¨é¡¹ç®ï¼åèµ·ä¸ä¸ªè¯·æ± http://localhost:8080/ttl/sendmsg/124123\n\n\n\nç¬¬ä¸æ¡æ¶æ¯å¨ 10s ååæäºæ­»ä¿¡æ¶æ¯ï¼ç¶åè¢«æ¶è´¹èæ¶è´¹æï¼ç¬¬äºæ¡æ¶æ¯å¨ 40s ä¹ååæäºæ­»ä¿¡æ¶æ¯ï¼ç¶åè¢«æ¶è´¹æï¼è¿æ ·ä¸ä¸ªå»¶æ¶éåå°±æé å®æäºã\n\n\n# æ¶æ¯è®¾ç½®ttl\n\nå¯¹æ¯æ¡æ¶æ¯è®¾ç½®ttlï¼ä½¿ç¨springbootæ´åè®¾ç½®ï¼\n\n@getmapping("sendmsg/{message}")\npublic void sendmsg(@pathvariable string message) {\n    log.info("å½åæ¶é´ï¼{}ï¼åéä¸æ¡ä¿¡æ¯ç»ä¸¤ä¸ª ttl éåï¼{}", localdatetime.now(), message);\n    rabbittemplate.convertandsend("x", "xa", "æ¶æ¯æ¥èª ttl ä¸º 10s çéå: " + message);\n    rabbittemplate.convertandsend("x", "xb", "æ¶æ¯æ¥èª ttl ä¸º 40s çéå: " + message,\n            // æ¶æ¯æ¥èªè®¾ç½®äº40sçéåï¼ä½æ¶æ¯çttlæ¯2sï¼å¦æé½è®¾ç½®äºï¼åä»¥å°çä¸ºå\n            correlationdata -> {\n                correlationdata.getmessageproperties().setexpiration("2000");\n                return correlationdata;\n            });\n}\n\n\nå¨ä¸é¢çæ¡ä¾ä¸­æ°å¢ä¸ä¸ªcéåï¼ç»å®å³ç³»å¦ä¸ï¼è¯¥éåä¸è®¾ç½®ttl æ¶é´ï¼\n\n\n\n# åå»ºä¸ä¸ªæ°çéç½®ç±»\n\n@component\npublic class msgqueueconfig {\n\n    public static final string queue_c = "c";\n    public static final string y_dead_letter_exchange = "y";\n\n    /**\n     * å£°æ c éåï¼ç»å®æ­»ä¿¡äº¤æ¢æº\n     */\n    @bean("cqueue")\n    public queue cqueue(){\n        map<string, object> args = new hashmap<>(3);\n        //å£°æå½åéåç»å®çæ­»ä¿¡äº¤æ¢æº\n        args.put("x-dead-letter-exchange", y_dead_letter_exchange);\n        //å£°æå½åéåçæ­»ä¿¡è·¯ç± key\n        args.put("x-dead-letter-routing-key", "yd");\n        //æ²¡æå£°æ ttl å±æ§\n        return queuebuilder.durable(queue_c).witharguments(args).build();\n    }\n\n    /**\n     * å£°æéåcä¸äº¤æ¢æºxç»å®\n     */\n    @bean\n    public binding cqueuebindingx(@qualifier("cqueue") queue bqueue,\n                                  @qualifier("xexchange") directexchange xexchange) {\n        return bindingbuilder.bind(bqueue).to(xexchange).with("xc");\n    }\n}\n\n\n# æ¶æ¯çäº§è\n\n@getmapping("sendmsg/{message}")\npublic void sendmsg(@pathvariable string message) {\n    log.info("å½åæ¶é´ï¼{}ï¼åéä¸æ¡ä¿¡æ¯ç»ä¸¤ä¸ª ttl éåï¼{}", localdatetime.now(), message);\n    rabbittemplate.convertandsend("x", "xa", "æ¶æ¯æ¥èª ttl ä¸º 10s çéå: " + message);\n    rabbittemplate.convertandsend("x", "xb", "æ¶æ¯æ¥èª ttl ä¸º 40s çéå: " + message,\n            // æ¶æ¯æ¥èªè®¾ç½®äº40sçéåï¼ä½æ¶æ¯çttlæ¯2sï¼å¦æé½è®¾ç½®äºï¼åä»¥å°çä¸ºå\n            correlationdata -> {\n                correlationdata.getmessageproperties().setexpiration("2000");\n                return correlationdata;\n            });\n}\n\n@getmapping("sendexpirationmsg/{message}/{ttltime}")\npublic void sendmsg(@pathvariable string message, @pathvariable string ttltime) {\n    rabbittemplate.convertandsend("x", "xc", message, correlationdata -> {\n        correlationdata.getmessageproperties().setexpiration(ttltime);\n        return correlationdata;\n    });\n    log.info("å½åæ¶é´ï¼{}ï¼åéä¸æ¡æ¶é¿{}æ¯«ç§ ttl ä¿¡æ¯ç»éå c: {}", localdatetime.now(), ttltime, message);\n}\n\n\n# æ¶æ¯æ¶è´¹è\n\nåä¸é¢çä¿æä¸è´\n\n# æµè¯\n\nå¯å¨é¡¹ç®ï¼åèµ·ä¸¤ä¸ªè¯·æ±\n\n * http://localhost:8080/ttl/sendexpirationmsg/ä½ å¥½2/20000\n * http://localhost:8080/ttl/sendexpirationmsg/ä½ å¥½/2000\n\n\n\næ§è¡æåã\n\n\n# ä¸¤èçåºå«\n\nè®¾ç½®éåç ttl å±æ§ï¼ä¸æ¦æ¶æ¯è¿æï¼å°±ä¼è¢«éåä¸¢å¼(å¦æéç½®äºæ­»ä¿¡éåè¢«ä¸¢å°æ­»ä¿¡éåä¸­)ã\n\nè®¾ç½®æ¶æ¯ç ttl å±æ§ï¼æ¶æ¯è¿æï¼ä¸ä¸å®ä¼è¢«é©¬ä¸ä¸¢å¼ï¼æ¶æ¯æ¯å¦è¿ææ¯å¨å³å°æéå°æ¶è´¹èä¹åå¤å®çï¼å¦æå½åéåæä¸¥éçæ¶æ¯ç§¯åæåµï¼åå·²è¿æçæ¶æ¯ä¹è®¸è¿è½å­æ´»è¾é¿æ¶é´ï¼å¦æä¸è®¾ç½® ttlï¼è¡¨ç¤ºæ¶æ¯æ°¸è¿ä¸ä¼è¿æï¼å¦æå° ttl è®¾ç½®ä¸º 0ï¼åè¡¨ç¤ºé¤éæ­¤æ¶å¯ä»¥ç´æ¥æéè¯¥æ¶æ¯å°æ¶è´¹èï¼å¦åè¯¥æ¶æ¯å°ä¼è¢«ä¸¢å¼ã\n\n\n# å»¶æ¶éåæä»¶\n\nä¸é¢æ¶æ¯ttlè®¾ç½®æ¶ï¼çèµ·æ¥æ²¡ä»ä¹é®é¢ï¼ä½å¦æä½¿ç¨å¨æ¶æ¯å±æ§ä¸è®¾ç½® ttl çæ¹å¼ï¼æ¶æ¯å¯è½å¹¶ä¸ä¼ææ¶âæ­»äº¡âï¼å ä¸º rabbitmq åªä¼æ£æ¥ç¬¬ä¸ä¸ªæ¶æ¯æ¯å¦è¿æï¼å¦æè¿æåä¸¢å°æ­»ä¿¡éåï¼å¦æç¬¬ä¸ä¸ªæ¶æ¯çå»¶æ¶æ¶é¿å¾é¿ï¼èç¬¬äºä¸ªæ¶æ¯çå»¶æ¶æ¶é¿å¾ç­ï¼ç¬¬äºä¸ªæ¶æ¯å¹¶ä¸ä¼ä¼åå¾å°æ§è¡ã\n\nä½¿ç¨å»¶æ¶éåæä»¶è§£å³ï¼\n\n\n# å®è£\n\nå®ç½ä¸è½½å°åï¼https://www.rabbitmq.com/community-plugins.html\n\næ¾å° rabbitmq_delayed_message_exchange æä»¶ï¼ç¹å»releasesï¼è¿å¥githubé¡µé¢ç¹å»ä¸è½½ezæ ¼å¼çæä»¶ï¼å¹¶å°è¯¥æä»¶ä¸ä¼ å° rabbitmq çæä»¶ç®å½/usr/lib/rabbitmq/lib/rabbitmq_server-3.8.8/pluginsã\n\n> ä¸è½½åéççæ¬ï¼mqæ¯3.8.8ï¼æä»¶å°±ä¸è½½æ¯æè¯¥çæ¬çï¼å¦åæ§è¡ä¸é¢å½ä»¤ä¼æ¥éã\n\n\n\næ§è¡å½ä»¤ï¼\n\n rabbitmq-plugins enable rabbitmq_delayed_message_exchange\n\n\n> å¦ææ§è¡äºæ²¡ååºï¼å¯ä»¥è¿å¥rabbitmqçå®è£ç®å½æ§è¡ï¼ç¶åéå¯è¯è¯ã\n\n\n\n\n\næ°å¢ä¸ä¸ªéådelayed.queueï¼ä¸ä¸ªäº¤æ¢æºdelayed.exchangeï¼ç»å®å³ç³»å¦ä¸ï¼\n\n\n\n\n# éç½®æä»¶ç±»\n\n@configuration\npublic class delayedqueueconfig {\n    public static final string delayed_queue_name = "delayed.queue";\n    public static final string delayed_exchange_name = "delayed.exchange";\n    public static final string delayed_routing_key = "delayed.routingkey";\n\n    /**\n     * å£°æ delayed.queue éå\n     */\n    @bean\n    public queue delayedqueue() {\n        return new queue(delayed_queue_name);\n    }\n\n    /**\n     * å£°æ delayed.exchange äº¤æ¢æº\n     * äº¤æ¢æºä½¿ç¨æ°ç±»åçäº¤æ¢æºï¼x-delayed-message\n     */\n    @bean\n    public customexchange delayedexchange() {\n        map<string, object> args = new hashmap<>();\n        // èªå®ä¹äº¤æ¢æºçç±»å\n        args.put("x-delayed-type", "direct");\n        return new customexchange(delayed_exchange_name, "x-delayed-message", true, false, args);\n    }\n\n    /**\n     * å£°æéåä¸äº¤æ¢æºç»å®\n     */\n    @bean\n    public binding bindingdelayedqueue(@qualifier("delayedqueue") queue queue,\n                                       @qualifier("delayedexchange") customexchange delayedexchange) {\n        return bindingbuilder.bind(queue).to(delayedexchange).with(delayed_routing_key).noargs();\n    }\n}\n\n\n\n# æ¶æ¯çäº§è\n\npublic static final string delayed_exchange_name = "delayed.exchange";\npublic static final string delayed_routing_key = "delayed.routingkey";\n\n@getmapping("senddelaymsg/{message}/{delaytime}")\npublic void sendmsg(@pathvariable string message, @pathvariable integer delaytime) {\n    rabbittemplate.convertandsend(delayed_exchange_name, delayed_routing_key, message, correlationdata -> {\n                correlationdata.getmessageproperties().setdelay(delaytime);\n                return correlationdata;\n            });\n    log.info("å½åæ¶é´ï¼{}ï¼åéä¸æ¡å»¶æ¶ {} æ¯«ç§çä¿¡æ¯ç»éå delayed.queueï¼{}", \n        localdatetime.now(), delaytime, message);\n}\n\n\n\n# æ¶æ¯æ¶è´¹è\n\n@rabbitlistener(queues = delayedqueueconfig.delayed_queue_name)\npublic void receivedelayedqueue(message message) {\n    string msg = new string(message.getbody());\n    log.info("å½åæ¶é´ï¼{}ï¼æ¶å°å»¶æ¶éåçæ¶æ¯ï¼{}", localdatetime.now(), msg);\n}\n\n\n\n# æµè¯\n\nå¯å¨é¡¹ç®ï¼åèµ·ä¸¤ä¸ªè¯·æ±\n\nhttp://localhost:8080/ttl/senddelaymsg/{message}/{delaytime}\n\n * http://localhost:8080/ttl/senddelaymsg/ç¬¬1æ¡æ¶æ¯/20000\n * http://localhost:8080/ttl/senddelaymsg/ç¬¬2æ¡æ¶æ¯/2000\n\n\n\nç¬¬äºä¸ªæ¶æ¯è¢«åæ¶è´¹æï¼ç¬¦åé¢æã\n\n\n# æ»ç»\n\nå»¶æ¶éåå¨éè¦å»¶æ¶å¤ççåºæ¯ä¸éå¸¸æç¨ï¼ä½¿ç¨ rabbitmq æ¥å®ç°å»¶æ¶éåå¯ä»¥å¾å¥½çå©ç¨å¶ç¹æ§ï¼å¦ï¼æ¶æ¯å¯é åéãæ¶æ¯å¯é æéãæ­»ä¿¡éåæ¥ä¿éæ¶æ¯è³å°è¢«æ¶è´¹ä¸æ¬¡ä»¥åæªè¢«æ­£ç¡®å¤ççæ¶æ¯ä¸ä¼è¢«ä¸¢å¼ã\n\nå¦å¤ï¼éè¿ rabbitmq éç¾¤çç¹æ§ï¼å¯ä»¥å¾å¥½çè§£å³åç¹æéé®é¢ï¼ä¸ä¼å ä¸ºåä¸ªèç¹ææå¯¼è´å»¶æ¶éåä¸å¯ç¨æèæ¶æ¯ä¸¢å¤±ã\n\nå½ç¶ï¼å»¶æ¶éåè¿æå¾å¤å¶å®éæ©ï¼æ¯å¦å©ç¨ java ç delayqueueï¼å©ç¨ redis ç zsetï¼å©ç¨ quartzæèå©ç¨ kafka çæ¶é´è½®ï¼è¿äºæ¹å¼åæç¹ç¹ï¼çéè¦éç¨çåºæ¯ã',charsets:{cjk:!0},lastUpdated:"2022/11/25, 18:48:06",lastUpdatedTimestamp:1669373286e3},{title:"RabbitMQåå¸ç¡®è®¤é«çº§",frontmatter:{title:"RabbitMQåå¸ç¡®è®¤é«çº§",date:"2022-12-07T14:27:01.000Z",permalink:"/pages/mcht59cm",categories:["ä¸­é´ä»¶"],tags:["RabbitMQ"],author:{name:"ä¹æ¨åç"}},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/01.%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6/1001.RabbitMQ/10.RabbitMQ%E5%8F%91%E5%B8%83%E7%A1%AE%E8%AE%A4%E9%AB%98%E7%BA%A7.html",relativePath:"04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/10.RabbitMQåå¸ç¡®è®¤é«çº§.md",key:"v-313f6d8e",path:"/pages/mcht59cm/",headers:[{level:2,title:"åå¸ç¡®è®¤",slug:"åå¸ç¡®è®¤",normalizedTitle:"åå¸ç¡®è®¤",charIndex:121},{level:3,title:"éç½®æä»¶",slug:"éç½®æä»¶",normalizedTitle:"éç½®æä»¶",charIndex:151},{level:3,title:"éç½®ç±»",slug:"éç½®ç±»",normalizedTitle:"éç½®ç±»",charIndex:531},{level:3,title:"åè°æ¥å£",slug:"åè°æ¥å£",normalizedTitle:"åè°æ¥å£",charIndex:1357},{level:3,title:"æ¶æ¯çäº§è",slug:"æ¶æ¯çäº§è",normalizedTitle:"æ¶æ¯çäº§è",charIndex:1920},{level:3,title:"æ¶æ¯æ¶è´¹è",slug:"æ¶æ¯æ¶è´¹è",normalizedTitle:"æ¶æ¯æ¶è´¹è",charIndex:3022},{level:3,title:"æµè¯",slug:"æµè¯",normalizedTitle:"æµè¯",charIndex:3361},{level:2,title:"åéæ¶æ¯",slug:"åéæ¶æ¯",normalizedTitle:"åéæ¶æ¯",charIndex:3602},{level:2,title:"å¤ä»½äº¤æ¢æº",slug:"å¤ä»½äº¤æ¢æº",normalizedTitle:"å¤ä»½äº¤æ¢æº",charIndex:5620},{level:3,title:"éç½®ç±»",slug:"éç½®ç±»-2",normalizedTitle:"éç½®ç±»",charIndex:531},{level:3,title:"æ¶æ¯çäº§è",slug:"æ¶æ¯çäº§è-2",normalizedTitle:"æ¶æ¯çäº§è",charIndex:1920},{level:3,title:"æ¶æ¯æ¶è´¹è",slug:"æ¶æ¯æ¶è´¹è-2",normalizedTitle:"æ¶æ¯æ¶è´¹è",charIndex:3022},{level:3,title:"æµè¯",slug:"æµè¯-2",normalizedTitle:"æµè¯",charIndex:3361}],excerpt:"<p>å¨çäº§ç¯å¢ä¸­ç±äºä¸äºä¸æåå ï¼å¯¼è´ RabbitMQ éå¯ï¼å¨ RabbitMQ éå¯æé´çäº§èæ¶æ¯æéå¤±è´¥ï¼å¯¼è´æ¶æ¯ä¸¢å¤±ï¼éè¦æå¨å¤çåæ¢å¤ã å¨è¿æ ·æ¯è¾æç«¯çæåµï¼RabbitMQ éç¾¤ä¸å¯ç¨çæ¶åï¼æ æ³æéçæ¶æ¯è¯¥å¦ä½å¤çå¢ï¼</p>\n",headersStr:"åå¸ç¡®è®¤ éç½®æä»¶ éç½®ç±» åè°æ¥å£ æ¶æ¯çäº§è æ¶æ¯æ¶è´¹è æµè¯ åéæ¶æ¯ å¤ä»½äº¤æ¢æº éç½®ç±» æ¶æ¯çäº§è æ¶æ¯æ¶è´¹è æµè¯",content:'å¨çäº§ç¯å¢ä¸­ç±äºä¸äºä¸æåå ï¼å¯¼è´ RabbitMQ éå¯ï¼å¨ RabbitMQ éå¯æé´çäº§èæ¶æ¯æéå¤±è´¥ï¼å¯¼è´æ¶æ¯ä¸¢å¤±ï¼éè¦æå¨å¤çåæ¢å¤ã å¨è¿æ ·æ¯è¾æç«¯çæåµï¼RabbitMQ éç¾¤ä¸å¯ç¨çæ¶åï¼æ æ³æéçæ¶æ¯è¯¥å¦ä½å¤çå¢ï¼\n\n\n# åå¸ç¡®è®¤\n\nç¡®è®¤æºå¶æ¹æ¡ï¼\n\n\n\nä»£ç æ¶æå¾ï¼\n\n\n\n\n# éç½®æä»¶\n\nå¨application.propertiesæä»¶ä¸­å å¥ä¸é¢çéç½®ï¼\n\nspring.rabbitmq.publisher-confirm-type=correlated\n\n\n * NONEï¼ç¦ç¨åå¸ç¡®è®¤æ¨¡å¼ï¼æ¯é»è®¤å¼\n * CORRELATEDï¼åå¸æ¶æ¯æåå°äº¤æ¢å¨åä¼è§¦ååè°æ¹æ³\n * SIMPLEï¼æä¸¤ç§ææï¼å¶ä¸ææå CORRELATED å¼ä¸æ ·ä¼è§¦ååè°æ¹æ³ï¼å¶äºå¨åå¸æ¶æ¯æååä½¿ç¨ rabbitTemplate è°ç¨ waitForConfirms æ waitForConfirmsOrDie æ¹æ³ç­å¾ broker èç¹è¿ååéç»æï¼æ ¹æ®è¿åç»ææ¥å¤å®ä¸ä¸æ­¥çé»è¾ã\n\n> è¦æ³¨æçæ¯waitForConfirmsOrDie æ¹æ³å¦æè¿å false åä¼å³é­ channelï¼åæ¥ä¸æ¥æ æ³åéæ¶æ¯å° brokerã\n\n\n# éç½®ç±»\n\n@Configuration\npublic class ConfirmConfig {\n    public static final String CONFIRM_EXCHANGE_NAME = "confirm.exchange";\n    public static final String CONFIRM_QUEUE_NAME = "confirm.queue";\n\n    /**\n     * å£°æäº¤æ¢æº\n     */\n    @Bean("confirmExchange")\n    public DirectExchange confirmExchange() {\n        return new DirectExchange(CONFIRM_EXCHANGE_NAME);\n    }\n\n    /**\n     * å£°æéå\n     * è¯¥éåæ¯ç¡®è®¤éå\n     */\n    @Bean("confirmQueue")\n    public Queue confirmQueue() {\n        return QueueBuilder.durable(CONFIRM_QUEUE_NAME).build();\n    }\n\n    /**\n     * å£°æäº¤æ¢æºä¸éåç»å®\n     */\n    @Bean\n    public Binding queueBinding(@Qualifier("confirmQueue") Queue queue,\n                                @Qualifier("confirmExchange") DirectExchange exchange) {\n        return BindingBuilder.bind(queue).to(exchange).with("key1");\n    }\n}\n\n\n\n# åè°æ¥å£\n\n@Component\n@Slf4j\npublic class MyCallBack implements RabbitTemplate.ConfirmCallback {\n    /**\n     * äº¤æ¢æºä¸ç®¡æ¯å¦æ¶å°æ¶æ¯çä¸ä¸ªåè°æ¹æ³\n     *\n     * @param correlationData æ¶æ¯ç¸å³æ°æ®\n     * @param ack             äº¤æ¢æºæ¯å¦æ¶å°æ¶æ¯\n     */\n    @Override\n    public void confirm(CorrelationData correlationData, boolean ack, String cause) {\n        String id = correlationData != null ? correlationData.getId() : "";\n        if (ack) {\n            log.info("äº¤æ¢æºå·²ç»æ¶å° id ä¸ºï¼{}çæ¶æ¯", id);\n        } else {\n            log.info("äº¤æ¢æºè¿æªæ¶å° id ä¸ºï¼{}æ¶æ¯ï¼ç±äºåå ï¼{}", id, cause);\n        }\n    }\n}\n\n\n\n# æ¶æ¯çäº§è\n\n@Slf4j\n@RestController\n@RequestMapping("/confirm")\npublic class Producer {\n    public static final String CONFIRM_EXCHANGE_NAME = "confirm.exchange";\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n    @Autowired\n    private MyCallBack myCallBack;\n\n    /**\n     * ä¾èµæ³¨å¥ rabbitTemplate ä¹ååè®¾ç½®å®çåè°å¯¹è±¡\n     */\n    @PostConstruct\n    public void init() {\n        rabbitTemplate.setConfirmCallback(myCallBack);\n    }\n\n    @GetMapping("sendMessage/{message}")\n    public void sendMessage(@PathVariable String message) {\n        // æå®æ¶æ¯ id ä¸º 1\n        CorrelationData correlationData1 = new CorrelationData("1");\n        String routingKey = "key1";\n        rabbitTemplate.convertAndSend(CONFIRM_EXCHANGE_NAME, routingKey, message, correlationData1);\n        log.info("åéæ¶æ¯routingKey={}ï¼åå®¹={}", routingKey, message);\n\n        CorrelationData correlationData2 = new CorrelationData("2");\n        routingKey = "key2";\n        rabbitTemplate.convertAndSend(CONFIRM_EXCHANGE_NAME, routingKey, message, correlationData2);\n        log.info("åéæ¶æ¯routingKey={}ï¼åå®¹={}", routingKey, message);\n    }\n}\n\n\n\n# æ¶æ¯æ¶è´¹è\n\n@Slf4j\n@Component\npublic class ConfirmConsumer {\n\n    public static final String CONFIRM_QUEUE_NAME = "confirm.queue";\n\n    @RabbitListener(queues = CONFIRM_QUEUE_NAME)\n    public void receiveMsg(Message message) {\n        String msg = new String(message.getBody());\n        log.info("æ¥æ¶å°éå confirm.queue æ¶æ¯:{}", msg);\n    }\n}\n\n\n\n# æµè¯\n\nå¯å¨é¡¹ç®ï¼åèµ·ä¸ä¸ªè¯·æ±ï¼http://localhost:8080/confirm/sendMessage/xx1\n\nåéäºä¸¤æ¡æ¶æ¯ï¼ç¬¬ä¸æ¡æ¶æ¯ç RoutingKey ä¸º "key1"ï¼ç¬¬äºæ¡æ¶æ¯ç RoutingKey ä¸º "key2"ï¼ä¸¤æ¡æ¶æ¯é½æåè¢«äº¤æ¢æºæ¥æ¶ï¼ä¹æ¶å°äºäº¤æ¢æºçç¡®è®¤åè°ï¼ä½æ¶è´¹èåªæ¶å°äºä¸æ¡æ¶æ¯ï¼å ä¸ºç¬¬äºæ¡æ¶æ¯ç RoutingKey ä¸éåç BindingKey ä¸ä¸è´ï¼ä¹æ²¡æå¶å®éåè½æ¥æ¶è¿ä¸ªæ¶æ¯ï¼ææç¬¬äºæ¡æ¶æ¯è¢«ç´æ¥ä¸¢å¼äºã\n\n\n\n\n# åéæ¶æ¯\n\nå¨ä»å¼å¯äºçäº§èç¡®è®¤æºå¶çæåµä¸ï¼äº¤æ¢æºæ¥æ¶å°æ¶æ¯åï¼ä¼ç´æ¥ç»æ¶æ¯çäº§èåéç¡®è®¤æ¶æ¯ï¼å¦æåç°è¯¥æ¶æ¯ä¸å¯è·¯ç±ï¼é£ä¹æ¶æ¯ä¼è¢«ç´æ¥ä¸¢å¼ï¼çäº§èæ¯ä¸ç¥éæ¶æ¯è¢«ä¸¢å¼çãéè¿è®¾ç½® mandatory** åæ°**å¯ä»¥å¨å½æ¶æ¯ä¼ éè¿ç¨ä¸­ä¸å¯è¾¾ç®çå°æ¶å°æ¶æ¯è¿åç»çäº§èã\n\n@Slf4j\n@RestController\npublic class MessageProducer implements RabbitTemplate.ConfirmCallback, RabbitTemplate.ReturnCallback {\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    /**\n     * rabbitTemplate æ³¨å¥ä¹åå°±è®¾ç½®è¯¥å¼\n     */\n    @PostConstruct\n    private void init() {\n        // è®¾ç½®æ¶å°æ¶æ¯çåè°äº¤ç»è°å¤ç\n        rabbitTemplate.setConfirmCallback(this);\n        // trueï¼äº¤æ¢æºæ æ³å°æ¶æ¯è¿è¡è·¯ç±æ¶ï¼ä¼å°è¯¥æ¶æ¯è¿åç»çäº§è\n        // falseï¼å¦æåç°æ¶æ¯æ æ³è¿è¡è·¯ç±ï¼åç´æ¥ä¸¢å¼\n        rabbitTemplate.setMandatory(true);\n        // è®¾ç½®åéæ¶æ¯äº¤ç»è°å¤ç\n        rabbitTemplate.setReturnCallback(this);\n    }\n\n    @GetMapping("/sendMessage/{message}")\n    public void sendMessage(@PathVariable String message) {\n        // è®©æ¶æ¯ç»å®ä¸ä¸ª id å¼\n        CorrelationData correlationData1 = new CorrelationData(UUID.randomUUID().toString());\n        rabbitTemplate.convertAndSend("confirm.exchange", "key1", message + "key1", correlationData1);\n        log.info("åéæ¶æ¯idä¸º:{}åå®¹ä¸º{}", correlationData1.getId(), message + "key1");\n\n        CorrelationData correlationData2 = new CorrelationData(UUID.randomUUID().toString());\n        rabbitTemplate.convertAndSend("confirm.exchange", "key2", message + "key2", correlationData2);\n        log.info("åéæ¶æ¯idä¸º:{}åå®¹ä¸º{}", correlationData2.getId(), message + "key2");\n    }\n\n    @Override\n    public void confirm(CorrelationData correlationData, boolean ack, String cause) {\n        String id = correlationData != null ? correlationData.getId() : "";\n        if (ack) {\n            log.info("äº¤æ¢æºæ¶å°æ¶æ¯ç¡®è®¤æåï¼id:{}", id);\n        } else {\n            log.error("æ¶æ¯id:{}æªæåæéå°äº¤æ¢æºï¼åå æ¯:{}", id, cause);\n        }\n    }\n\n    @Override\n    public void returnedMessage(Message message, int replyCode, String replyText, \n            String exchange, String routingKey) {\n        log.info("æ¶æ¯{}è¢«æå¡å¨éåï¼éååå :{}ï¼äº¤æ¢æºæ¯:{}ï¼è·¯ç± key:{}", new String(message.getBody()), replyText,\n                exchange, routingKey);\n    }\n}\n\n\n\n\n\n# å¤ä»½äº¤æ¢æº\n\nä½¿ç¨ mandatory åæ°ååéæ¶æ¯ï¼å¯ä»¥å¯¹æ æ³æéæ¶æ¯çæç¥è½åï¼å¨çäº§èçæ¶æ¯æ æ³è¢«æéæ¶åç°å¹¶å¤çãä½ææ¶åï¼å¹¶ä¸ç¥éè¯¥å¦ä½å¤çè¿äºæ æ³è·¯ç±çæ¶æ¯ï¼æå¤æä¸ªæ¥å¿ï¼ç¶åè§¦åæ¥è­¦ï¼åæ¥æå¨å¤çã\n\nèéè¿æ¥å¿æ¥å¤çè¿äºæ æ³è·¯ç±çæ¶æ¯æ¯å¾ä¸ä¼éçåæ³ï¼ç¹å«æ¯å½çäº§èæå¨çæå¡æå¤å°æºå¨çæ¶åï¼æå¨å¤å¶æ¥å¿ä¼æ´å éº»ç¦èä¸å®¹æåºéãèä¸è®¾ç½® mandatory åæ°ä¼å¢å çäº§èçå¤ææ§ï¼éè¦æ·»å å¤çè¿äºè¢«éåçæ¶æ¯çé»è¾ã\n\nå¦ææ¢ä¸æ³ä¸¢å¤±æ¶æ¯ï¼åä¸æ³å¢å çäº§èçå¤ææ§ï¼å¯ä»¥ä¸ºéåè®¾ç½®æ­»ä¿¡äº¤æ¢æºæ¥å­å¨å¤çå¤±è´¥çæ¶æ¯ï¼å¯æ¯è¿äºä¸å¯è·¯ç±æ¶æ¯æ ¹æ¬æ²¡ææºä¼è¿å¥å°éåï¼å æ­¤æ æ³ä½¿ç¨æ­»ä¿¡éåæ¥ä¿å­æ¶æ¯ã\n\nå¨ RabbitMQ ä¸­ï¼æä¸ç§å¤ä»½äº¤æ¢æºçæºå¶å­å¨ï¼å¯ä»¥å¾å¥½çåºå¯¹è¿ä¸ªé®é¢ãå¤ä»½äº¤æ¢æºå¯ä»¥çè§£ä¸º RabbitMQ ä¸­äº¤æ¢æºçâå¤èâï¼å½äº¤æ¢æºæ¥æ¶å°ä¸æ¡ä¸å¯è·¯ç±æ¶æ¯æ¶ï¼å°ä¼æè¿æ¡æ¶æ¯è½¬åå°å¤ä»½äº¤æ¢æºä¸­ï¼ç±å¤ä»½äº¤æ¢æºæ¥è¿è¡è½¬ååå¤çï¼éå¸¸å¤ä»½äº¤æ¢æºçç±»åä¸º Fanoutï¼è¿æ ·å°±è½ææææ¶æ¯é½æéå°ä¸å¶ç»å®çéåä¸­ï¼ç¶åå¨å¤ä»½äº¤æ¢æºä¸ç»å®ä¸ä¸ªéåï¼è¿æ ·ææé£äºåäº¤æ¢æºæ æ³è¢«è·¯ç±çæ¶æ¯ï¼å°±ä¼é½è¿å¥è¿ä¸ªéåãå½ç¶ï¼è¿å¯ä»¥å»ºç«ä¸ä¸ªæ¥è­¦éåï¼ç¨ç¬ç«çæ¶è´¹èæ¥è¿è¡çæµåæ¥è­¦ã\n\n\n\n\n# éç½®ç±»\n\n@Configuration\npublic class ConfirmConfig {\n\n    public static final String CONFIRM_EXCHANGE_NAME = "confirm.exchange";\n    public static final String CONFIRM_QUEUE_NAME = "confirm.queue";\n    public static final String BACKUP_EXCHANGE_NAME = "backup.exchange";\n    public static final String BACKUP_QUEUE_NAME = "backup.queue";\n    public static final String WARNING_QUEUE_NAME = "warning.queue";\n\n    /**\n     * å£°æå¤ä»½äº¤æ¢æº\n     */\n    @Bean("backupExchange")\n    public FanoutExchange backupExchange() {\n        return new FanoutExchange(BACKUP_EXCHANGE_NAME);\n    }\n\n    /**\n     * å£°æè­¦åéå\n     */\n    @Bean("warningQueue")\n    public Queue warningQueue() {\n        return QueueBuilder.durable(WARNING_QUEUE_NAME).build();\n    }\n\n    /**\n     * å£°æè­¦åéååå¤ä»½äº¤æ¢æºç»å®\n     */\n    @Bean\n    public Binding warningBinding(@Qualifier("warningQueue") Queue queue,\n                                  @Qualifier("backupExchange") FanoutExchange backupExchange) {\n        return BindingBuilder.bind(queue).to(backupExchange);\n    }\n\n    /**\n     * å£°æå¤ä»½éå\n     */\n    @Bean("backQueue")\n    public Queue backQueue() {\n        return QueueBuilder.durable(BACKUP_QUEUE_NAME).build();\n    }\n\n    /**\n     * å£°æå¤ä»½éååå¤ä»½äº¤æ¢æºç»å®\n     */\n    @Bean\n    public Binding backupBinding(@Qualifier("backQueue") Queue queue,\n                                 @Qualifier("backupExchange") FanoutExchange backupExchange) {\n        return BindingBuilder.bind(queue).to(backupExchange);\n    }\n\n\n    /**\n     * å£°æäº¤æ¢æº\n     */\n    @Bean("confirmExchange")\n    public DirectExchange confirmExchange() {\n        ExchangeBuilder exchangeBuilder = ExchangeBuilder\n                .directExchange(CONFIRM_EXCHANGE_NAME)\n                .durable(true)\n                // è®¾ç½®è¯¥äº¤æ¢æºçå¤ä»½äº¤æ¢æº\n                .withArgument("alternate-exchange", BACKUP_EXCHANGE_NAME);\n        return exchangeBuilder.build();\n    }\n\n    /**\n     * å£°æéå\n     * è¯¥éåæ¯ç¡®è®¤éå\n     */\n    @Bean("confirmQueue")\n    public Queue confirmQueue() {\n        return QueueBuilder.durable(CONFIRM_QUEUE_NAME).build();\n    }\n\n    /**\n     * å£°æäº¤æ¢æºä¸éåç»å®\n     */\n    @Bean\n    public Binding queueBinding(@Qualifier("confirmQueue") Queue queue,\n                                @Qualifier("confirmExchange") DirectExchange exchange) {\n        return BindingBuilder.bind(queue).to(exchange).with("key1");\n    }\n}\n\n\n\n# æ¶æ¯çäº§è\n\nåä¸é¢çä¿æä¸å\n\n\n# æ¶æ¯æ¶è´¹è\n\n@Slf4j\n@Component\npublic class ConfirmConsumer {\n\n    public static final String CONFIRM_QUEUE_NAME = "confirm.queue";\n\n    @RabbitListener(queues = CONFIRM_QUEUE_NAME)\n    public void receiveMsg(Message message) {\n        String msg = new String(message.getBody());\n        log.info("æ¥æ¶å°éå confirm.queue æ¶æ¯:{}", msg);\n    }\n\n    public static final String WARNING_QUEUE_NAME = "warning.queue";\n\n    @RabbitListener(queues = WARNING_QUEUE_NAME)\n    public void receiveWarningMsg(Message message) {\n        String msg = new String(message.getBody());\n        log.error("æ¥è­¦åç°ä¸å¯è·¯ç±æ¶æ¯ï¼{}", msg);\n    }\n}\n\n\n\n# æµè¯\n\nå¯å¨é¡¹ç®ï¼åèµ·ä¸ä¸ªè¯·æ±ï¼http://localhost:8080/sendMessage/aaaa\n\n\n\nmandatory åæ°ä¸å¤ä»½äº¤æ¢æºå¯ä»¥ä¸èµ·ä½¿ç¨çæ¶åï¼å¦æä¸¤èåæ¶å¼å¯ï¼ç»è¿ä¸é¢ç»ææ¾ç¤ºç­æ¡æ¯å¤ä»½äº¤æ¢æºä¼åçº§é«ã',normalizedContent:'å¨çäº§ç¯å¢ä¸­ç±äºä¸äºä¸æåå ï¼å¯¼è´ rabbitmq éå¯ï¼å¨ rabbitmq éå¯æé´çäº§èæ¶æ¯æéå¤±è´¥ï¼å¯¼è´æ¶æ¯ä¸¢å¤±ï¼éè¦æå¨å¤çåæ¢å¤ã å¨è¿æ ·æ¯è¾æç«¯çæåµï¼rabbitmq éç¾¤ä¸å¯ç¨çæ¶åï¼æ æ³æéçæ¶æ¯è¯¥å¦ä½å¤çå¢ï¼\n\n\n# åå¸ç¡®è®¤\n\nç¡®è®¤æºå¶æ¹æ¡ï¼\n\n\n\nä»£ç æ¶æå¾ï¼\n\n\n\n\n# éç½®æä»¶\n\nå¨application.propertiesæä»¶ä¸­å å¥ä¸é¢çéç½®ï¼\n\nspring.rabbitmq.publisher-confirm-type=correlated\n\n\n * noneï¼ç¦ç¨åå¸ç¡®è®¤æ¨¡å¼ï¼æ¯é»è®¤å¼\n * correlatedï¼åå¸æ¶æ¯æåå°äº¤æ¢å¨åä¼è§¦ååè°æ¹æ³\n * simpleï¼æä¸¤ç§ææï¼å¶ä¸ææå correlated å¼ä¸æ ·ä¼è§¦ååè°æ¹æ³ï¼å¶äºå¨åå¸æ¶æ¯æååä½¿ç¨ rabbittemplate è°ç¨ waitforconfirms æ waitforconfirmsordie æ¹æ³ç­å¾ broker èç¹è¿ååéç»æï¼æ ¹æ®è¿åç»ææ¥å¤å®ä¸ä¸æ­¥çé»è¾ã\n\n> è¦æ³¨æçæ¯waitforconfirmsordie æ¹æ³å¦æè¿å false åä¼å³é­ channelï¼åæ¥ä¸æ¥æ æ³åéæ¶æ¯å° brokerã\n\n\n# éç½®ç±»\n\n@configuration\npublic class confirmconfig {\n    public static final string confirm_exchange_name = "confirm.exchange";\n    public static final string confirm_queue_name = "confirm.queue";\n\n    /**\n     * å£°æäº¤æ¢æº\n     */\n    @bean("confirmexchange")\n    public directexchange confirmexchange() {\n        return new directexchange(confirm_exchange_name);\n    }\n\n    /**\n     * å£°æéå\n     * è¯¥éåæ¯ç¡®è®¤éå\n     */\n    @bean("confirmqueue")\n    public queue confirmqueue() {\n        return queuebuilder.durable(confirm_queue_name).build();\n    }\n\n    /**\n     * å£°æäº¤æ¢æºä¸éåç»å®\n     */\n    @bean\n    public binding queuebinding(@qualifier("confirmqueue") queue queue,\n                                @qualifier("confirmexchange") directexchange exchange) {\n        return bindingbuilder.bind(queue).to(exchange).with("key1");\n    }\n}\n\n\n\n# åè°æ¥å£\n\n@component\n@slf4j\npublic class mycallback implements rabbittemplate.confirmcallback {\n    /**\n     * äº¤æ¢æºä¸ç®¡æ¯å¦æ¶å°æ¶æ¯çä¸ä¸ªåè°æ¹æ³\n     *\n     * @param correlationdata æ¶æ¯ç¸å³æ°æ®\n     * @param ack             äº¤æ¢æºæ¯å¦æ¶å°æ¶æ¯\n     */\n    @override\n    public void confirm(correlationdata correlationdata, boolean ack, string cause) {\n        string id = correlationdata != null ? correlationdata.getid() : "";\n        if (ack) {\n            log.info("äº¤æ¢æºå·²ç»æ¶å° id ä¸ºï¼{}çæ¶æ¯", id);\n        } else {\n            log.info("äº¤æ¢æºè¿æªæ¶å° id ä¸ºï¼{}æ¶æ¯ï¼ç±äºåå ï¼{}", id, cause);\n        }\n    }\n}\n\n\n\n# æ¶æ¯çäº§è\n\n@slf4j\n@restcontroller\n@requestmapping("/confirm")\npublic class producer {\n    public static final string confirm_exchange_name = "confirm.exchange";\n    @autowired\n    private rabbittemplate rabbittemplate;\n    @autowired\n    private mycallback mycallback;\n\n    /**\n     * ä¾èµæ³¨å¥ rabbittemplate ä¹ååè®¾ç½®å®çåè°å¯¹è±¡\n     */\n    @postconstruct\n    public void init() {\n        rabbittemplate.setconfirmcallback(mycallback);\n    }\n\n    @getmapping("sendmessage/{message}")\n    public void sendmessage(@pathvariable string message) {\n        // æå®æ¶æ¯ id ä¸º 1\n        correlationdata correlationdata1 = new correlationdata("1");\n        string routingkey = "key1";\n        rabbittemplate.convertandsend(confirm_exchange_name, routingkey, message, correlationdata1);\n        log.info("åéæ¶æ¯routingkey={}ï¼åå®¹={}", routingkey, message);\n\n        correlationdata correlationdata2 = new correlationdata("2");\n        routingkey = "key2";\n        rabbittemplate.convertandsend(confirm_exchange_name, routingkey, message, correlationdata2);\n        log.info("åéæ¶æ¯routingkey={}ï¼åå®¹={}", routingkey, message);\n    }\n}\n\n\n\n# æ¶æ¯æ¶è´¹è\n\n@slf4j\n@component\npublic class confirmconsumer {\n\n    public static final string confirm_queue_name = "confirm.queue";\n\n    @rabbitlistener(queues = confirm_queue_name)\n    public void receivemsg(message message) {\n        string msg = new string(message.getbody());\n        log.info("æ¥æ¶å°éå confirm.queue æ¶æ¯:{}", msg);\n    }\n}\n\n\n\n# æµè¯\n\nå¯å¨é¡¹ç®ï¼åèµ·ä¸ä¸ªè¯·æ±ï¼http://localhost:8080/confirm/sendmessage/xx1\n\nåéäºä¸¤æ¡æ¶æ¯ï¼ç¬¬ä¸æ¡æ¶æ¯ç routingkey ä¸º "key1"ï¼ç¬¬äºæ¡æ¶æ¯ç routingkey ä¸º "key2"ï¼ä¸¤æ¡æ¶æ¯é½æåè¢«äº¤æ¢æºæ¥æ¶ï¼ä¹æ¶å°äºäº¤æ¢æºçç¡®è®¤åè°ï¼ä½æ¶è´¹èåªæ¶å°äºä¸æ¡æ¶æ¯ï¼å ä¸ºç¬¬äºæ¡æ¶æ¯ç routingkey ä¸éåç bindingkey ä¸ä¸è´ï¼ä¹æ²¡æå¶å®éåè½æ¥æ¶è¿ä¸ªæ¶æ¯ï¼ææç¬¬äºæ¡æ¶æ¯è¢«ç´æ¥ä¸¢å¼äºã\n\n\n\n\n# åéæ¶æ¯\n\nå¨ä»å¼å¯äºçäº§èç¡®è®¤æºå¶çæåµä¸ï¼äº¤æ¢æºæ¥æ¶å°æ¶æ¯åï¼ä¼ç´æ¥ç»æ¶æ¯çäº§èåéç¡®è®¤æ¶æ¯ï¼å¦æåç°è¯¥æ¶æ¯ä¸å¯è·¯ç±ï¼é£ä¹æ¶æ¯ä¼è¢«ç´æ¥ä¸¢å¼ï¼çäº§èæ¯ä¸ç¥éæ¶æ¯è¢«ä¸¢å¼çãéè¿è®¾ç½® mandatory** åæ°**å¯ä»¥å¨å½æ¶æ¯ä¼ éè¿ç¨ä¸­ä¸å¯è¾¾ç®çå°æ¶å°æ¶æ¯è¿åç»çäº§èã\n\n@slf4j\n@restcontroller\npublic class messageproducer implements rabbittemplate.confirmcallback, rabbittemplate.returncallback {\n\n    @autowired\n    private rabbittemplate rabbittemplate;\n\n    /**\n     * rabbittemplate æ³¨å¥ä¹åå°±è®¾ç½®è¯¥å¼\n     */\n    @postconstruct\n    private void init() {\n        // è®¾ç½®æ¶å°æ¶æ¯çåè°äº¤ç»è°å¤ç\n        rabbittemplate.setconfirmcallback(this);\n        // trueï¼äº¤æ¢æºæ æ³å°æ¶æ¯è¿è¡è·¯ç±æ¶ï¼ä¼å°è¯¥æ¶æ¯è¿åç»çäº§è\n        // falseï¼å¦æåç°æ¶æ¯æ æ³è¿è¡è·¯ç±ï¼åç´æ¥ä¸¢å¼\n        rabbittemplate.setmandatory(true);\n        // è®¾ç½®åéæ¶æ¯äº¤ç»è°å¤ç\n        rabbittemplate.setreturncallback(this);\n    }\n\n    @getmapping("/sendmessage/{message}")\n    public void sendmessage(@pathvariable string message) {\n        // è®©æ¶æ¯ç»å®ä¸ä¸ª id å¼\n        correlationdata correlationdata1 = new correlationdata(uuid.randomuuid().tostring());\n        rabbittemplate.convertandsend("confirm.exchange", "key1", message + "key1", correlationdata1);\n        log.info("åéæ¶æ¯idä¸º:{}åå®¹ä¸º{}", correlationdata1.getid(), message + "key1");\n\n        correlationdata correlationdata2 = new correlationdata(uuid.randomuuid().tostring());\n        rabbittemplate.convertandsend("confirm.exchange", "key2", message + "key2", correlationdata2);\n        log.info("åéæ¶æ¯idä¸º:{}åå®¹ä¸º{}", correlationdata2.getid(), message + "key2");\n    }\n\n    @override\n    public void confirm(correlationdata correlationdata, boolean ack, string cause) {\n        string id = correlationdata != null ? correlationdata.getid() : "";\n        if (ack) {\n            log.info("äº¤æ¢æºæ¶å°æ¶æ¯ç¡®è®¤æåï¼id:{}", id);\n        } else {\n            log.error("æ¶æ¯id:{}æªæåæéå°äº¤æ¢æºï¼åå æ¯:{}", id, cause);\n        }\n    }\n\n    @override\n    public void returnedmessage(message message, int replycode, string replytext, \n            string exchange, string routingkey) {\n        log.info("æ¶æ¯{}è¢«æå¡å¨éåï¼éååå :{}ï¼äº¤æ¢æºæ¯:{}ï¼è·¯ç± key:{}", new string(message.getbody()), replytext,\n                exchange, routingkey);\n    }\n}\n\n\n\n\n\n# å¤ä»½äº¤æ¢æº\n\nä½¿ç¨ mandatory åæ°ååéæ¶æ¯ï¼å¯ä»¥å¯¹æ æ³æéæ¶æ¯çæç¥è½åï¼å¨çäº§èçæ¶æ¯æ æ³è¢«æéæ¶åç°å¹¶å¤çãä½ææ¶åï¼å¹¶ä¸ç¥éè¯¥å¦ä½å¤çè¿äºæ æ³è·¯ç±çæ¶æ¯ï¼æå¤æä¸ªæ¥å¿ï¼ç¶åè§¦åæ¥è­¦ï¼åæ¥æå¨å¤çã\n\nèéè¿æ¥å¿æ¥å¤çè¿äºæ æ³è·¯ç±çæ¶æ¯æ¯å¾ä¸ä¼éçåæ³ï¼ç¹å«æ¯å½çäº§èæå¨çæå¡æå¤å°æºå¨çæ¶åï¼æå¨å¤å¶æ¥å¿ä¼æ´å éº»ç¦èä¸å®¹æåºéãèä¸è®¾ç½® mandatory åæ°ä¼å¢å çäº§èçå¤ææ§ï¼éè¦æ·»å å¤çè¿äºè¢«éåçæ¶æ¯çé»è¾ã\n\nå¦ææ¢ä¸æ³ä¸¢å¤±æ¶æ¯ï¼åä¸æ³å¢å çäº§èçå¤ææ§ï¼å¯ä»¥ä¸ºéåè®¾ç½®æ­»ä¿¡äº¤æ¢æºæ¥å­å¨å¤çå¤±è´¥çæ¶æ¯ï¼å¯æ¯è¿äºä¸å¯è·¯ç±æ¶æ¯æ ¹æ¬æ²¡ææºä¼è¿å¥å°éåï¼å æ­¤æ æ³ä½¿ç¨æ­»ä¿¡éåæ¥ä¿å­æ¶æ¯ã\n\nå¨ rabbitmq ä¸­ï¼æä¸ç§å¤ä»½äº¤æ¢æºçæºå¶å­å¨ï¼å¯ä»¥å¾å¥½çåºå¯¹è¿ä¸ªé®é¢ãå¤ä»½äº¤æ¢æºå¯ä»¥çè§£ä¸º rabbitmq ä¸­äº¤æ¢æºçâå¤èâï¼å½äº¤æ¢æºæ¥æ¶å°ä¸æ¡ä¸å¯è·¯ç±æ¶æ¯æ¶ï¼å°ä¼æè¿æ¡æ¶æ¯è½¬åå°å¤ä»½äº¤æ¢æºä¸­ï¼ç±å¤ä»½äº¤æ¢æºæ¥è¿è¡è½¬ååå¤çï¼éå¸¸å¤ä»½äº¤æ¢æºçç±»åä¸º fanoutï¼è¿æ ·å°±è½ææææ¶æ¯é½æéå°ä¸å¶ç»å®çéåä¸­ï¼ç¶åå¨å¤ä»½äº¤æ¢æºä¸ç»å®ä¸ä¸ªéåï¼è¿æ ·ææé£äºåäº¤æ¢æºæ æ³è¢«è·¯ç±çæ¶æ¯ï¼å°±ä¼é½è¿å¥è¿ä¸ªéåãå½ç¶ï¼è¿å¯ä»¥å»ºç«ä¸ä¸ªæ¥è­¦éåï¼ç¨ç¬ç«çæ¶è´¹èæ¥è¿è¡çæµåæ¥è­¦ã\n\n\n\n\n# éç½®ç±»\n\n@configuration\npublic class confirmconfig {\n\n    public static final string confirm_exchange_name = "confirm.exchange";\n    public static final string confirm_queue_name = "confirm.queue";\n    public static final string backup_exchange_name = "backup.exchange";\n    public static final string backup_queue_name = "backup.queue";\n    public static final string warning_queue_name = "warning.queue";\n\n    /**\n     * å£°æå¤ä»½äº¤æ¢æº\n     */\n    @bean("backupexchange")\n    public fanoutexchange backupexchange() {\n        return new fanoutexchange(backup_exchange_name);\n    }\n\n    /**\n     * å£°æè­¦åéå\n     */\n    @bean("warningqueue")\n    public queue warningqueue() {\n        return queuebuilder.durable(warning_queue_name).build();\n    }\n\n    /**\n     * å£°æè­¦åéååå¤ä»½äº¤æ¢æºç»å®\n     */\n    @bean\n    public binding warningbinding(@qualifier("warningqueue") queue queue,\n                                  @qualifier("backupexchange") fanoutexchange backupexchange) {\n        return bindingbuilder.bind(queue).to(backupexchange);\n    }\n\n    /**\n     * å£°æå¤ä»½éå\n     */\n    @bean("backqueue")\n    public queue backqueue() {\n        return queuebuilder.durable(backup_queue_name).build();\n    }\n\n    /**\n     * å£°æå¤ä»½éååå¤ä»½äº¤æ¢æºç»å®\n     */\n    @bean\n    public binding backupbinding(@qualifier("backqueue") queue queue,\n                                 @qualifier("backupexchange") fanoutexchange backupexchange) {\n        return bindingbuilder.bind(queue).to(backupexchange);\n    }\n\n\n    /**\n     * å£°æäº¤æ¢æº\n     */\n    @bean("confirmexchange")\n    public directexchange confirmexchange() {\n        exchangebuilder exchangebuilder = exchangebuilder\n                .directexchange(confirm_exchange_name)\n                .durable(true)\n                // è®¾ç½®è¯¥äº¤æ¢æºçå¤ä»½äº¤æ¢æº\n                .withargument("alternate-exchange", backup_exchange_name);\n        return exchangebuilder.build();\n    }\n\n    /**\n     * å£°æéå\n     * è¯¥éåæ¯ç¡®è®¤éå\n     */\n    @bean("confirmqueue")\n    public queue confirmqueue() {\n        return queuebuilder.durable(confirm_queue_name).build();\n    }\n\n    /**\n     * å£°æäº¤æ¢æºä¸éåç»å®\n     */\n    @bean\n    public binding queuebinding(@qualifier("confirmqueue") queue queue,\n                                @qualifier("confirmexchange") directexchange exchange) {\n        return bindingbuilder.bind(queue).to(exchange).with("key1");\n    }\n}\n\n\n\n# æ¶æ¯çäº§è\n\nåä¸é¢çä¿æä¸å\n\n\n# æ¶æ¯æ¶è´¹è\n\n@slf4j\n@component\npublic class confirmconsumer {\n\n    public static final string confirm_queue_name = "confirm.queue";\n\n    @rabbitlistener(queues = confirm_queue_name)\n    public void receivemsg(message message) {\n        string msg = new string(message.getbody());\n        log.info("æ¥æ¶å°éå confirm.queue æ¶æ¯:{}", msg);\n    }\n\n    public static final string warning_queue_name = "warning.queue";\n\n    @rabbitlistener(queues = warning_queue_name)\n    public void receivewarningmsg(message message) {\n        string msg = new string(message.getbody());\n        log.error("æ¥è­¦åç°ä¸å¯è·¯ç±æ¶æ¯ï¼{}", msg);\n    }\n}\n\n\n\n# æµè¯\n\nå¯å¨é¡¹ç®ï¼åèµ·ä¸ä¸ªè¯·æ±ï¼http://localhost:8080/sendmessage/aaaa\n\n\n\nmandatory åæ°ä¸å¤ä»½äº¤æ¢æºå¯ä»¥ä¸èµ·ä½¿ç¨çæ¶åï¼å¦æä¸¤èåæ¶å¼å¯ï¼ç»è¿ä¸é¢ç»ææ¾ç¤ºç­æ¡æ¯å¤ä»½äº¤æ¢æºä¼åçº§é«ã',charsets:{cjk:!0},lastUpdated:"2022/11/25, 18:48:06",lastUpdatedTimestamp:1669373286e3},{title:"RabbitMQå¶ä»ç¥è¯ç¹",frontmatter:{title:"RabbitMQå¶ä»ç¥è¯ç¹",date:"2022-12-08T14:33:51.000Z",permalink:"/pages/5ctcr5a6/",categories:["ä¸­é´ä»¶"],tags:["RabbitMQ"],author:{name:"ä¹æ¨åç"}},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/01.%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6/1001.RabbitMQ/11.RabbitMQ%E5%85%B6%E4%BB%96%E7%9F%A5%E8%AF%86%E7%82%B9.html",relativePath:"04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/11.RabbitMQå¶ä»ç¥è¯ç¹.md",key:"v-504527c9",path:"/pages/5ctcr5a6/",headers:[{level:2,title:"å¹ç­æ§",slug:"å¹ç­æ§",normalizedTitle:"å¹ç­æ§",charIndex:2},{level:2,title:"ä¼åçº§éå",slug:"ä¼åçº§éå",normalizedTitle:"ä¼åçº§éå",charIndex:784},{level:3,title:"æ·»å ä¼åçº§éå",slug:"æ·»å ä¼åçº§éå",normalizedTitle:"æ·»å ä¼åçº§éå",charIndex:983},{level:4,title:"æ§å¶å°é¡µé¢æ·»å ",slug:"æ§å¶å°é¡µé¢æ·»å ",normalizedTitle:"æ§å¶å°é¡µé¢æ·»å ",charIndex:1087},{level:4,title:"ä»£ç ä¸­éåæ·»å ",slug:"ä»£ç ä¸­éåæ·»å ",normalizedTitle:"ä»£ç ä¸­éåæ·»å ",charIndex:1100},{level:4,title:"ä»£ç ä¸­æ¶æ¯æ·»å ",slug:"ä»£ç ä¸­æ¶æ¯æ·»å ",normalizedTitle:"ä»£ç ä¸­æ¶æ¯æ·»å ",charIndex:1250},{level:3,title:"æ¡ä¾",slug:"æ¡ä¾",normalizedTitle:"æ¡ä¾",charIndex:1356},{level:2,title:"æ°æ§éå",slug:"æ°æ§éå",normalizedTitle:"æ°æ§éå",charIndex:2932},{level:3,title:"ä¸¤ç§æ¨¡å¼",slug:"ä¸¤ç§æ¨¡å¼",normalizedTitle:"ä¸¤ç§æ¨¡å¼",charIndex:3345},{level:3,title:"åå­å¼éå¯¹æ¯",slug:"åå­å¼éå¯¹æ¯",normalizedTitle:"åå­å¼éå¯¹æ¯",charIndex:3783}],headersStr:"å¹ç­æ§ ä¼åçº§éå æ·»å ä¼åçº§éå æ§å¶å°é¡µé¢æ·»å  ä»£ç ä¸­éåæ·»å  ä»£ç ä¸­æ¶æ¯æ·»å  æ¡ä¾ æ°æ§éå ä¸¤ç§æ¨¡å¼ åå­å¼éå¯¹æ¯",content:'# å¹ç­æ§\n\nç¨æ·å¯¹äºåä¸æä½åèµ·çä¸æ¬¡è¯·æ±æèå¤æ¬¡è¯·æ±çç»ææ¯ä¸è´çï¼ä¸ä¼å ä¸ºå¤æ¬¡ç¹å»èäº§çäºå¯ä½ç¨ã\n\nç¨æ·è´­ä¹°åååæ¯ä»ï¼æ¯ä»æ£æ¬¾æåï¼ä½æ¯è¿åç»æçæ¶åç½ç»å¼å¸¸ï¼æ­¤æ¶é±å·²ç»æ£äºï¼ç¨æ·åæ¬¡ç¹å»æé®ï¼æ­¤æ¶ä¼è¿è¡ç¬¬äºæ¬¡æ£æ¬¾ï¼è¿åç»ææåï¼ç¨æ·æ¥è¯¢ä½é¢åç°å¤æ£é±äºï¼æµæ°´è®°å½ä¹åæäºä¸¤æ¡ãå¨ä»¥åçååºç¨ç³»ç»ä¸­ï¼æä»¬åªéè¦ææ°æ®æä½æ¾å¥äºå¡ä¸­å³å¯ï¼åçéè¯¯ç«å³åæ»ï¼ä½æ¯åååºå®¢æ·ç«¯çæ¶åä¹æå¯è½åºç°ç½ç»ä¸­æ­æèå¼å¸¸ç­ç­ã\n\næ¶æ¯éå¤æ¶è´¹ï¼\n\næ¶è´¹èå¨æ¶è´¹MQä¸­çæ¶æ¯æ¶ï¼MQå·²ææ¶æ¯åéç»æ¶è´¹èï¼æ¶è´¹èå¨ç»MQ è¿å ack æ¶ç½ç»ä¸­æ­ï¼æMQæªæ¶å°ç¡®è®¤ä¿¡æ¯ï¼è¯¥æ¡æ¶æ¯ä¼éæ°åç»å¶ä»çæ¶è´¹èï¼æèå¨ç½ç»éè¿ååæ¬¡åéç»è¯¥æ¶è´¹èï¼ä½å®éä¸è¯¥æ¶è´¹èå·²æåæ¶è´¹äºè¯¥æ¡æ¶æ¯ï¼é ææ¶è´¹èæ¶è´¹äºéå¤çæ¶æ¯ã\n\nè§£å³æè·¯ï¼\n\nMQæ¶è´¹èçå¹ç­æ§çè§£å³ä¸è¬ä½¿ç¨å¨å±IDãå¯ä¸æ è¯ï¼æ¯å¦æ¶é´æ³ï¼ãUUIDï¼è®¢åæ¶è´¹èæ¯æ¬¡æ¶è´¹æ¶æ¯æ¶ç¨è¯¥ id åå¤æ­è¯¥æ¶æ¯æ¯å¦å·²æ¶è´¹è¿ã\n\næ¶è´¹ç«¯çå¹ç­æ§ä¿éï¼\n\nå¨æµ·éè®¢åçæçä¸å¡é«å³°æï¼çäº§ç«¯æå¯è½ä¼éå¤ååºæ¶æ¯ï¼è¿æ¶åæ¶è´¹ç«¯å°±è¦å®ç°å¹ç­æ§ï¼è¿å°±æå³çå³ä½¿æ¶å°äºä¸æ ·çæ¶æ¯ï¼æ¶æ¯æ°¸è¿ä¸ä¼è¢«æ¶è´¹å¤æ¬¡ã\n\nä¸çä¸»æµçå¹ç­æ§æä¸¤ç§æä½ï¼\n\n 1. å¯ä¸ ID+æçº¹ç æºå¶ï¼å©ç¨æ°æ®åºä¸»é®å»é\n\n> æçº¹ç ï¼ä¸äºè§åæèæ¶é´æ³å å«çæå¡ç»å°çå¯ä¸ä¿¡æ¯ç ï¼å®å¹¶ä¸ä¸å®æ¯ç³»ç»çæçï¼åºæ¬é½æ¯ç±ä¸å¡è§åæ¼æ¥èæ¥ï¼ä½æ¯ä¸å®è¦ä¿è¯å¯ä¸æ§ï¼ç¶åå¤æ­è¿ä¸ª id æ¯å¦å­å¨æ°æ®åºä¸­ï¼ä¼å¿å°±æ¯å®ç°ç®åå°±ä¸ä¸ªæ¼æ¥ï¼æ¥è¯¢å¤æ­æ¯å¦éå¤ï¼å£å¿å°±æ¯å¨é«å¹¶åæ¶ï¼å¦ææ¯åä¸ªæ°æ®åºå°±ä¼æåå¥æ§è½ç¶é¢ï¼ä¹å¯ä»¥éç¨ååºåè¡¨æåæ§è½ï¼ä½ä¸æ¯ææ¨èçæ¹å¼ã\n\n 2. å©ç¨ redis çåå­æ§å»å®ç°\n\n> å©ç¨ redis æ§è¡ setnx å½ä»¤ï¼å¤©ç¶å·æå¹ç­æ§ãä»èå®ç°ä¸éå¤æ¶è´¹ã\n\n\n# ä¼åçº§éå\n\næ¯å¦å¨ç³»ç»ä¸­æä¸ä¸ªè®¢åå¬ä»çåºæ¯ï¼å®¢æ·å¨å¤©ç«ä¸è®¢åï¼å¦æå¨è®¾å®çæ¶é´åæªä»æ¬¾ï¼é£ä¹å°±ä¼ç»å®¢æ·æ¨éä¸æ¡ç­ä¿¡æéãæ¯å¦åè¹æï¼å°ç±³è¿æ ·å¤§åå®¶ï¼ä»ä»¬çè®¢åå¾å°ä¼åå¤çï¼redisçå®æ¶è½®è¯¢åªè½ç¨Liståä¸ä¸ªç®ç®ååçæ¶æ¯éåï¼å¹¶ä¸è½å®ç°ä¸ä¸ªä¼åçº§çåºæ¯ã\n\nè®¢åéå¤§äºåéç¨ RabbitMQ è¿è¡æ¹é åä¼åï¼å¦æåç°æ¯å¤§åå®¶çè®¢åç»ä¸ä¸ªç¸å¯¹æ¯è¾é«çä¼åçº§ï¼å¦åå°±æ¯é»è®¤ä¼åçº§ã\n\n\n# æ·»å ä¼åçº§éå\n\nè¦è®©éåå®ç°ä¼åçº§éè¦åçäºæï¼\n\n 1. éåéè¦è®¾ç½®ä¸ºä¼åçº§éå\n 2. éè¦è®¾ç½®æ¶æ¯çä¼åçº§\n 3. æ¶è´¹èéè¦ç­å¾æ¶æ¯å·²ç»åéå°éåä¸­æå»æ¶è´¹ï¼è¿æ ·æææºä¼å¯¹æ¶æ¯è¿è¡æåº\n\n\n\n# æ§å¶å°é¡µé¢æ·»å \n\n\n\n# ä»£ç ä¸­éåæ·»å \n\nMap<String, Object> params = new HashMap();\nparams.put("x-max-priority", 10);\nchannel.queueDeclare("hello", true, false, false, params);\n\n\n# ä»£ç ä¸­æ¶æ¯æ·»å \n\nAMQP.BasicProperties properties = new AMQP.BasicProperties().builder().priority(5).build();\n\n\n\n# æ¡ä¾\n\næ¶æ¯åå¸èï¼\n\npublic class Producer {\n    private static final String QUEUE_NAME = "hello";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtils.getChannel();\n        // ç»æ¶æ¯èµäºä¸ä¸ª priority å±æ§\n        AMQP.BasicProperties properties = new AMQP.BasicProperties().builder().priority(5).build();\n        for (int i = 1; i <= 10; i++) {\n            String message = "info" + i;\n            if (i == 5) {\n                channel.basicPublish("", QUEUE_NAME, properties, message.getBytes());\n            } else {\n                channel.basicPublish("", QUEUE_NAME, null, message.getBytes());\n            }\n            System.out.println("åéæ¶æ¯å®æ:" + message);\n        }\n    }\n}\n\n\næ¶æ¯æ¥æ¶èï¼\n\npublic class Consumer {\n    private static final String QUEUE_NAME = "hello";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtils.getChannel();\n        // è®¾ç½®éåçæå¤§ä¼åçº§ æå¤§å¯ä»¥è®¾ç½®å° 255 å®ç½æ¨è 1-10 å¦æè®¾ç½®å¤ªé«æ¯è¾ååå­å CPU\n        Map<String, Object> params = new HashMap();\n        params.put("x-max-priority", 10);\n        channel.queueDeclare(QUEUE_NAME, true, false, false, params);\n        System.out.println("æ¶è´¹èå¯å¨ç­å¾æ¶è´¹..............");\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String receivedMessage = new String(delivery.getBody());\n            System.out.println("æ¥æ¶å°æ¶æ¯:" + receivedMessage);\n        };\n        channel.basicConsume(QUEUE_NAME, true, deliverCallback, (consumerTag) -> {\n            System.out.println("æ¶è´¹èæ æ³æ¶è´¹æ¶æ¯æ¶è°ç¨ï¼å¦éåè¢«å é¤");\n        });\n    }\n}\n\n\n\n# æ°æ§éå\n\nRabbitMQ ä» 3.6.0 çæ¬å¼å§å¼å¥äºæ°æ§éåçæ¦å¿µã\n\næ°æ§éåä¼å°½å¯è½çå°æ¶æ¯å­å¥ç£çä¸­ï¼èå¨æ¶è´¹èæ¶è´¹å°ç¸åºçæ¶æ¯æ¶æä¼è¢«å è½½å°åå­ä¸­ï¼å®çä¸ä¸ªéè¦çè®¾è®¡ç®æ æ¯è½å¤æ¯ææ´é¿çéåï¼å³æ¯ææ´å¤çæ¶æ¯å­å¨ãå½æ¶è´¹èç±äºåç§åæ ·çåå (æ¯å¦æ¶è´¹èä¸çº¿ãå®æºäº¦æèæ¯ç±äºç»´æ¤èå³é­ç­)èè´ä½¿é¿æ¶é´åä¸è½æ¶è´¹æ¶æ¯é æå ç§¯æ¶ï¼æ°æ§éåå°±å¾æå¿è¦äºã\n\né»è®¤æåµä¸ï¼çäº§èå°æ¶æ¯åéå° RabbitMQ çæ¶åï¼éåä¸­çæ¶æ¯ä¼å°½å¯è½çå­å¨å¨åå­ä¹ä¸­ï¼è¿æ ·å¯ä»¥æ´å å¿«éçå°æ¶æ¯åéç»æ¶è´¹èãå³ä½¿æ¯æä¹åçæ¶æ¯ï¼å¨è¢«åå¥ç£ççåæ¶ä¹ä¼å¨åå­ä¸­é©»çä¸ä»½å¤ä»½ãå½ RabbitMQ éè¦éæ¾åå­çæ¶åï¼ä¼å°åå­ä¸­çæ¶æ¯æ¢é¡µè³ç£çä¸­ï¼è¿ä¸ªæä½ä¼èè´¹è¾é¿çæ¶é´ï¼ä¹ä¼é»å¡éåçæä½ï¼è¿èæ æ³æ¥æ¶æ°çæ¶æ¯ã\n\nè½ç¶ RabbitMQ çå¼åèä»¬ä¸ç´å¨åçº§ç¸å³çç®æ³ï¼ä½æ¯ææå§ç»ä¸å¤ªçæ³ï¼å°¤å¶æ¯å¨æ¶æ¯éç¹å«å¤§çæ¶åã\n\n\n# ä¸¤ç§æ¨¡å¼\n\n**éåå·å¤ä¸¤ç§æ¨¡å¼ï¼default å lazyã**é»è®¤çä¸ºdefault æ¨¡å¼ï¼å¨3.6.0 ä¹åççæ¬æ éåä»»ä½åæ´ãlazyæ¨¡å¼å³ä¸ºæ°æ§éåçæ¨¡å¼ï¼å¯ä»¥éè¿è°ç¨channel.queueDeclareæ¹æ³çæ¶åå¨åæ°ä¸­è®¾ç½®ï¼ä¹å¯ä»¥éè¿Policyçæ¹å¼è®¾ç½®ï¼å¦æä¸ä¸ªéååæ¶ä½¿ç¨è¿ä¸¤ç§æ¹å¼è®¾ç½®çè¯ï¼é£ä¹Policyçæ¹å¼å·å¤æ´é«çä¼åçº§ã\n\nå¦æè¦éè¿å£°æçæ¹å¼æ¹åå·²æéåçæ¨¡å¼çè¯ï¼é£ä¹åªè½åå é¤éåï¼ç¶ååéæ°å£°æä¸ä¸ªæ°çã\n\nå¨éåå£°æçæ¶åå¯ä»¥éè¿x-queue-modeåæ°æ¥è®¾ç½®éåçæ¨¡å¼ï¼åå¼ä¸ºdefaultålazyã\n\nMap<String, Object> args = new HashMap<String, Object>();\nargs.put("x-queue-mode", "lazy");\nchannel.queueDeclare("myqueue", false, false, false, args);\n\n\n\n# åå­å¼éå¯¹æ¯\n\n\n\nå¨åéä¸ç¾ä¸æ¡æ¶æ¯ï¼æ¯æ¡æ¶æ¯å¤§æ¦å 1KBçæåµä¸ï¼æ®ééåå ç¨åå­æ¯1.2GBï¼èæ°æ§éåä»ä»å ç¨1.5MBã',normalizedContent:'# å¹ç­æ§\n\nç¨æ·å¯¹äºåä¸æä½åèµ·çä¸æ¬¡è¯·æ±æèå¤æ¬¡è¯·æ±çç»ææ¯ä¸è´çï¼ä¸ä¼å ä¸ºå¤æ¬¡ç¹å»èäº§çäºå¯ä½ç¨ã\n\nç¨æ·è´­ä¹°åååæ¯ä»ï¼æ¯ä»æ£æ¬¾æåï¼ä½æ¯è¿åç»æçæ¶åç½ç»å¼å¸¸ï¼æ­¤æ¶é±å·²ç»æ£äºï¼ç¨æ·åæ¬¡ç¹å»æé®ï¼æ­¤æ¶ä¼è¿è¡ç¬¬äºæ¬¡æ£æ¬¾ï¼è¿åç»ææåï¼ç¨æ·æ¥è¯¢ä½é¢åç°å¤æ£é±äºï¼æµæ°´è®°å½ä¹åæäºä¸¤æ¡ãå¨ä»¥åçååºç¨ç³»ç»ä¸­ï¼æä»¬åªéè¦ææ°æ®æä½æ¾å¥äºå¡ä¸­å³å¯ï¼åçéè¯¯ç«å³åæ»ï¼ä½æ¯åååºå®¢æ·ç«¯çæ¶åä¹æå¯è½åºç°ç½ç»ä¸­æ­æèå¼å¸¸ç­ç­ã\n\næ¶æ¯éå¤æ¶è´¹ï¼\n\næ¶è´¹èå¨æ¶è´¹mqä¸­çæ¶æ¯æ¶ï¼mqå·²ææ¶æ¯åéç»æ¶è´¹èï¼æ¶è´¹èå¨ç»mq è¿å ack æ¶ç½ç»ä¸­æ­ï¼æmqæªæ¶å°ç¡®è®¤ä¿¡æ¯ï¼è¯¥æ¡æ¶æ¯ä¼éæ°åç»å¶ä»çæ¶è´¹èï¼æèå¨ç½ç»éè¿ååæ¬¡åéç»è¯¥æ¶è´¹èï¼ä½å®éä¸è¯¥æ¶è´¹èå·²æåæ¶è´¹äºè¯¥æ¡æ¶æ¯ï¼é ææ¶è´¹èæ¶è´¹äºéå¤çæ¶æ¯ã\n\nè§£å³æè·¯ï¼\n\nmqæ¶è´¹èçå¹ç­æ§çè§£å³ä¸è¬ä½¿ç¨å¨å±idãå¯ä¸æ è¯ï¼æ¯å¦æ¶é´æ³ï¼ãuuidï¼è®¢åæ¶è´¹èæ¯æ¬¡æ¶è´¹æ¶æ¯æ¶ç¨è¯¥ id åå¤æ­è¯¥æ¶æ¯æ¯å¦å·²æ¶è´¹è¿ã\n\næ¶è´¹ç«¯çå¹ç­æ§ä¿éï¼\n\nå¨æµ·éè®¢åçæçä¸å¡é«å³°æï¼çäº§ç«¯æå¯è½ä¼éå¤ååºæ¶æ¯ï¼è¿æ¶åæ¶è´¹ç«¯å°±è¦å®ç°å¹ç­æ§ï¼è¿å°±æå³çå³ä½¿æ¶å°äºä¸æ ·çæ¶æ¯ï¼æ¶æ¯æ°¸è¿ä¸ä¼è¢«æ¶è´¹å¤æ¬¡ã\n\nä¸çä¸»æµçå¹ç­æ§æä¸¤ç§æä½ï¼\n\n 1. å¯ä¸ id+æçº¹ç æºå¶ï¼å©ç¨æ°æ®åºä¸»é®å»é\n\n> æçº¹ç ï¼ä¸äºè§åæèæ¶é´æ³å å«çæå¡ç»å°çå¯ä¸ä¿¡æ¯ç ï¼å®å¹¶ä¸ä¸å®æ¯ç³»ç»çæçï¼åºæ¬é½æ¯ç±ä¸å¡è§åæ¼æ¥èæ¥ï¼ä½æ¯ä¸å®è¦ä¿è¯å¯ä¸æ§ï¼ç¶åå¤æ­è¿ä¸ª id æ¯å¦å­å¨æ°æ®åºä¸­ï¼ä¼å¿å°±æ¯å®ç°ç®åå°±ä¸ä¸ªæ¼æ¥ï¼æ¥è¯¢å¤æ­æ¯å¦éå¤ï¼å£å¿å°±æ¯å¨é«å¹¶åæ¶ï¼å¦ææ¯åä¸ªæ°æ®åºå°±ä¼æåå¥æ§è½ç¶é¢ï¼ä¹å¯ä»¥éç¨ååºåè¡¨æåæ§è½ï¼ä½ä¸æ¯ææ¨èçæ¹å¼ã\n\n 2. å©ç¨ redis çåå­æ§å»å®ç°\n\n> å©ç¨ redis æ§è¡ setnx å½ä»¤ï¼å¤©ç¶å·æå¹ç­æ§ãä»èå®ç°ä¸éå¤æ¶è´¹ã\n\n\n# ä¼åçº§éå\n\næ¯å¦å¨ç³»ç»ä¸­æä¸ä¸ªè®¢åå¬ä»çåºæ¯ï¼å®¢æ·å¨å¤©ç«ä¸è®¢åï¼å¦æå¨è®¾å®çæ¶é´åæªä»æ¬¾ï¼é£ä¹å°±ä¼ç»å®¢æ·æ¨éä¸æ¡ç­ä¿¡æéãæ¯å¦åè¹æï¼å°ç±³è¿æ ·å¤§åå®¶ï¼ä»ä»¬çè®¢åå¾å°ä¼åå¤çï¼redisçå®æ¶è½®è¯¢åªè½ç¨liståä¸ä¸ªç®ç®ååçæ¶æ¯éåï¼å¹¶ä¸è½å®ç°ä¸ä¸ªä¼åçº§çåºæ¯ã\n\nè®¢åéå¤§äºåéç¨ rabbitmq è¿è¡æ¹é åä¼åï¼å¦æåç°æ¯å¤§åå®¶çè®¢åç»ä¸ä¸ªç¸å¯¹æ¯è¾é«çä¼åçº§ï¼å¦åå°±æ¯é»è®¤ä¼åçº§ã\n\n\n# æ·»å ä¼åçº§éå\n\nè¦è®©éåå®ç°ä¼åçº§éè¦åçäºæï¼\n\n 1. éåéè¦è®¾ç½®ä¸ºä¼åçº§éå\n 2. éè¦è®¾ç½®æ¶æ¯çä¼åçº§\n 3. æ¶è´¹èéè¦ç­å¾æ¶æ¯å·²ç»åéå°éåä¸­æå»æ¶è´¹ï¼è¿æ ·æææºä¼å¯¹æ¶æ¯è¿è¡æåº\n\n\n\n# æ§å¶å°é¡µé¢æ·»å \n\n\n\n# ä»£ç ä¸­éåæ·»å \n\nmap<string, object> params = new hashmap();\nparams.put("x-max-priority", 10);\nchannel.queuedeclare("hello", true, false, false, params);\n\n\n# ä»£ç ä¸­æ¶æ¯æ·»å \n\namqp.basicproperties properties = new amqp.basicproperties().builder().priority(5).build();\n\n\n\n# æ¡ä¾\n\næ¶æ¯åå¸èï¼\n\npublic class producer {\n    private static final string queue_name = "hello";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutils.getchannel();\n        // ç»æ¶æ¯èµäºä¸ä¸ª priority å±æ§\n        amqp.basicproperties properties = new amqp.basicproperties().builder().priority(5).build();\n        for (int i = 1; i <= 10; i++) {\n            string message = "info" + i;\n            if (i == 5) {\n                channel.basicpublish("", queue_name, properties, message.getbytes());\n            } else {\n                channel.basicpublish("", queue_name, null, message.getbytes());\n            }\n            system.out.println("åéæ¶æ¯å®æ:" + message);\n        }\n    }\n}\n\n\næ¶æ¯æ¥æ¶èï¼\n\npublic class consumer {\n    private static final string queue_name = "hello";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutils.getchannel();\n        // è®¾ç½®éåçæå¤§ä¼åçº§ æå¤§å¯ä»¥è®¾ç½®å° 255 å®ç½æ¨è 1-10 å¦æè®¾ç½®å¤ªé«æ¯è¾ååå­å cpu\n        map<string, object> params = new hashmap();\n        params.put("x-max-priority", 10);\n        channel.queuedeclare(queue_name, true, false, false, params);\n        system.out.println("æ¶è´¹èå¯å¨ç­å¾æ¶è´¹..............");\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string receivedmessage = new string(delivery.getbody());\n            system.out.println("æ¥æ¶å°æ¶æ¯:" + receivedmessage);\n        };\n        channel.basicconsume(queue_name, true, delivercallback, (consumertag) -> {\n            system.out.println("æ¶è´¹èæ æ³æ¶è´¹æ¶æ¯æ¶è°ç¨ï¼å¦éåè¢«å é¤");\n        });\n    }\n}\n\n\n\n# æ°æ§éå\n\nrabbitmq ä» 3.6.0 çæ¬å¼å§å¼å¥äºæ°æ§éåçæ¦å¿µã\n\næ°æ§éåä¼å°½å¯è½çå°æ¶æ¯å­å¥ç£çä¸­ï¼èå¨æ¶è´¹èæ¶è´¹å°ç¸åºçæ¶æ¯æ¶æä¼è¢«å è½½å°åå­ä¸­ï¼å®çä¸ä¸ªéè¦çè®¾è®¡ç®æ æ¯è½å¤æ¯ææ´é¿çéåï¼å³æ¯ææ´å¤çæ¶æ¯å­å¨ãå½æ¶è´¹èç±äºåç§åæ ·çåå (æ¯å¦æ¶è´¹èä¸çº¿ãå®æºäº¦æèæ¯ç±äºç»´æ¤èå³é­ç­)èè´ä½¿é¿æ¶é´åä¸è½æ¶è´¹æ¶æ¯é æå ç§¯æ¶ï¼æ°æ§éåå°±å¾æå¿è¦äºã\n\né»è®¤æåµä¸ï¼çäº§èå°æ¶æ¯åéå° rabbitmq çæ¶åï¼éåä¸­çæ¶æ¯ä¼å°½å¯è½çå­å¨å¨åå­ä¹ä¸­ï¼è¿æ ·å¯ä»¥æ´å å¿«éçå°æ¶æ¯åéç»æ¶è´¹èãå³ä½¿æ¯æä¹åçæ¶æ¯ï¼å¨è¢«åå¥ç£ççåæ¶ä¹ä¼å¨åå­ä¸­é©»çä¸ä»½å¤ä»½ãå½ rabbitmq éè¦éæ¾åå­çæ¶åï¼ä¼å°åå­ä¸­çæ¶æ¯æ¢é¡µè³ç£çä¸­ï¼è¿ä¸ªæä½ä¼èè´¹è¾é¿çæ¶é´ï¼ä¹ä¼é»å¡éåçæä½ï¼è¿èæ æ³æ¥æ¶æ°çæ¶æ¯ã\n\nè½ç¶ rabbitmq çå¼åèä»¬ä¸ç´å¨åçº§ç¸å³çç®æ³ï¼ä½æ¯ææå§ç»ä¸å¤ªçæ³ï¼å°¤å¶æ¯å¨æ¶æ¯éç¹å«å¤§çæ¶åã\n\n\n# ä¸¤ç§æ¨¡å¼\n\n**éåå·å¤ä¸¤ç§æ¨¡å¼ï¼default å lazyã**é»è®¤çä¸ºdefault æ¨¡å¼ï¼å¨3.6.0 ä¹åççæ¬æ éåä»»ä½åæ´ãlazyæ¨¡å¼å³ä¸ºæ°æ§éåçæ¨¡å¼ï¼å¯ä»¥éè¿è°ç¨channel.queuedeclareæ¹æ³çæ¶åå¨åæ°ä¸­è®¾ç½®ï¼ä¹å¯ä»¥éè¿policyçæ¹å¼è®¾ç½®ï¼å¦æä¸ä¸ªéååæ¶ä½¿ç¨è¿ä¸¤ç§æ¹å¼è®¾ç½®çè¯ï¼é£ä¹policyçæ¹å¼å·å¤æ´é«çä¼åçº§ã\n\nå¦æè¦éè¿å£°æçæ¹å¼æ¹åå·²æéåçæ¨¡å¼çè¯ï¼é£ä¹åªè½åå é¤éåï¼ç¶ååéæ°å£°æä¸ä¸ªæ°çã\n\nå¨éåå£°æçæ¶åå¯ä»¥éè¿x-queue-modeåæ°æ¥è®¾ç½®éåçæ¨¡å¼ï¼åå¼ä¸ºdefaultålazyã\n\nmap<string, object> args = new hashmap<string, object>();\nargs.put("x-queue-mode", "lazy");\nchannel.queuedeclare("myqueue", false, false, false, args);\n\n\n\n# åå­å¼éå¯¹æ¯\n\n\n\nå¨åéä¸ç¾ä¸æ¡æ¶æ¯ï¼æ¯æ¡æ¶æ¯å¤§æ¦å 1kbçæåµä¸ï¼æ®ééåå ç¨åå­æ¯1.2gbï¼èæ°æ§éåä»ä»å ç¨1.5mbã',charsets:{cjk:!0},lastUpdated:"2022/11/25, 18:48:06",lastUpdatedTimestamp:1669373286e3},{title:"RabbitMQéç¾¤",frontmatter:{title:"RabbitMQéç¾¤",date:"2022-12-09T11:05:29.000Z",permalink:"/pages/1kma3r88/",categories:["ä¸­é´ä»¶"],tags:["RabbitMQ","TODO"],author:{name:"ä¹æ¨åç"}},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/01.%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6/1001.RabbitMQ/12.RabbitMQ%E9%9B%86%E7%BE%A4.html",relativePath:"04.ä¸­é´ä»¶/01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/12.RabbitMQéç¾¤.md",key:"v-6bf9b24a",path:"/pages/1kma3r88/",headers:[{level:2,title:"æ­å»ºæ­¥éª¤",slug:"æ­å»ºæ­¥éª¤",normalizedTitle:"æ­å»ºæ­¥éª¤",charIndex:2},{level:2,title:"éåéå",slug:"éåéå",normalizedTitle:"éåéå",charIndex:1220},{level:2,title:"Haproxy+Keepaliveå®ç°é«å¯ç¨è´è½½åè¡¡",slug:"haproxy-keepaliveå®ç°é«å¯ç¨è´è½½åè¡¡",normalizedTitle:"haproxy+keepaliveå®ç°é«å¯ç¨è´è½½åè¡¡",charIndex:1793},{level:3,title:"æ´ä½æ¶æå¾",slug:"æ´ä½æ¶æå¾",normalizedTitle:"æ´ä½æ¶æå¾",charIndex:1853},{level:3,title:"HAProxy",slug:"haproxy",normalizedTitle:"haproxy",charIndex:1865},{level:3,title:"Keepalivedå®ç°åæº(ä¸»å¤)ç­å¤",slug:"keepalivedå®ç°åæº-ä¸»å¤-ç­å¤",normalizedTitle:"keepalivedå®ç°åæº(ä¸»å¤)ç­å¤",charIndex:2356},{level:2,title:"Federation Exchange",slug:"federation-exchange",normalizedTitle:"federation exchange",charIndex:3315},{level:2,title:"Federation Queue",slug:"federation-queue",normalizedTitle:"federation queue",charIndex:4171},{level:2,title:"Shovel",slug:"shovel",normalizedTitle:"shovel",charIndex:4341}],headersStr:"æ­å»ºæ­¥éª¤ éåéå Haproxy+Keepaliveå®ç°é«å¯ç¨è´è½½åè¡¡ æ´ä½æ¶æå¾ HAProxy Keepalivedå®ç°åæº(ä¸»å¤)ç­å¤ Federation Exchange Federation Queue Shovel",content:'# æ­å»ºæ­¥éª¤\n\nåå»ºä¸å°èææºï¼å¯ä»¥ä½¿ç¨åéï¼å¹¶ä¿®æ¹3å°æºå¨çä¸»æºåç§°ã\n\nvim /etc/hostname\n\n\nä¸»æºåå°½éä¸è¦å¸¦ç¬¦å·ï¼ï¼ï¼æå¸¦äº æ¥éäºã\n\n\n\nåç¥éæ¬æºçipï¼ä½¿ç¨ifconfig å½ä»¤æ¥çï¼éç½®åä¸ªèç¹çhostsæä»¶ï¼è®©åä¸ªèç¹é½è½äºç¸è¯å«å¯¹æ¹ï¼ä¸å°æºå¨ä¿æä¸è´å³å¯ã\n\nvim /etc/hosts\n\n\n\n\nç¡®ä¿åä¸ªèç¹ç cookie æä»¶ä½¿ç¨çæ¯åä¸ä¸ªå¼ï¼å¨centos1ä¸æ§è¡è¿ç¨æä½å½ä»¤:\n\nscp /var/lib/rabbitmq/.erlang.cookie root@centos2:/var/lib/rabbitmq/.erlang.cookie\nscp /var/lib/rabbitmq/.erlang.cookie root@centos3:/var/lib/rabbitmq/.erlang.cookie\n\n\n\n\nå¯å¨ RabbitMQ æå¡ï¼é¡ºå¸¦å¯å¨ Erlang èææºå RbbitMQ åºç¨æå¡(å¨ä¸å°èç¹ä¸åå«æ§è¡ä»¥ä¸å½ä»¤)\n\nrabbitmq-server -detached\n\n\nå¨èç¹ 2 æ§è¡ï¼\n\n# (rabbitmqctl stop ä¼å°Erlang èææºå³é­ï¼rabbitmqctl stop_app åªå³é­ RabbitMQ æå¡)\nrabbitmqctl stop_app\nrabbitmqctl reset\nrabbitmqctl join_cluster rabbit@centos1\n# åªå¯å¨åºç¨æå¡ï¼\nrabbitmqctl start_app\n\n\n\n\nå¨èç¹ 3 æ§è¡ï¼\n\nrabbitmqctl stop_app\nrabbitmqctl reset\nrabbitmqctl join_cluster rabbit@centos2\nrabbitmqctl start_app\n\n\n\n\néç¾¤ç¶æï¼\n\nrabbitmqctl cluster_status\n\n\n\n\néè¦éæ°è®¾ç½®ç¨æ·ï¼ä¸å°æºå¨éä¾¿åªä¸å°è®¾ç½®ï¼å ä¸ºæ¯éç¾¤ï¼éç¨çï¼\n\n# åå»ºè´¦å·\nrabbitmqctl add_user admin 123\n\n# è®¾ç½®ç¨æ·è§è²\nrabbitmqctl set_user_tags admin administrator\n\n# è®¾ç½®ç¨æ·æé\nrabbitmqctl set_permissions -p "/" admin ".*" ".*" ".*"\n\n\n\n\nè§£é¤éç¾¤èç¹(centos2 åcentos3æºå¨åå«æ§è¡ï¼ä¸è§£é¤ä¸è¦æ§è¡)\n\nrabbitmqctl stop_app\nrabbitmqctl reset\nrabbitmqctl start_app\nrabbitmqctl cluster_status\nrabbitmqctl forget_cluster_node rabbit@node2 # (node1 æºå¨ä¸æ§è¡)\n\n\n\n# éåéå\n\nå¦æ RabbitMQ éç¾¤ä¸­åªæä¸ä¸ª Broker èç¹ï¼é£ä¹è¯¥èç¹çå¤±æå°å¯¼è´æ´ä½æå¡çä¸´æ¶æ§ä¸å¯ç¨ï¼å¹¶ä¸ä¹å¯è½ä¼å¯¼è´æ¶æ¯çä¸¢å¤±ãå¯ä»¥å°æææ¶æ¯é½è®¾ç½®ä¸ºæä¹åï¼å¹¶ä¸å¯¹åºéåçdurableå±æ§ä¹è®¾ç½®ä¸ºtrueï¼ä½æ¯è¿æ ·ä»ç¶æ æ³é¿åç±äºç¼å­å¯¼è´çé®é¢ï¼å ä¸ºæ¶æ¯å¨åéä¹ååè¢«åå¥ç£çäºæ§è¡å·çå¨ä½ä¹é´å­å¨ä¸ä¸ªç­æå´ä¼äº§çé®é¢çæ¶é´çªãéè¿ publisherconfirm æºå¶è½å¤ç¡®ä¿å®¢æ·ç«¯ç¥éåªäºæ¶æ¯å·±ç»å­å¥ç£çï¼å°½ç®¡å¦æ­¤ï¼ä¸è¬ä¸å¸æéå°å åç¹æéå¯¼è´çæå¡ä¸å¯ç¨ã\n\nå¼å¥éåéå(Mirror Queue)çæºå¶ï¼å¯ä»¥å°éåéåå°éç¾¤ä¸­çå¶ä» Broker èç¹ä¹ä¸ï¼å¦æéç¾¤ä¸­çä¸ä¸ªèç¹å¤±æäºï¼éåè½èªå¨å°åæ¢å°éåä¸­çå¦ä¸ä¸ªèç¹ä¸ä»¥ä¿è¯æå¡çå¯ç¨æ§ã\n\næ­å»ºæ­¥éª¤\n\nå¯å¨ä¸å°éç¾¤èç¹ï¼éä¾¿æ¾ä¸ä¸ªèç¹æ·»å  policyï¼\n\n\n\n> Patternæ ¹æ®èªå·±çéåæ¥éç½®\n\n\n\nå¨centos1ä¸åå»ºä¸ä¸ªéååéä¸æ¡æ¶æ¯ï¼éåå­å¨éåéåï¼åæcentos1ä¹ååç°centos2æä¸ºéåéåï¼\n\n\n\n\n\nå°±ç®æ´ä¸ªéç¾¤åªå©ä¸ä¸å°æºå¨äºï¼ä¾ç¶è½æ¶è´¹éåéé¢çæ¶æ¯ï¼è¯´æéåéé¢çæ¶æ¯è¢«éåéåä¼ éå°ç¸åºæºå¨éé¢äºã\n\n> ç»centos1åæ¶æ¯ï¼ä¸å¤çæ¶æ¯ï¼ç¶ååæcentos1ï¼è¿æ¶centos2å°±å¯ä»¥æ¶è´¹æ¶æ¯\n\n\n\n\n# Haproxy+Keepaliveå®ç°é«å¯ç¨è´è½½åè¡¡\n\n> ææ¡£éé¢å«ç³ä¸æ¸ï¼ç´æ¥å¤å¶çææ¡£ï¼åé¢æ¥è§¦å°äºåè¡¥\n\n\n# æ´ä½æ¶æå¾\n\n\n\n\n# HAProxy\n\nHAProxy æä¾é«å¯ç¨æ§ãè´è½½åè¡¡ååºäºTCPHTTP åºç¨çä»£çï¼æ¯æèæä¸»æºï¼å®æ¯åè´¹ãå¿«éå¹¶ä¸å¯é çä¸ç§è§£å³æ¹æ¡ï¼åæ¬ TwitterãRedditãStackOverflowãGitHub å¨åçå¤å®¶ç¥åäºèç½å¬å¸å¨ä½¿ç¨ã\n\nHAProxy å®ç°äºä¸ç§äºä»¶é©±å¨ãåä¸è¿ç¨æ¨¡åï¼æ­¤æ¨¡åæ¯æéå¸¸å¤§çäºåè¿æ¥æ°ã\n\n> nginxãlvsãhaproxyä¹é´çåºå«: http://www.ha97.com/5646.html\n\næ­å»ºæ­¥éª¤ï¼\n\nä¸è½½ haproxy(å¨centos1åcentos2)\n\nyum -y install haproxy\n\n\nä¿®æ¹centos1åcentos2çhaproxy.cfg\n\nvim /etc/haproxy/haproxy.cfg\n\n\néè¦ä¿®æ¹çº¢è² IP ä¸ºå½åæºå¨ IP\n\n\n\nå¨ä¸¤å°èç¹å¯å¨ haproxy\n\nhaproxy -f /etc/haproxy/haproxy.cfg\nps -ef | grep haproxy\n\n\nè®¿é®å°å\n\nhttp://10.211.55.71:8888/stats\n\n\n# Keepalivedå®ç°åæº(ä¸»å¤)ç­å¤\n\nå¦æéç½®çHAProxyä¸»æºçªç¶å®æºæèç½å¡å¤±æï¼å°±ç®RbbitMQéç¾¤æ²¡æä»»ä½æéä½æ¯å¯¹äºå¤ççå®¢æ·ç«¯æ¥è¯´ææçè¿æ¥é½ä¼è¢«æ­å¼ï¼ç»ææ¯ç¾é¾æ§çï¼ä¸ºäºç¡®ä¿è´è½½åè¡¡æå¡çå¯é æ§åæ ·æ¾å¾ååéè¦ã\n\nKeepalivedå®è½å¤éè¿èªèº«å¥åº·æ£æ¥ãèµæºæ¥ç®¡åè½åé«å¯ç¨(åæºç­å¤)ï¼å®ç°æéè½¬ç§»ã\n\næ­å»ºæ­¥éª¤ï¼\n\nä¸è½½ keepalived\n\nyum -y install keepalived\n\n\nä¿®æ¹èç¹centos1éç½®æä»¶ï¼\n\nvim /etc/keepalived/keepalived.conf\n\n\næèµæéé¢ç keepalived.conf ä¿®æ¹ä¹åæ¿æ¢\n\n> æ²¡æèµæ\n\nèç¹centos2éç½®æä»¶\n\n * éè¦ä¿®æ¹global_defs ç router_id,å¦:nodeB\n * å¶æ¬¡è¦ä¿®æ¹ vrrp_instance_VI ä¸­ state ä¸º"BACKUP"ï¼\n * æåè¦å°priority è®¾ç½®ä¸ºå°äº 100 çå¼\n\næ·»å  haproxy_chk.sh\n\n(ä¸ºäºé²æ­¢ HAProxy æå¡ææä¹å Keepalived è¿å¨æ­£å¸¸å·¥ä½èæ²¡æåæ¢å° Backup ä¸ï¼æä»¥è¿ééè¦ç¼åä¸ä¸ªèæ¬æ¥æ£æµ HAProxy å¡çç¶æ,å½ HAProxy æå¡ææä¹åè¯¥èæ¬ä¼èªå¨éå¯HAProxy çæå¡ï¼å¦æä¸æååå³é­ Keepalived æå¡ï¼è¿æ ·ä¾¿å¯ä»¥åæ¢å° Backup ç»§ç»­å·¥ä½)\n\n# å¯ä»¥ä¸ä¼ æä»¶\nvim /etc/keepalived/haproxy_chk.sh\n# ä¿®æ¹æé \nchmod 777 /etc/keepalived/haproxy_chk.sh\n\n\n> è¿éä¹æ²¡ææä»¶\n\nå¯å¨ keepalive(centos1åcentos2å¯å¨)\n\nsystemctl start keepalived\n\n\nè§å¯ Keepalived çæ¥å¿\n\ntail -f /var/log/messages -n 200\n\n\nè§å¯ææ°æ·»å ç vip\n\nip add show\n\n\ncentos1æ¨¡æ keepalived å³é­ç¶æ\n\nsystemctl stop keepalived\n\n\nä½¿ç¨ vip å°åæ¥è®¿é® rabbitmq éç¾¤\n\n\n# Federation Exchange\n\n(broker åäº¬)ï¼(broker æ·±å³)å½¼æ­¤ä¹é´ç¸è·çè¿ï¼ç½ç»å»¶è¿æ¯ä¸ä¸ªä¸å¾ä¸é¢å¯¹çé®é¢ãæä¸ä¸ªå¨åäº¬çä¸å¡(Client åäº¬) éè¦è¿æ¥(broker åäº¬)ï¼åå¶ä¸­çäº¤æ¢å¨ exchangeA åéæ¶æ¯ï¼æ­¤æ¶çç½ç»å»¶è¿å¾å°ï¼(Client åäº¬)å¯ä»¥è¿éå°æ¶æ¯åéè³ exchangeA ä¸­ï¼å°±ç®å¨å¼å¯äº publisherconfirm æºå¶æèäºå¡æºå¶çæåµä¸ï¼ä¹å¯ä»¥è¿éæ¶å°ç¡®è®¤ä¿¡æ¯ã\n\næ­¤æ¶åæä¸ªå¨æ·±å³çä¸å¡(Client æ·±å³)éè¦å exchangeA åéæ¶æ¯ï¼ é£ä¹(Client æ·±å³) (broker åäº¬)ä¹é´æå¾å¤§çç½ç»å»¶è¿ï¼(Client æ·±å³) å°åéæ¶æ¯è³ exchangeA ä¼ç»åä¸å®çå»¶è¿ï¼å°¤å¶æ¯å¨å¼å¯äº publisherconfirm æºå¶æèäºå¡æºå¶çæåµä¸ï¼(Client æ·±å³) ä¼ç­å¾å¾é¿çå»¶è¿æ¶é´æ¥æ¥æ¶(broker åäº¬)çç¡®è®¤ä¿¡æ¯ï¼è¿èå¿ç¶é æè¿æ¡åéçº¿ç¨çæ§è½éä½ï¼çè³é æä¸å®ç¨åº¦ä¸çé»å¡ã\n\nå°ä¸å¡(Client æ·±å³)é¨ç½²å°åäº¬çæºæ¿å¯ä»¥è§£å³è¿ä¸ªé®é¢ï¼ä½æ¯å¦æ(Client æ·±å³)è°ç¨çå¦äºæå¡é½é¨ç½²å¨æ·±å³ï¼é£ä¹åä¼å¼åæ°çæ¶å»¶é®é¢ï¼æ»ä¸è§å¾å°ææä¸å¡å¨é¨é¨ç½²å¨ä¸ä¸ªæºæ¿ï¼é£ä¹å®¹ç¾åä½ä»¥å®ç°ï¼ è¿éä½¿ç¨ Federation æä»¶å°±å¯ä»¥å¾å¥½å°è§£å³è¿ä¸ªé®é¢ã\n\n\n\næ­å»ºæ­¥éª¤ï¼\n\néè¦ä¿è¯æ¯å°èç¹åç¬è¿è¡\n\nå¨æ¯å°æºå¨ä¸å¼å¯ federation ç¸å³æä»¶\n\nrabbitmq-plugins enable rabbitmq_federation\nrabbitmq-plugins enable rabbitmq_federation_management\n\n\n\n\nåçå¾(åè¿è¡ consumer å¨contos2åå»º fed_exchange)\n\n\n\nå¨ downstream(contos2)éç½® upstream(contos1)\n\n\n\næ·»å  policy\n\n\n\næåçåæ\n\n\n\n\n# Federation Queue\n\nèé¦éåå¯ä»¥å¨å¤ä¸ª Broker èç¹(æèéç¾¤)ä¹é´ä¸ºåä¸ªéåæä¾åè¡¡è´è½½çåè½ãä¸ä¸ªèé¦éåå¯ä»¥è¿æ¥ä¸ä¸ªæèå¤ä¸ªä¸æ¸¸éå(upstream queue)ï¼å¹¶ä»è¿äºä¸æ¸¸éåä¸­è·åæ¶æ¯ä»¥æ»¡è¶³æ¬å°æ¶è´¹èæ¶è´¹æ¶æ¯çéæ±ã\n\næ­å»ºæ­¥éª¤ï¼\n\n\n\næ·»å  upstream(åä¸)\n\næ·»å  policy\n\n\n\n\n# Shovel\n\nFederation å·å¤çæ°æ®è½¬ååè½ç±»ä¼¼ï¼Shovel å¤å¯é ãæç»­å°ä»ä¸ä¸ª Broker ä¸­çéå(ä½ä¸ºæºç«¯ï¼å³source)æåæ°æ®å¹¶è½¬åè³å¦ä¸ä¸ª Broker ä¸­çäº¤æ¢å¨(ä½ä¸ºç®çç«¯ï¼å³ destination)ãä½ä¸ºæºç«¯çéååä½ä¸ºç®çç«¯çäº¤æ¢å¨å¯ä»¥åæ¶ä½äºåä¸ä¸ª Brokerï¼ä¹å¯ä»¥ä½äºä¸åç Broker ä¸ãShovel å¯ä»¥ç¿»è¯ä¸º"é²å­"ï¼æ¯ä¸ç§æ¯è¾å½¢è±¡çæ¯å»ï¼è¿ä¸ª"é²å­"å¯ä»¥å°æ¶æ¯ä»ä¸æ¹"é²å­"å¦ä¸æ¹ãShovel è¡ä¸ºå°±åä¼ç§çå®¢æ·ç«¯åºç¨ç¨åºè½å¤è´è´£è¿æ¥æºåç®çå°ãè´è´£æ¶æ¯çè¯»ååè´è´£è¿æ¥å¤±è´¥é®é¢çå¤çã\n\næ­å»ºæ­¥éª¤ï¼\n\nå¼å¯æä»¶(éè¦çæºå¨é½å¼å¯)\n\nrabbitmq-plugins enable rabbitmq_shovel\nrabbitmq-plugins enable rabbitmq_shovel_management\n\n\n\n\nåçå¾(å¨æºå¤´åéçæ¶æ¯ç´æ¥åè¿å¥å°ç®çå°éå)\n\n\n\næ·»å  shovel æºåç®çå°\n\n',normalizedContent:'# æ­å»ºæ­¥éª¤\n\nåå»ºä¸å°èææºï¼å¯ä»¥ä½¿ç¨åéï¼å¹¶ä¿®æ¹3å°æºå¨çä¸»æºåç§°ã\n\nvim /etc/hostname\n\n\nä¸»æºåå°½éä¸è¦å¸¦ç¬¦å·ï¼ï¼ï¼æå¸¦äº æ¥éäºã\n\n\n\nåç¥éæ¬æºçipï¼ä½¿ç¨ifconfig å½ä»¤æ¥çï¼éç½®åä¸ªèç¹çhostsæä»¶ï¼è®©åä¸ªèç¹é½è½äºç¸è¯å«å¯¹æ¹ï¼ä¸å°æºå¨ä¿æä¸è´å³å¯ã\n\nvim /etc/hosts\n\n\n\n\nç¡®ä¿åä¸ªèç¹ç cookie æä»¶ä½¿ç¨çæ¯åä¸ä¸ªå¼ï¼å¨centos1ä¸æ§è¡è¿ç¨æä½å½ä»¤:\n\nscp /var/lib/rabbitmq/.erlang.cookie root@centos2:/var/lib/rabbitmq/.erlang.cookie\nscp /var/lib/rabbitmq/.erlang.cookie root@centos3:/var/lib/rabbitmq/.erlang.cookie\n\n\n\n\nå¯å¨ rabbitmq æå¡ï¼é¡ºå¸¦å¯å¨ erlang èææºå rbbitmq åºç¨æå¡(å¨ä¸å°èç¹ä¸åå«æ§è¡ä»¥ä¸å½ä»¤)\n\nrabbitmq-server -detached\n\n\nå¨èç¹ 2 æ§è¡ï¼\n\n# (rabbitmqctl stop ä¼å°erlang èææºå³é­ï¼rabbitmqctl stop_app åªå³é­ rabbitmq æå¡)\nrabbitmqctl stop_app\nrabbitmqctl reset\nrabbitmqctl join_cluster rabbit@centos1\n# åªå¯å¨åºç¨æå¡ï¼\nrabbitmqctl start_app\n\n\n\n\nå¨èç¹ 3 æ§è¡ï¼\n\nrabbitmqctl stop_app\nrabbitmqctl reset\nrabbitmqctl join_cluster rabbit@centos2\nrabbitmqctl start_app\n\n\n\n\néç¾¤ç¶æï¼\n\nrabbitmqctl cluster_status\n\n\n\n\néè¦éæ°è®¾ç½®ç¨æ·ï¼ä¸å°æºå¨éä¾¿åªä¸å°è®¾ç½®ï¼å ä¸ºæ¯éç¾¤ï¼éç¨çï¼\n\n# åå»ºè´¦å·\nrabbitmqctl add_user admin 123\n\n# è®¾ç½®ç¨æ·è§è²\nrabbitmqctl set_user_tags admin administrator\n\n# è®¾ç½®ç¨æ·æé\nrabbitmqctl set_permissions -p "/" admin ".*" ".*" ".*"\n\n\n\n\nè§£é¤éç¾¤èç¹(centos2 åcentos3æºå¨åå«æ§è¡ï¼ä¸è§£é¤ä¸è¦æ§è¡)\n\nrabbitmqctl stop_app\nrabbitmqctl reset\nrabbitmqctl start_app\nrabbitmqctl cluster_status\nrabbitmqctl forget_cluster_node rabbit@node2 # (node1 æºå¨ä¸æ§è¡)\n\n\n\n# éåéå\n\nå¦æ rabbitmq éç¾¤ä¸­åªæä¸ä¸ª broker èç¹ï¼é£ä¹è¯¥èç¹çå¤±æå°å¯¼è´æ´ä½æå¡çä¸´æ¶æ§ä¸å¯ç¨ï¼å¹¶ä¸ä¹å¯è½ä¼å¯¼è´æ¶æ¯çä¸¢å¤±ãå¯ä»¥å°æææ¶æ¯é½è®¾ç½®ä¸ºæä¹åï¼å¹¶ä¸å¯¹åºéåçdurableå±æ§ä¹è®¾ç½®ä¸ºtrueï¼ä½æ¯è¿æ ·ä»ç¶æ æ³é¿åç±äºç¼å­å¯¼è´çé®é¢ï¼å ä¸ºæ¶æ¯å¨åéä¹ååè¢«åå¥ç£çäºæ§è¡å·çå¨ä½ä¹é´å­å¨ä¸ä¸ªç­æå´ä¼äº§çé®é¢çæ¶é´çªãéè¿ publisherconfirm æºå¶è½å¤ç¡®ä¿å®¢æ·ç«¯ç¥éåªäºæ¶æ¯å·±ç»å­å¥ç£çï¼å°½ç®¡å¦æ­¤ï¼ä¸è¬ä¸å¸æéå°å åç¹æéå¯¼è´çæå¡ä¸å¯ç¨ã\n\nå¼å¥éåéå(mirror queue)çæºå¶ï¼å¯ä»¥å°éåéåå°éç¾¤ä¸­çå¶ä» broker èç¹ä¹ä¸ï¼å¦æéç¾¤ä¸­çä¸ä¸ªèç¹å¤±æäºï¼éåè½èªå¨å°åæ¢å°éåä¸­çå¦ä¸ä¸ªèç¹ä¸ä»¥ä¿è¯æå¡çå¯ç¨æ§ã\n\næ­å»ºæ­¥éª¤\n\nå¯å¨ä¸å°éç¾¤èç¹ï¼éä¾¿æ¾ä¸ä¸ªèç¹æ·»å  policyï¼\n\n\n\n> patternæ ¹æ®èªå·±çéåæ¥éç½®\n\n\n\nå¨centos1ä¸åå»ºä¸ä¸ªéååéä¸æ¡æ¶æ¯ï¼éåå­å¨éåéåï¼åæcentos1ä¹ååç°centos2æä¸ºéåéåï¼\n\n\n\n\n\nå°±ç®æ´ä¸ªéç¾¤åªå©ä¸ä¸å°æºå¨äºï¼ä¾ç¶è½æ¶è´¹éåéé¢çæ¶æ¯ï¼è¯´æéåéé¢çæ¶æ¯è¢«éåéåä¼ éå°ç¸åºæºå¨éé¢äºã\n\n> ç»centos1åæ¶æ¯ï¼ä¸å¤çæ¶æ¯ï¼ç¶ååæcentos1ï¼è¿æ¶centos2å°±å¯ä»¥æ¶è´¹æ¶æ¯\n\n\n\n\n# haproxy+keepaliveå®ç°é«å¯ç¨è´è½½åè¡¡\n\n> ææ¡£éé¢å«ç³ä¸æ¸ï¼ç´æ¥å¤å¶çææ¡£ï¼åé¢æ¥è§¦å°äºåè¡¥\n\n\n# æ´ä½æ¶æå¾\n\n\n\n\n# haproxy\n\nhaproxy æä¾é«å¯ç¨æ§ãè´è½½åè¡¡ååºäºtcphttp åºç¨çä»£çï¼æ¯æèæä¸»æºï¼å®æ¯åè´¹ãå¿«éå¹¶ä¸å¯é çä¸ç§è§£å³æ¹æ¡ï¼åæ¬ twitterãredditãstackoverflowãgithub å¨åçå¤å®¶ç¥åäºèç½å¬å¸å¨ä½¿ç¨ã\n\nhaproxy å®ç°äºä¸ç§äºä»¶é©±å¨ãåä¸è¿ç¨æ¨¡åï¼æ­¤æ¨¡åæ¯æéå¸¸å¤§çäºåè¿æ¥æ°ã\n\n> nginxãlvsãhaproxyä¹é´çåºå«: http://www.ha97.com/5646.html\n\næ­å»ºæ­¥éª¤ï¼\n\nä¸è½½ haproxy(å¨centos1åcentos2)\n\nyum -y install haproxy\n\n\nä¿®æ¹centos1åcentos2çhaproxy.cfg\n\nvim /etc/haproxy/haproxy.cfg\n\n\néè¦ä¿®æ¹çº¢è² ip ä¸ºå½åæºå¨ ip\n\n\n\nå¨ä¸¤å°èç¹å¯å¨ haproxy\n\nhaproxy -f /etc/haproxy/haproxy.cfg\nps -ef | grep haproxy\n\n\nè®¿é®å°å\n\nhttp://10.211.55.71:8888/stats\n\n\n# keepalivedå®ç°åæº(ä¸»å¤)ç­å¤\n\nå¦æéç½®çhaproxyä¸»æºçªç¶å®æºæèç½å¡å¤±æï¼å°±ç®rbbitmqéç¾¤æ²¡æä»»ä½æéä½æ¯å¯¹äºå¤ççå®¢æ·ç«¯æ¥è¯´ææçè¿æ¥é½ä¼è¢«æ­å¼ï¼ç»ææ¯ç¾é¾æ§çï¼ä¸ºäºç¡®ä¿è´è½½åè¡¡æå¡çå¯é æ§åæ ·æ¾å¾ååéè¦ã\n\nkeepalivedå®è½å¤éè¿èªèº«å¥åº·æ£æ¥ãèµæºæ¥ç®¡åè½åé«å¯ç¨(åæºç­å¤)ï¼å®ç°æéè½¬ç§»ã\n\næ­å»ºæ­¥éª¤ï¼\n\nä¸è½½ keepalived\n\nyum -y install keepalived\n\n\nä¿®æ¹èç¹centos1éç½®æä»¶ï¼\n\nvim /etc/keepalived/keepalived.conf\n\n\næèµæéé¢ç keepalived.conf ä¿®æ¹ä¹åæ¿æ¢\n\n> æ²¡æèµæ\n\nèç¹centos2éç½®æä»¶\n\n * éè¦ä¿®æ¹global_defs ç router_id,å¦:nodeb\n * å¶æ¬¡è¦ä¿®æ¹ vrrp_instance_vi ä¸­ state ä¸º"backup"ï¼\n * æåè¦å°priority è®¾ç½®ä¸ºå°äº 100 çå¼\n\næ·»å  haproxy_chk.sh\n\n(ä¸ºäºé²æ­¢ haproxy æå¡ææä¹å keepalived è¿å¨æ­£å¸¸å·¥ä½èæ²¡æåæ¢å° backup ä¸ï¼æä»¥è¿ééè¦ç¼åä¸ä¸ªèæ¬æ¥æ£æµ haproxy å¡çç¶æ,å½ haproxy æå¡ææä¹åè¯¥èæ¬ä¼èªå¨éå¯haproxy çæå¡ï¼å¦æä¸æååå³é­ keepalived æå¡ï¼è¿æ ·ä¾¿å¯ä»¥åæ¢å° backup ç»§ç»­å·¥ä½)\n\n# å¯ä»¥ä¸ä¼ æä»¶\nvim /etc/keepalived/haproxy_chk.sh\n# ä¿®æ¹æé \nchmod 777 /etc/keepalived/haproxy_chk.sh\n\n\n> è¿éä¹æ²¡ææä»¶\n\nå¯å¨ keepalive(centos1åcentos2å¯å¨)\n\nsystemctl start keepalived\n\n\nè§å¯ keepalived çæ¥å¿\n\ntail -f /var/log/messages -n 200\n\n\nè§å¯ææ°æ·»å ç vip\n\nip add show\n\n\ncentos1æ¨¡æ keepalived å³é­ç¶æ\n\nsystemctl stop keepalived\n\n\nä½¿ç¨ vip å°åæ¥è®¿é® rabbitmq éç¾¤\n\n\n# federation exchange\n\n(broker åäº¬)ï¼(broker æ·±å³)å½¼æ­¤ä¹é´ç¸è·çè¿ï¼ç½ç»å»¶è¿æ¯ä¸ä¸ªä¸å¾ä¸é¢å¯¹çé®é¢ãæä¸ä¸ªå¨åäº¬çä¸å¡(client åäº¬) éè¦è¿æ¥(broker åäº¬)ï¼åå¶ä¸­çäº¤æ¢å¨ exchangea åéæ¶æ¯ï¼æ­¤æ¶çç½ç»å»¶è¿å¾å°ï¼(client åäº¬)å¯ä»¥è¿éå°æ¶æ¯åéè³ exchangea ä¸­ï¼å°±ç®å¨å¼å¯äº publisherconfirm æºå¶æèäºå¡æºå¶çæåµä¸ï¼ä¹å¯ä»¥è¿éæ¶å°ç¡®è®¤ä¿¡æ¯ã\n\næ­¤æ¶åæä¸ªå¨æ·±å³çä¸å¡(client æ·±å³)éè¦å exchangea åéæ¶æ¯ï¼ é£ä¹(client æ·±å³) (broker åäº¬)ä¹é´æå¾å¤§çç½ç»å»¶è¿ï¼(client æ·±å³) å°åéæ¶æ¯è³ exchangea ä¼ç»åä¸å®çå»¶è¿ï¼å°¤å¶æ¯å¨å¼å¯äº publisherconfirm æºå¶æèäºå¡æºå¶çæåµä¸ï¼(client æ·±å³) ä¼ç­å¾å¾é¿çå»¶è¿æ¶é´æ¥æ¥æ¶(broker åäº¬)çç¡®è®¤ä¿¡æ¯ï¼è¿èå¿ç¶é æè¿æ¡åéçº¿ç¨çæ§è½éä½ï¼çè³é æä¸å®ç¨åº¦ä¸çé»å¡ã\n\nå°ä¸å¡(client æ·±å³)é¨ç½²å°åäº¬çæºæ¿å¯ä»¥è§£å³è¿ä¸ªé®é¢ï¼ä½æ¯å¦æ(client æ·±å³)è°ç¨çå¦äºæå¡é½é¨ç½²å¨æ·±å³ï¼é£ä¹åä¼å¼åæ°çæ¶å»¶é®é¢ï¼æ»ä¸è§å¾å°ææä¸å¡å¨é¨é¨ç½²å¨ä¸ä¸ªæºæ¿ï¼é£ä¹å®¹ç¾åä½ä»¥å®ç°ï¼ è¿éä½¿ç¨ federation æä»¶å°±å¯ä»¥å¾å¥½å°è§£å³è¿ä¸ªé®é¢ã\n\n\n\næ­å»ºæ­¥éª¤ï¼\n\néè¦ä¿è¯æ¯å°èç¹åç¬è¿è¡\n\nå¨æ¯å°æºå¨ä¸å¼å¯ federation ç¸å³æä»¶\n\nrabbitmq-plugins enable rabbitmq_federation\nrabbitmq-plugins enable rabbitmq_federation_management\n\n\n\n\nåçå¾(åè¿è¡ consumer å¨contos2åå»º fed_exchange)\n\n\n\nå¨ downstream(contos2)éç½® upstream(contos1)\n\n\n\næ·»å  policy\n\n\n\næåçåæ\n\n\n\n\n# federation queue\n\nèé¦éåå¯ä»¥å¨å¤ä¸ª broker èç¹(æèéç¾¤)ä¹é´ä¸ºåä¸ªéåæä¾åè¡¡è´è½½çåè½ãä¸ä¸ªèé¦éåå¯ä»¥è¿æ¥ä¸ä¸ªæèå¤ä¸ªä¸æ¸¸éå(upstream queue)ï¼å¹¶ä»è¿äºä¸æ¸¸éåä¸­è·åæ¶æ¯ä»¥æ»¡è¶³æ¬å°æ¶è´¹èæ¶è´¹æ¶æ¯çéæ±ã\n\næ­å»ºæ­¥éª¤ï¼\n\n\n\næ·»å  upstream(åä¸)\n\næ·»å  policy\n\n\n\n\n# shovel\n\nfederation å·å¤çæ°æ®è½¬ååè½ç±»ä¼¼ï¼shovel å¤å¯é ãæç»­å°ä»ä¸ä¸ª broker ä¸­çéå(ä½ä¸ºæºç«¯ï¼å³source)æåæ°æ®å¹¶è½¬åè³å¦ä¸ä¸ª broker ä¸­çäº¤æ¢å¨(ä½ä¸ºç®çç«¯ï¼å³ destination)ãä½ä¸ºæºç«¯çéååä½ä¸ºç®çç«¯çäº¤æ¢å¨å¯ä»¥åæ¶ä½äºåä¸ä¸ª brokerï¼ä¹å¯ä»¥ä½äºä¸åç broker ä¸ãshovel å¯ä»¥ç¿»è¯ä¸º"é²å­"ï¼æ¯ä¸ç§æ¯è¾å½¢è±¡çæ¯å»ï¼è¿ä¸ª"é²å­"å¯ä»¥å°æ¶æ¯ä»ä¸æ¹"é²å­"å¦ä¸æ¹ãshovel è¡ä¸ºå°±åä¼ç§çå®¢æ·ç«¯åºç¨ç¨åºè½å¤è´è´£è¿æ¥æºåç®çå°ãè´è´£æ¶æ¯çè¯»ååè´è´£è¿æ¥å¤±è´¥é®é¢çå¤çã\n\næ­å»ºæ­¥éª¤ï¼\n\nå¼å¯æä»¶(éè¦çæºå¨é½å¼å¯)\n\nrabbitmq-plugins enable rabbitmq_shovel\nrabbitmq-plugins enable rabbitmq_shovel_management\n\n\n\n\nåçå¾(å¨æºå¤´åéçæ¶æ¯ç´æ¥åè¿å¥å°ç®çå°éå)\n\n\n\næ·»å  shovel æºåç®çå°\n\n',charsets:{cjk:!0},lastUpdated:"2022/11/25, 18:48:06",lastUpdatedTimestamp:1669373286e3},{title:"Linuxèææºå®è£åè®¾ç½®ContOS7.6",frontmatter:{title:"Linuxèææºå®è£åè®¾ç½®ContOS7.6",date:"2022-11-23T11:30:56.000Z",permalink:"/pages/e938xib2/",categories:["è¿ç»´"],tags:["Linux","VMware"],author:"ä¹æ¨åç"},regularPath:"/05.%E8%BF%90%E7%BB%B4/01.Linux/01.Linux%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85%E5%92%8C%E8%AE%BE%E7%BD%AEContOS7.6.html",relativePath:"05.è¿ç»´/01.Linux/01.Linuxèææºå®è£åè®¾ç½®ContOS7.6.md",key:"v-61944210",path:"/pages/e938xib2/",headers:[{level:2,title:"åå»ºèææº",slug:"åå»ºèææº",normalizedTitle:"åå»ºèææº",charIndex:75},{level:2,title:"å®è£ç³»ç»",slug:"å®è£ç³»ç»",normalizedTitle:"å®è£ç³»ç»",charIndex:746}],headersStr:"åå»ºèææº å®è£ç³»ç»",content:"ContOS7.6ä¸è½½å°åï¼https://pan.baidu.com/s/10J6kJ1imTesjWSABWN52sw æåç ï¼5u05\n\n\n# åå»ºèææº\n\n> æ°å»ºèææº\n\n\n\n> éæ©å¸åï¼ä¸ä¸æ­¥\n\n\n\n> éæ©ç¨åå®è£æä½ç³»ç»ï¼ä¸ä¸æ­¥\n\n\n\n> å®¢æ·æºæä½ç³»ç»éæ©Linuxï¼çæ¬éæ©Red Hat Enterprise Linux 7 64 ä½ï¼ å ä¸ºCentOSæ¯RedHat(çº¢å¸½)çåæ¯ï¼å®è£çæ¯7.6ççæ¬æä»¥è¿ééæ©çº¢å¸½7ççæ¬ï¼ä¸ä¸æ­¥\n\n\n\n> ç»èææºå½åï¼ä»¥åéæ©å®è£ä½ç½®ï¼ä¸ä¸æ­¥\n\n\n\n> æå¤§ç£çå¤§å°å¡«å20GB(ä¸å¤ä»¥åè¿å¯ä»¥æ©å)ï¼éæ©å°èæç£çæåæå¤ä¸ªæä»¶ï¼ä¸ä¸æ­¥\n\n\n\n> ç¹å»èªå®ä¹ç¡¬ä»¶\n\n\n\n * åå­\n   \n   > åå­åèæåå­æç§å»ºè®®çæ¥ï¼ä¸è¬2GBå¤ç¨\n\n\n\n * å¤çå¨\n   \n   > æ ¹æ®ä¸»æºçå¤çå¨æ¥éç½®ï¼æçä¸»æºåªæä¸ä¸ªCPUå¤çå¨ï¼ä¸å±æ8ä¸ªåæ ¸ï¼èªèº«ä¸»æºä¹éè¦ä½¿ç¨ï¼è¿éç»åºä¸åï¼æ¯ä¸ªå¤çå¨çåæ ¸æ°éä¸º4\n\n\n\n * ç½ç»ééå¨\n   \n   > ç½ç»è¿æ¥ä¸­éæ©NATæ¨¡å¼\n   > \n   >  * æ¡¥æ¥æ¨¡å¼ï¼ èæç³»ç»å¯ä»¥åå¤é¨ç³»ç»éè¿ï¼ä½æ¯å®¹æé æIPå²çª\n   >  * NATæ¨¡å¼ï¼ ç½ç»å°åè½¬æ¢æ¨¡å¼ï¼èæç³»ç»å¯ä»¥åå¤é¨ç³»ç»éè¿ï¼ä¸é æIPå²çª\n   >  * ä»ä¸»æºæ¨¡å¼ï¼ ç¬ç«çç³»ç»\n\n\n\n * å¶ä»\n   \n   > å¶ä»çé»è®¤å³å¯\n\n> ç¹å»å³é­ï¼åç¹å»å®æï¼éæ©åååå»ºå¥½çèææºï¼å³é®éæ©è®¾ç½®\n\n\n\n> éæ©CD/DVDï¼å¨ä½¿ç¨ISOæ åæä»¶ä¸­éæ©ä¸è½½çContOSçéåæä»¶ï¼ç¹å»ç¡®å®\n\n\n\n> å¼å¯æ­¤èææºï¼åå»é»è²çªå£ï¼å³å¯å°é¼ æ åé®çè¿å¥èææºä¸­ï¼ç­å¾ä¸ä¼åï¼è¿å¥è®¾ç½®çé¢\n\n\n\n\n# å®è£ç³»ç»\n\n> éæ©ä¸­æ-ç®ä½ä¸­æ (ä¸­å½)ï¼ç»§ç»­\n\n\n\n * è½¯ä»¶éæ©\n   \n   > ç¹å»è½¯ä»¶éæ©\n   > \n   > ä¸è¬çäº§ç¯å¢éæ© æå°å®è£ï¼éé¢ä»ä¹é½æ²¡æï¼èå­¦ä¹ é¶æ®µéæ© GNOME æ¡é¢çï¼éä¸­ï¼\n   > \n   >  * [x] ä¼ ç» X Windows ç³»ç»çå¼å®¹æ§\n   >  * [x] å¼å®¹æ§ç¨åºåº\n   >  * [x] å¼åå·¥å·\n   > \n   > å¼åå·¥å·ä¸­åå«äºJDKï¼GCCï¼MySQLç­ç­ï¼ä¸ç¨èªå·±åå®è£äºï¼å½ç¶åç»­å¯ä»¥å¸è½½æèæ´æ°\n   > \n   > ç¶åç¹å»å®æ\n\n\n\n\n\n * å®è£ä½ç½®\n   \n   > ç¹å»å®æåï¼ä¼åºç°å®è£æºåè½¯ä»¶éæ©æ£æ¥è½¯ä»¶ä¾èµå³ç³»çç­å¾æ¶é´ï¼ç­å¾æé´ä¸è¦ä¹±å¨ï¼ç­å¾ç»æåï¼ç¹å»ä¸é¢çå®è£ä½ç½®ã\n   > \n   > ä¸è¬éæ©èªå¨éç½®ååºï¼ä¸ºäºæ´è½çæLinuxç³»ç»ï¼è¿ééæ©æè¦éç½®ååºï¼ç¹å»å®æã\n\n\n\n> ä¸é¢éç½®åå­çæ¶åï¼ç»äºèææº20Gçåå­ï¼èèªå®ä¹ååºçè¯ï¼ä¸è¬åæä¸ä¸ªåº\n> \n>  1. bootååºï¼å¼å¯¼ååºï¼æä½ç³»ç»çåæ ¸åå¨å¼å¯¼è¿ç¨ä¸­ä½¿ç¨çæä»¶ï¼å»ºè®®ç»1G\n>  2. swapååºï¼äº¤æ¢ååºï¼å½å®éåå­ä¸å¤ç¨çæ¶åï¼æä½ç³»ç»ä¼ä»åå­ä¸­ååºä¸é¨åææ¶ä¸ç¨çæ°æ®ï¼æ¾å¨äº¤æ¢ååºä¸­ï¼ä»èä¸ºå½åè¿è¡çç¨åºè¾åºè¶³å¤çåå­ç©ºé´ï¼å»ºè®®è·åå­å¤§å°ä¸æ ·2G\n>  3. æ ¹ååºï¼å°±æ¯rootååºï¼å©ä¸17Gé½ç»æ ¹ååº\n> \n> ç¹å» + å·ï¼æ·»å ååº\n\n\n\n> æè½½ç¹éæ© /bootï¼ææå®¹éè¾å¥1Gï¼ç¹å»æ·»å æè½½ç¹åï¼å°è®¾å¤ç±»åæ¹ææ åååºï¼æä»¶ç³»ç»æ¹æext4\n\n\n\n\n\n> åæ ·æ¹å¼åå»ºswapååº(æè½½ç¹éæ©swapï¼ææå®¹éè¾å¥2G)ï¼å°è®¾å¤ç±»åæ¹ææ åååºï¼æä»¶ç³»ç»æ¹æswap\n> \n> åå»ºæ ¹ååº(æè½½ç¹éæ©/ï¼ææå®¹éè¾å¥17G)ï¼å°è®¾å¤ç±»åæ¹ææ åååºï¼æä»¶ç³»ç»æ¹æext4\n> \n> ç¹å»å·¦ä¸è§å®æåï¼ç¹å»æ¥åæ´æ¹\n\n\n\n * KDUMP\n   \n   > ç¨äºç³»ç»å´©æºæ¶æè·ä¿¡æ¯ï¼å¦ææ¯çäº§ç¯å¢å»ºè®®å¾éï¼å¦ææ¯å­¦ä¹ çè¯å¯ä»¥å³æï¼èçåå­ã\n\n\n\n * ç½ç»åä¸»æºå\n   \n   > éæ©ç½ç»åä¸»æºå\n   > \n   > æ´æ¹ä¸»æºååç¹åºç¨ï¼å°å³ä¸è§çä»¥å¤ªç½éé¡¹æå¼ï¼è¡¨ç¤ºèç½ï¼æåç¹å»å®æ\n\n\n\n * SECURITY POLICY\n   \n   > å®å¨ç­ç¥ï¼ç¨äºå¯ç çæ ¡éªç­ç­ï¼å¯ä»¥æ ¹æ®éæ±å³é­ï¼è¿éæéæ©å³é­\n\n\n\n> ç¹å»å¼å§å®è£\n\n\n\n> è®¾ç½®rootå¯ç \n\n\n\n\n\n> ä¸è¬ä¸ç¨rootç»å½ï¼å ä¸ºæéå¤ªå¤§äºï¼æä»¥ç¹å»åå»ºç¨æ·ï¼ç¶åç¹å»å®æ\n\n\n\n\n\n> éç½®å®æåï¼ç­å¾ä¸æ®µæ¶é´å®è£ï¼å®è£æååï¼ç¹å»éå¯\n\n\n\n> éå¯åï¼ç¹å»LICENSE INFORMATIONï¼ç¶åéæ©æåæè®¸å¯åè®®ï¼åç¹å»å®æï¼åºæ¥åç¹å»å®æéç½®\n\n\n\n> Linuxé»è®¤æåµä¸å¸æä½¿ç¨æ®éç¨æ·ç»å½ï¼å¦æéè¦ä½¿ç¨rootç¨æ·ç»å½ï¼å¯ä»¥ç¹å»æªååºï¼è¾å¥ç¨æ·ååå¯ç ç¶åç¹å»ç»å½å³å¯ï¼ç¬¬ä¸æ¬¡å¯è½éè¦ç­å¾æ¶é´è¾é¿\n\n\n\n\n\n\n\n>  1. éæ©æ±è¯­ï¼ç¹å»åè¿\n> \n>  2. éæ©æ±è¯­æ¼é³ï¼ç¹å»åè¿\n> \n>  3. ä½ç½®æå¡å¯ä»¥éæ©å³é­ï¼ç¹å»åè¿\n> \n>  4. ç»å½è´¦å·ï¼è¿éå¯ä»¥ç¹å»è·³è¿\n> \n>  5. éç½®åå®è£å®æ\n\n\n\n\n\n\n\n",normalizedContent:"contos7.6ä¸è½½å°åï¼https://pan.baidu.com/s/10j6kj1imtesjwsabwn52sw æåç ï¼5u05\n\n\n# åå»ºèææº\n\n> æ°å»ºèææº\n\n\n\n> éæ©å¸åï¼ä¸ä¸æ­¥\n\n\n\n> éæ©ç¨åå®è£æä½ç³»ç»ï¼ä¸ä¸æ­¥\n\n\n\n> å®¢æ·æºæä½ç³»ç»éæ©linuxï¼çæ¬éæ©red hat enterprise linux 7 64 ä½ï¼ å ä¸ºcentosæ¯redhat(çº¢å¸½)çåæ¯ï¼å®è£çæ¯7.6ççæ¬æä»¥è¿ééæ©çº¢å¸½7ççæ¬ï¼ä¸ä¸æ­¥\n\n\n\n> ç»èææºå½åï¼ä»¥åéæ©å®è£ä½ç½®ï¼ä¸ä¸æ­¥\n\n\n\n> æå¤§ç£çå¤§å°å¡«å20gb(ä¸å¤ä»¥åè¿å¯ä»¥æ©å)ï¼éæ©å°èæç£çæåæå¤ä¸ªæä»¶ï¼ä¸ä¸æ­¥\n\n\n\n> ç¹å»èªå®ä¹ç¡¬ä»¶\n\n\n\n * åå­\n   \n   > åå­åèæåå­æç§å»ºè®®çæ¥ï¼ä¸è¬2gbå¤ç¨\n\n\n\n * å¤çå¨\n   \n   > æ ¹æ®ä¸»æºçå¤çå¨æ¥éç½®ï¼æçä¸»æºåªæä¸ä¸ªcpuå¤çå¨ï¼ä¸å±æ8ä¸ªåæ ¸ï¼èªèº«ä¸»æºä¹éè¦ä½¿ç¨ï¼è¿éç»åºä¸åï¼æ¯ä¸ªå¤çå¨çåæ ¸æ°éä¸º4\n\n\n\n * ç½ç»ééå¨\n   \n   > ç½ç»è¿æ¥ä¸­éæ©natæ¨¡å¼\n   > \n   >  * æ¡¥æ¥æ¨¡å¼ï¼ èæç³»ç»å¯ä»¥åå¤é¨ç³»ç»éè¿ï¼ä½æ¯å®¹æé æipå²çª\n   >  * natæ¨¡å¼ï¼ ç½ç»å°åè½¬æ¢æ¨¡å¼ï¼èæç³»ç»å¯ä»¥åå¤é¨ç³»ç»éè¿ï¼ä¸é æipå²çª\n   >  * ä»ä¸»æºæ¨¡å¼ï¼ ç¬ç«çç³»ç»\n\n\n\n * å¶ä»\n   \n   > å¶ä»çé»è®¤å³å¯\n\n> ç¹å»å³é­ï¼åç¹å»å®æï¼éæ©åååå»ºå¥½çèææºï¼å³é®éæ©è®¾ç½®\n\n\n\n> éæ©cd/dvdï¼å¨ä½¿ç¨isoæ åæä»¶ä¸­éæ©ä¸è½½çcontosçéåæä»¶ï¼ç¹å»ç¡®å®\n\n\n\n> å¼å¯æ­¤èææºï¼åå»é»è²çªå£ï¼å³å¯å°é¼ æ åé®çè¿å¥èææºä¸­ï¼ç­å¾ä¸ä¼åï¼è¿å¥è®¾ç½®çé¢\n\n\n\n\n# å®è£ç³»ç»\n\n> éæ©ä¸­æ-ç®ä½ä¸­æ (ä¸­å½)ï¼ç»§ç»­\n\n\n\n * è½¯ä»¶éæ©\n   \n   > ç¹å»è½¯ä»¶éæ©\n   > \n   > ä¸è¬çäº§ç¯å¢éæ© æå°å®è£ï¼éé¢ä»ä¹é½æ²¡æï¼èå­¦ä¹ é¶æ®µéæ© gnome æ¡é¢çï¼éä¸­ï¼\n   > \n   >  * [x] ä¼ ç» x windows ç³»ç»çå¼å®¹æ§\n   >  * [x] å¼å®¹æ§ç¨åºåº\n   >  * [x] å¼åå·¥å·\n   > \n   > å¼åå·¥å·ä¸­åå«äºjdkï¼gccï¼mysqlç­ç­ï¼ä¸ç¨èªå·±åå®è£äºï¼å½ç¶åç»­å¯ä»¥å¸è½½æèæ´æ°\n   > \n   > ç¶åç¹å»å®æ\n\n\n\n\n\n * å®è£ä½ç½®\n   \n   > ç¹å»å®æåï¼ä¼åºç°å®è£æºåè½¯ä»¶éæ©æ£æ¥è½¯ä»¶ä¾èµå³ç³»çç­å¾æ¶é´ï¼ç­å¾æé´ä¸è¦ä¹±å¨ï¼ç­å¾ç»æåï¼ç¹å»ä¸é¢çå®è£ä½ç½®ã\n   > \n   > ä¸è¬éæ©èªå¨éç½®ååºï¼ä¸ºäºæ´è½çælinuxç³»ç»ï¼è¿ééæ©æè¦éç½®ååºï¼ç¹å»å®æã\n\n\n\n> ä¸é¢éç½®åå­çæ¶åï¼ç»äºèææº20gçåå­ï¼èèªå®ä¹ååºçè¯ï¼ä¸è¬åæä¸ä¸ªåº\n> \n>  1. bootååºï¼å¼å¯¼ååºï¼æä½ç³»ç»çåæ ¸åå¨å¼å¯¼è¿ç¨ä¸­ä½¿ç¨çæä»¶ï¼å»ºè®®ç»1g\n>  2. swapååºï¼äº¤æ¢ååºï¼å½å®éåå­ä¸å¤ç¨çæ¶åï¼æä½ç³»ç»ä¼ä»åå­ä¸­ååºä¸é¨åææ¶ä¸ç¨çæ°æ®ï¼æ¾å¨äº¤æ¢ååºä¸­ï¼ä»èä¸ºå½åè¿è¡çç¨åºè¾åºè¶³å¤çåå­ç©ºé´ï¼å»ºè®®è·åå­å¤§å°ä¸æ ·2g\n>  3. æ ¹ååºï¼å°±æ¯rootååºï¼å©ä¸17gé½ç»æ ¹ååº\n> \n> ç¹å» + å·ï¼æ·»å ååº\n\n\n\n> æè½½ç¹éæ© /bootï¼ææå®¹éè¾å¥1gï¼ç¹å»æ·»å æè½½ç¹åï¼å°è®¾å¤ç±»åæ¹ææ åååºï¼æä»¶ç³»ç»æ¹æext4\n\n\n\n\n\n> åæ ·æ¹å¼åå»ºswapååº(æè½½ç¹éæ©swapï¼ææå®¹éè¾å¥2g)ï¼å°è®¾å¤ç±»åæ¹ææ åååºï¼æä»¶ç³»ç»æ¹æswap\n> \n> åå»ºæ ¹ååº(æè½½ç¹éæ©/ï¼ææå®¹éè¾å¥17g)ï¼å°è®¾å¤ç±»åæ¹ææ åååºï¼æä»¶ç³»ç»æ¹æext4\n> \n> ç¹å»å·¦ä¸è§å®æåï¼ç¹å»æ¥åæ´æ¹\n\n\n\n * kdump\n   \n   > ç¨äºç³»ç»å´©æºæ¶æè·ä¿¡æ¯ï¼å¦ææ¯çäº§ç¯å¢å»ºè®®å¾éï¼å¦ææ¯å­¦ä¹ çè¯å¯ä»¥å³æï¼èçåå­ã\n\n\n\n * ç½ç»åä¸»æºå\n   \n   > éæ©ç½ç»åä¸»æºå\n   > \n   > æ´æ¹ä¸»æºååç¹åºç¨ï¼å°å³ä¸è§çä»¥å¤ªç½éé¡¹æå¼ï¼è¡¨ç¤ºèç½ï¼æåç¹å»å®æ\n\n\n\n * security policy\n   \n   > å®å¨ç­ç¥ï¼ç¨äºå¯ç çæ ¡éªç­ç­ï¼å¯ä»¥æ ¹æ®éæ±å³é­ï¼è¿éæéæ©å³é­\n\n\n\n> ç¹å»å¼å§å®è£\n\n\n\n> è®¾ç½®rootå¯ç \n\n\n\n\n\n> ä¸è¬ä¸ç¨rootç»å½ï¼å ä¸ºæéå¤ªå¤§äºï¼æä»¥ç¹å»åå»ºç¨æ·ï¼ç¶åç¹å»å®æ\n\n\n\n\n\n> éç½®å®æåï¼ç­å¾ä¸æ®µæ¶é´å®è£ï¼å®è£æååï¼ç¹å»éå¯\n\n\n\n> éå¯åï¼ç¹å»license informationï¼ç¶åéæ©æåæè®¸å¯åè®®ï¼åç¹å»å®æï¼åºæ¥åç¹å»å®æéç½®\n\n\n\n> linuxé»è®¤æåµä¸å¸æä½¿ç¨æ®éç¨æ·ç»å½ï¼å¦æéè¦ä½¿ç¨rootç¨æ·ç»å½ï¼å¯ä»¥ç¹å»æªååºï¼è¾å¥ç¨æ·ååå¯ç ç¶åç¹å»ç»å½å³å¯ï¼ç¬¬ä¸æ¬¡å¯è½éè¦ç­å¾æ¶é´è¾é¿\n\n\n\n\n\n\n\n>  1. éæ©æ±è¯­ï¼ç¹å»åè¿\n> \n>  2. éæ©æ±è¯­æ¼é³ï¼ç¹å»åè¿\n> \n>  3. ä½ç½®æå¡å¯ä»¥éæ©å³é­ï¼ç¹å»åè¿\n> \n>  4. ç»å½è´¦å·ï¼è¿éå¯ä»¥ç¹å»è·³è¿\n> \n>  5. éç½®åå®è£å®æ\n\n\n\n\n\n\n\n",charsets:{cjk:!0},lastUpdated:"2022/11/25, 18:48:06",lastUpdatedTimestamp:1669373286e3},{title:"LinuxèææºVMwareToolså®è£+ä½¿ç¨è¯¦è§£",frontmatter:{title:"LinuxèææºVMwareToolså®è£+ä½¿ç¨è¯¦è§£",date:"2022-11-24T11:30:56.000Z",permalink:"/pages/45rn88gi/",categories:["è¿ç»´"],tags:["Linux","VMware"],author:"ä¹æ¨åç"},regularPath:"/05.%E8%BF%90%E7%BB%B4/01.Linux/02.Linux%E8%99%9A%E6%8B%9F%E6%9C%BAVMwareTools%E5%AE%89%E8%A3%85+%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3.html",relativePath:"05.è¿ç»´/01.Linux/02.LinuxèææºVMwareToolså®è£+ä½¿ç¨è¯¦è§£.md",key:"v-72d51d8a",path:"/pages/45rn88gi/",headers:[{level:2,title:"å®è£VMwareTools",slug:"å®è£vmwaretools",normalizedTitle:"å®è£vmwaretools",charIndex:67},{level:2,title:"æ·»å å±äº«æä»¶å¤¹",slug:"æ·»å å±äº«æä»¶å¤¹",normalizedTitle:"æ·»å å±äº«æä»¶å¤¹",charIndex:725}],excerpt:"<p>VMwareå®è£åï¼å¯ä»¥ä½¿ç¨VMwareå¨Windowsä¸­æ´å¥½çä½¿ç¨åç®¡çèææºï¼<strong>è®¾ç½®WindowsåCentOSå±äº«æä»¶å¤¹</strong></p>\n",headersStr:"å®è£VMwareTools æ·»å å±äº«æä»¶å¤¹",content:"VMwareå®è£åï¼å¯ä»¥ä½¿ç¨VMwareå¨Windowsä¸­æ´å¥½çä½¿ç¨åç®¡çèææºï¼è®¾ç½®WindowsåCentOSå±äº«æä»¶å¤¹\n\n\n# å®è£VMwareTools\n\n> è¿å¥CentOSï¼å³é®éæ©æ¡é¢ä¸çåé©±å¾æ ï¼ç¹å»å¼¹åºï¼æ²¡æçè¯ä¸ç¨å¼¹\n\n\n\n> ç¹å»èåçæ ä¸­çéæ°å®è£ VMware Toolsï¼å¦æä¸æ¯éæ°å®è£çè¯ï¼å°±ç¹å®è£VMtoolså³å¯\n\n\n\n> CentOSä¼åºç°ä¸ä¸ªVMware Toolsçå®è£åï¼å¦ææ²¡æçè¯éå¤ä¸ä¸æ­¥ç¹å»åæ¶å®è£ï¼åéæ°å®è£ä¸æ¬¡è¯è¯\n\n\n\n> æå¼è¿ä¸ªåé©±ï¼å¯ä»¥çå°ä¸ä¸ªVMwareTools...tar.gzçæä»¶ï¼æå®æ·è´å° /optç®å½ä¸\n> \n>  1. åå»ä¸»æä»¶å¤¹\n>  2. éæ©âå¶ä»ä½ç½®â\n>  3. åå»âè®¡ç®æºâ\n>  4. åå»âoptâç®å½\n\n\n\n> å³é®æ¡é¢ï¼ç¹å»æå¼ç»ç«¯\n> \n> æ§è¡ä¸é¢çå½ä»¤(ä¸è¡ä¸è¡æ§è¡)ï¼ç¬¬äºè¡æåçæ¯ååå¤å¶çæä»¶åï¼æ¹æèªå·±çå°±å¥½\n> \n> ææéº»ç¦çè¯ï¼å¯ä»¥åè¾å¥æä»¶åå¼å¤´å ä¸ªå­æ¯ï¼æ¯å¦VMï¼ç¶åä½¿ç¨Tabé®éæ©å¯¹åºçæä»¶\n\ncd /opt\ntar -zxvf VMwareTools...tar.gz\n\n\n\n\n> è§£ååï¼å¯ä»¥çå° /optæä»¶å¤¹ä¸ï¼å¤äºä¸ä¸ªæä»¶å¤¹\n> \n> ä½¿ç¨ç»ç«¯è¿å¥è¿ä¸ªç®å½ï¼ä»¥ä¸å½ä»¤ä¾æ¬¡æ§è¡ï¼å¦æè·èªå·±çæä»¶åä¸ä¸æ ·ï¼éè¦æ¹æèªå·±ç\n\ncd vmware-tools-distrib/\n./vmware-install.pl\n\n\n> è¿ä¸¤æ¡å½ä»¤æ§è¡åï¼éå°éé¡¹ç´æ¥ä¸è·¯åè½¦ï¼å®è£åç¡®ä¿ç³»ç»æå®è£GCCï¼å¦åå®è£å¤±è´¥çï¼è¾å¥å½ä»¤ gcc - v å¦ææè¾åºä¿¡æ¯ï¼è¯´ææå®è£ï¼\n\n\n\n\n\n> çå°è¿ä¸ªè¯´æå®è£æå\n\n\n\n\n# æ·»å å±äº«æä»¶å¤¹\n\n> é¦åå¨æ¬å°åå»ºä¸ä¸ªæä»¶å¤¹ï¼éé¢éä¾¿æ¾ä¸ä¸ªæä»¶\n\n\n\n> å³é®éè¦å±äº«æä»¶å¤¹çèææºï¼éæ©è®¾ç½®\n\n\n\n> ä¾æ¬¡éæ©ä¸é¢çéé¡¹\n\n\n\n> éæ©åååå»ºçæä»¶å¤¹ï¼ç¶åç¹å»ä¸ä¸æ­¥\n> \n> éæ©å¯ç¨æ¬¡å±äº«ï¼ç¶åç¹å»å®æï¼åç¹ç¡®å®\n\n\n\n> å¨CentOSä¸­ï¼éæ©å¶ä»ä½ç½®ï¼åéæ©è®¡ç®æºï¼è¿å¥mntæä»¶å¤¹\n> \n> ä¾æ¬¡å¾ä¸ç¹å»ï¼å¯ä»¥çå°åååå»ºçå±äº«æä»¶å¤¹ï¼ä¹è½çå°åååå»ºçå±äº«çæä»¶\n\n",normalizedContent:"vmwareå®è£åï¼å¯ä»¥ä½¿ç¨vmwareå¨windowsä¸­æ´å¥½çä½¿ç¨åç®¡çèææºï¼è®¾ç½®windowsåcentoså±äº«æä»¶å¤¹\n\n\n# å®è£vmwaretools\n\n> è¿å¥centosï¼å³é®éæ©æ¡é¢ä¸çåé©±å¾æ ï¼ç¹å»å¼¹åºï¼æ²¡æçè¯ä¸ç¨å¼¹\n\n\n\n> ç¹å»èåçæ ä¸­çéæ°å®è£ vmware toolsï¼å¦æä¸æ¯éæ°å®è£çè¯ï¼å°±ç¹å®è£vmtoolså³å¯\n\n\n\n> centosä¼åºç°ä¸ä¸ªvmware toolsçå®è£åï¼å¦ææ²¡æçè¯éå¤ä¸ä¸æ­¥ç¹å»åæ¶å®è£ï¼åéæ°å®è£ä¸æ¬¡è¯è¯\n\n\n\n> æå¼è¿ä¸ªåé©±ï¼å¯ä»¥çå°ä¸ä¸ªvmwaretools...tar.gzçæä»¶ï¼æå®æ·è´å° /optç®å½ä¸\n> \n>  1. åå»ä¸»æä»¶å¤¹\n>  2. éæ©âå¶ä»ä½ç½®â\n>  3. åå»âè®¡ç®æºâ\n>  4. åå»âoptâç®å½\n\n\n\n> å³é®æ¡é¢ï¼ç¹å»æå¼ç»ç«¯\n> \n> æ§è¡ä¸é¢çå½ä»¤(ä¸è¡ä¸è¡æ§è¡)ï¼ç¬¬äºè¡æåçæ¯ååå¤å¶çæä»¶åï¼æ¹æèªå·±çå°±å¥½\n> \n> ææéº»ç¦çè¯ï¼å¯ä»¥åè¾å¥æä»¶åå¼å¤´å ä¸ªå­æ¯ï¼æ¯å¦vmï¼ç¶åä½¿ç¨tabé®éæ©å¯¹åºçæä»¶\n\ncd /opt\ntar -zxvf vmwaretools...tar.gz\n\n\n\n\n> è§£ååï¼å¯ä»¥çå° /optæä»¶å¤¹ä¸ï¼å¤äºä¸ä¸ªæä»¶å¤¹\n> \n> ä½¿ç¨ç»ç«¯è¿å¥è¿ä¸ªç®å½ï¼ä»¥ä¸å½ä»¤ä¾æ¬¡æ§è¡ï¼å¦æè·èªå·±çæä»¶åä¸ä¸æ ·ï¼éè¦æ¹æèªå·±ç\n\ncd vmware-tools-distrib/\n./vmware-install.pl\n\n\n> è¿ä¸¤æ¡å½ä»¤æ§è¡åï¼éå°éé¡¹ç´æ¥ä¸è·¯åè½¦ï¼å®è£åç¡®ä¿ç³»ç»æå®è£gccï¼å¦åå®è£å¤±è´¥çï¼è¾å¥å½ä»¤ gcc - v å¦ææè¾åºä¿¡æ¯ï¼è¯´ææå®è£ï¼\n\n\n\n\n\n> çå°è¿ä¸ªè¯´æå®è£æå\n\n\n\n\n# æ·»å å±äº«æä»¶å¤¹\n\n> é¦åå¨æ¬å°åå»ºä¸ä¸ªæä»¶å¤¹ï¼éé¢éä¾¿æ¾ä¸ä¸ªæä»¶\n\n\n\n> å³é®éè¦å±äº«æä»¶å¤¹çèææºï¼éæ©è®¾ç½®\n\n\n\n> ä¾æ¬¡éæ©ä¸é¢çéé¡¹\n\n\n\n> éæ©åååå»ºçæä»¶å¤¹ï¼ç¶åç¹å»ä¸ä¸æ­¥\n> \n> éæ©å¯ç¨æ¬¡å±äº«ï¼ç¶åç¹å»å®æï¼åç¹ç¡®å®\n\n\n\n> å¨centosä¸­ï¼éæ©å¶ä»ä½ç½®ï¼åéæ©è®¡ç®æºï¼è¿å¥mntæä»¶å¤¹\n> \n> ä¾æ¬¡å¾ä¸ç¹å»ï¼å¯ä»¥çå°åååå»ºçå±äº«æä»¶å¤¹ï¼ä¹è½çå°åååå»ºçå±äº«çæä»¶\n\n",charsets:{cjk:!0},lastUpdated:"2022/11/25, 18:48:06",lastUpdatedTimestamp:1669373286e3},{title:"Gitåºç¡å½ä»¤",frontmatter:{title:"Gitåºç¡å½ä»¤",date:"2022-12-16T15:15:27.000Z",permalink:"/pages/eb9ks77i",categories:["å·¥å·"],tags:["Git"],author:{name:"ä¹æ¨åç"}},regularPath:"/06.%E5%B7%A5%E5%85%B7/01.Git/01.Git%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4.html",relativePath:"06.å·¥å·/01.Git/01.Gitåºç¡å½ä»¤.md",key:"v-62914f02",path:"/pages/eb9ks77i/",headers:[{level:2,title:"åºæ¬éç½®",slug:"åºæ¬éç½®",normalizedTitle:"åºæ¬éç½®",charIndex:387},{level:5,title:"ä¹±ç é®é¢",slug:"ä¹±ç é®é¢",normalizedTitle:"ä¹±ç é®é¢",charIndex:732},{level:2,title:"åºç¡æä½æä»¤",slug:"åºç¡æä½æä»¤",normalizedTitle:"åºç¡æä½æä»¤",charIndex:904},{level:3,title:"è·åæ¬å°ä»åº",slug:"è·åæ¬å°ä»åº",normalizedTitle:"è·åæ¬å°ä»åº",charIndex:976},{level:3,title:"æ¥çä¿®æ¹çç¶æ(status)",slug:"æ¥çä¿®æ¹çç¶æ-status",normalizedTitle:"æ¥çä¿®æ¹çç¶æ(status)",charIndex:1028},{level:3,title:"æ·»å å·¥ä½åºå°æå­åº(add)",slug:"æ·»å å·¥ä½åºå°æå­åº-add",normalizedTitle:"æ·»å å·¥ä½åºå°æå­åº(add)",charIndex:1080},{level:3,title:"æäº¤æå­åºå°æ¬å°ä»åº(commit)",slug:"æäº¤æå­åºå°æ¬å°ä»åº-commit",normalizedTitle:"æäº¤æå­åºå°æ¬å°ä»åº(commit)",charIndex:1164},{level:3,title:"æ¥çæäº¤æ¥å¿(log)",slug:"æ¥çæäº¤æ¥å¿-log",normalizedTitle:"æ¥çæäº¤æ¥å¿(log)",charIndex:1229},{level:3,title:"çæ¬åé",slug:"çæ¬åé",normalizedTitle:"çæ¬åé",charIndex:1381},{level:3,title:"æ·»å æä»¶è³å¿½ç¥åè¡¨",slug:"æ·»å æä»¶è³å¿½ç¥åè¡¨",normalizedTitle:"æ·»å æä»¶è³å¿½ç¥åè¡¨",charIndex:1474}],headersStr:"åºæ¬éç½® ä¹±ç é®é¢ åºç¡æä½æä»¤ è·åæ¬å°ä»åº æ¥çä¿®æ¹çç¶æ(status) æ·»å å·¥ä½åºå°æå­åº(add) æäº¤æå­åºå°æ¬å°ä»åº(commit) æ¥çæäº¤æ¥å¿(log) çæ¬åé æ·»å æä»¶è³å¿½ç¥åè¡¨",content:' * Git GUIï¼Gitæä¾çå¾å½¢çé¢å·¥å·\n * Git Bashï¼Gitæä¾çå½ä»¤è¡å·¥å·\n\nGitå·¥ä½æµç¨å¾ï¼\n\n\n\nå½ä»¤å¦ä¸ï¼\n\n 1. **clone(åé)ï¼**ä»è¿ç¨ä»åºä¸­åéä»£ç å°æ¬å°ä»åº\n 2. **checkout(æ£åº)ï¼**ä»æ¬å°ä»åºä¸­æ£åºä¸ä¸ªä»åºåæ¯ç¶åè¿è¡ä¿®è®¢\n 3. **add(æ·»å )ï¼**å¨æäº¤ååå°ä»£ç æäº¤å°æå­åº\n 4. **commit(æäº¤)ï¼**æäº¤å°æ¬å°ä»åºãæ¬å°ä»åºä¸­ä¿å­ä¿®æ¹çåä¸ªåå²çæ¬\n 5. **fetch(æå)ï¼**ä»è¿ç¨åºï¼æåå°æ¬å°ä»åºï¼ä¸è¿è¡ä»»ä½çåå¹¶å¨ä½ï¼ä¸è¬æä½æ¯è¾å°ã\n 6. **pull(æå)ï¼**ä»è¿ç¨åºæå°æ¬å°åºï¼èªå¨è¿è¡åå¹¶(merge)ï¼ç¶åæ¾å°å°å·¥ä½åºï¼ç¸å½äºfetch+merge\n 7. **push(æ¨é)ï¼**ä¿®æ¹å®æåï¼éè¦åå¢éæåå±äº«ä»£ç æ¶ï¼å°ä»£ç æ¨éå°è¿ç¨ä»åº\n\n\n# åºæ¬éç½®\n\n * è®¾ç½®ç¨æ·ååé®ç®±ï¼\n\ngit config --global user.name "name"\ngit config --global user.email "email"\n\n\n * æ¥çéç½®ä¿¡æ¯ï¼\n\ngit config --global user.name\ngit config --global user.email\n\n\n * å¸¸ç¨æä»¤éç½®å«åï¼\n\n# 1. åå»ºæä»¶\ntouch ~/.bashrc\n\n\nä¾å¦ï¼\n\n#ç¨äºè¾åºgitæäº¤æ¥å¿\nalias git-log=\'git log --pretty=oneline --all --graph --abbrev-commit\'\n#ç¨äºè¾åºå½åç®å½æææä»¶ååºæ¬ä¿¡æ¯\nalias ll=\'ls -al\'\n\n\n# ä¹±ç é®é¢\n\n 1. æå¼GitBashæ§è¡ä¸é¢å½ä»¤\n\ngit config --global core.quotepath false\n\n\n 2. ${git_home}/etc/bash.bashrcæä»¶æåå å¥ä¸é¢ä¸¤è¡\n\nexport LANG="zh_CN.UTF-8"\nexport LC_ALL="zh_CN.UTF-8"\n\n\n\n# åºç¡æä½æä»¤\n\nGitå·¥ä½ç®å½ä¸å¯¹äºæä»¶çä¿®æ¹(å¢å ãå é¤ãæ´æ°)ä¼å­å¨å ä¸ªç¶æï¼è¿äºä¿®æ¹çç¶æä¼éçæ§è¡Gitçå½ä»¤èåçååã\n\n\n\n\n# è·åæ¬å°ä»åº\n\ngit init\n\n\n\n\n\n\nå¦æåå»ºæååå¯å¨æä»¶å¤¹ä¸çå°éèç.gitç®å½\n\n\n# æ¥çä¿®æ¹çç¶æ(status)\n\næ¥ççä¿®æ¹çç¶æï¼æå­åºãå·¥ä½åºï¼\n\ngit status\n\n\n\n# æ·»å å·¥ä½åºå°æå­åº(add)\n\næ·»å å·¥ä½åºä¸ä¸ªæå¤ä¸ªæä»¶çä¿®æ¹å°æå­åº\n\ngit add åä¸ªæä»¶å|ééç¬¦\n# å°ææä¿®æ¹å å¥æå­åºï¼\ngit add .\n\n\n\n# æäº¤æå­åºå°æ¬å°ä»åº(commit)\n\næäº¤æå­åºåå®¹å°æ¬å°ä»åºçå½ååæ¯\n\ngit commit -m \'æ³¨éåå®¹\'\n\n\n\n# æ¥çæäº¤æ¥å¿(log)\n\næ¥çæäº¤è®°å½\n\ngit log [option]\n# optionsï¼\n# --all æ¾ç¤ºææåæ¯\n# --pretty=oneline å°æäº¤ä¿¡æ¯æ¾ç¤ºä¸ºä¸è¡\n# --abbrev-commit ä½¿å¾è¾åºçcommitIdæ´ç®ç­\n# --graph ä»¥å¾çå½¢å¼æ¾ç¤º\n\n\n\n# çæ¬åé\n\nçæ¬åæ¢ï¼commitID å¯ä»¥ä½¿ç¨git logæä»¤æ¥çã\n\ngit reset --hard commitID\n\n\næ¥çå·²ç»å é¤çè®°å½\n\ngit reflog\n\n\n\n# æ·»å æä»¶è³å¿½ç¥åè¡¨\n\nå¨å·¥ä½ç®å½ä¸­åå»ºä¸ä¸ªåä¸º.gitignoreçæä»¶ï¼æä»¶åç§°åºå®ï¼ï¼ååºè¦å¿½ç¥çæä»¶æ¨¡å¼ã\n\nä¾å¦ï¼\n\n/log/\ntarget/\n!.mvn/wrapper/maven-wrapper.jar\n!**/src/main/**/target/\n!**/src/test/**/target/\n',normalizedContent:' * git guiï¼gitæä¾çå¾å½¢çé¢å·¥å·\n * git bashï¼gitæä¾çå½ä»¤è¡å·¥å·\n\ngitå·¥ä½æµç¨å¾ï¼\n\n\n\nå½ä»¤å¦ä¸ï¼\n\n 1. **clone(åé)ï¼**ä»è¿ç¨ä»åºä¸­åéä»£ç å°æ¬å°ä»åº\n 2. **checkout(æ£åº)ï¼**ä»æ¬å°ä»åºä¸­æ£åºä¸ä¸ªä»åºåæ¯ç¶åè¿è¡ä¿®è®¢\n 3. **add(æ·»å )ï¼**å¨æäº¤ååå°ä»£ç æäº¤å°æå­åº\n 4. **commit(æäº¤)ï¼**æäº¤å°æ¬å°ä»åºãæ¬å°ä»åºä¸­ä¿å­ä¿®æ¹çåä¸ªåå²çæ¬\n 5. **fetch(æå)ï¼**ä»è¿ç¨åºï¼æåå°æ¬å°ä»åºï¼ä¸è¿è¡ä»»ä½çåå¹¶å¨ä½ï¼ä¸è¬æä½æ¯è¾å°ã\n 6. **pull(æå)ï¼**ä»è¿ç¨åºæå°æ¬å°åºï¼èªå¨è¿è¡åå¹¶(merge)ï¼ç¶åæ¾å°å°å·¥ä½åºï¼ç¸å½äºfetch+merge\n 7. **push(æ¨é)ï¼**ä¿®æ¹å®æåï¼éè¦åå¢éæåå±äº«ä»£ç æ¶ï¼å°ä»£ç æ¨éå°è¿ç¨ä»åº\n\n\n# åºæ¬éç½®\n\n * è®¾ç½®ç¨æ·ååé®ç®±ï¼\n\ngit config --global user.name "name"\ngit config --global user.email "email"\n\n\n * æ¥çéç½®ä¿¡æ¯ï¼\n\ngit config --global user.name\ngit config --global user.email\n\n\n * å¸¸ç¨æä»¤éç½®å«åï¼\n\n# 1. åå»ºæä»¶\ntouch ~/.bashrc\n\n\nä¾å¦ï¼\n\n#ç¨äºè¾åºgitæäº¤æ¥å¿\nalias git-log=\'git log --pretty=oneline --all --graph --abbrev-commit\'\n#ç¨äºè¾åºå½åç®å½æææä»¶ååºæ¬ä¿¡æ¯\nalias ll=\'ls -al\'\n\n\n# ä¹±ç é®é¢\n\n 1. æå¼gitbashæ§è¡ä¸é¢å½ä»¤\n\ngit config --global core.quotepath false\n\n\n 2. ${git_home}/etc/bash.bashrcæä»¶æåå å¥ä¸é¢ä¸¤è¡\n\nexport lang="zh_cn.utf-8"\nexport lc_all="zh_cn.utf-8"\n\n\n\n# åºç¡æä½æä»¤\n\ngitå·¥ä½ç®å½ä¸å¯¹äºæä»¶çä¿®æ¹(å¢å ãå é¤ãæ´æ°)ä¼å­å¨å ä¸ªç¶æï¼è¿äºä¿®æ¹çç¶æä¼éçæ§è¡gitçå½ä»¤èåçååã\n\n\n\n\n# è·åæ¬å°ä»åº\n\ngit init\n\n\n\n\n\n\nå¦æåå»ºæååå¯å¨æä»¶å¤¹ä¸çå°éèç.gitç®å½\n\n\n# æ¥çä¿®æ¹çç¶æ(status)\n\næ¥ççä¿®æ¹çç¶æï¼æå­åºãå·¥ä½åºï¼\n\ngit status\n\n\n\n# æ·»å å·¥ä½åºå°æå­åº(add)\n\næ·»å å·¥ä½åºä¸ä¸ªæå¤ä¸ªæä»¶çä¿®æ¹å°æå­åº\n\ngit add åä¸ªæä»¶å|ééç¬¦\n# å°ææä¿®æ¹å å¥æå­åºï¼\ngit add .\n\n\n\n# æäº¤æå­åºå°æ¬å°ä»åº(commit)\n\næäº¤æå­åºåå®¹å°æ¬å°ä»åºçå½ååæ¯\n\ngit commit -m \'æ³¨éåå®¹\'\n\n\n\n# æ¥çæäº¤æ¥å¿(log)\n\næ¥çæäº¤è®°å½\n\ngit log [option]\n# optionsï¼\n# --all æ¾ç¤ºææåæ¯\n# --pretty=oneline å°æäº¤ä¿¡æ¯æ¾ç¤ºä¸ºä¸è¡\n# --abbrev-commit ä½¿å¾è¾åºçcommitidæ´ç®ç­\n# --graph ä»¥å¾çå½¢å¼æ¾ç¤º\n\n\n\n# çæ¬åé\n\nçæ¬åæ¢ï¼commitid å¯ä»¥ä½¿ç¨git logæä»¤æ¥çã\n\ngit reset --hard commitid\n\n\næ¥çå·²ç»å é¤çè®°å½\n\ngit reflog\n\n\n\n# æ·»å æä»¶è³å¿½ç¥åè¡¨\n\nå¨å·¥ä½ç®å½ä¸­åå»ºä¸ä¸ªåä¸º.gitignoreçæä»¶ï¼æä»¶åç§°åºå®ï¼ï¼ååºè¦å¿½ç¥çæä»¶æ¨¡å¼ã\n\nä¾å¦ï¼\n\n/log/\ntarget/\n!.mvn/wrapper/maven-wrapper.jar\n!**/src/main/**/target/\n!**/src/test/**/target/\n',charsets:{cjk:!0},lastUpdated:"2022/11/30, 16:24:57",lastUpdatedTimestamp:1669796697e3},{title:"Gitåæ¯",frontmatter:{title:"Gitåæ¯",date:"2022-12-17T14:36:02.000Z",permalink:"/pages/34mo4hjp",categories:["å·¥å·"],tags:["Git"],author:{name:"ä¹æ¨åç"}},regularPath:"/06.%E5%B7%A5%E5%85%B7/01.Git/02.Git%E5%88%86%E6%94%AF.html",relativePath:"06.å·¥å·/01.Git/02.Gitåæ¯.md",key:"v-1813f0ae",path:"/pages/34mo4hjp/",headers:[{level:2,title:"æ¥çæ¬å°åæ¯",slug:"æ¥çæ¬å°åæ¯",normalizedTitle:"æ¥çæ¬å°åæ¯",charIndex:77},{level:2,title:"åå»ºæ¬å°åæ¯",slug:"åå»ºæ¬å°åæ¯",normalizedTitle:"åå»ºæ¬å°åæ¯",charIndex:101},{level:2,title:"åæ¢åæ¯(checkout)",slug:"åæ¢åæ¯-checkout",normalizedTitle:"åæ¢åæ¯(checkout)",charIndex:129},{level:2,title:"åå¹¶åæ¯(merge)",slug:"åå¹¶åæ¯-merge",normalizedTitle:"åå¹¶åæ¯(merge)",charIndex:201},{level:2,title:"å é¤åæ¯",slug:"å é¤åæ¯",normalizedTitle:"å é¤åæ¯",charIndex:234},{level:2,title:"è§£å³å²çª",slug:"è§£å³å²çª",normalizedTitle:"è§£å³å²çª",charIndex:333},{level:2,title:"å¼åä¸­åæ¯ä½¿ç¨ååä¸æµç¨",slug:"å¼åä¸­åæ¯ä½¿ç¨ååä¸æµç¨",normalizedTitle:"å¼åä¸­åæ¯ä½¿ç¨ååä¸æµç¨",charIndex:462},{level:3,title:"master ï¼çäº§ï¼åæ¯",slug:"master-çäº§-åæ¯",normalizedTitle:"master ï¼çäº§ï¼åæ¯",charIndex:578},{level:3,title:"developï¼å¼åï¼åæ¯",slug:"develop-å¼å-åæ¯",normalizedTitle:"developï¼å¼åï¼åæ¯",charIndex:628},{level:3,title:"feature/xxxxåæ¯",slug:"feature-xxxxåæ¯",normalizedTitle:"feature/xxxxåæ¯",charIndex:736},{level:3,title:"hotfifix/xxxxåæ¯",slug:"hotfifix-xxxxåæ¯",normalizedTitle:"hotfifix/xxxxåæ¯",charIndex:818}],excerpt:"<p>å ä¹ææççæ¬æ§å¶ç³»ç»é½ä»¥æç§å½¢å¼æ¯æåæ¯ã ä½¿ç¨åæ¯æå³çå¯ä»¥æå·¥ä½ä»å¼åä¸»çº¿ä¸åç¦»å¼æ¥è¿è¡éå¤§çBugä¿®æ¹ãå¼åæ°çåè½ï¼ä»¥åå½±åå¼åä¸»çº¿ã</p>\n",headersStr:"æ¥çæ¬å°åæ¯ åå»ºæ¬å°åæ¯ åæ¢åæ¯(checkout) åå¹¶åæ¯(merge) å é¤åæ¯ è§£å³å²çª å¼åä¸­åæ¯ä½¿ç¨ååä¸æµç¨ master ï¼çäº§ï¼åæ¯ developï¼å¼åï¼åæ¯ feature/xxxxåæ¯ hotfifix/xxxxåæ¯",content:"å ä¹ææççæ¬æ§å¶ç³»ç»é½ä»¥æç§å½¢å¼æ¯æåæ¯ã ä½¿ç¨åæ¯æå³çå¯ä»¥æå·¥ä½ä»å¼åä¸»çº¿ä¸åç¦»å¼æ¥è¿è¡éå¤§çBugä¿®æ¹ãå¼åæ°çåè½ï¼ä»¥åå½±åå¼åä¸»çº¿ã\n\n\n# æ¥çæ¬å°åæ¯\n\ngit branch\n\n\n\n# åå»ºæ¬å°åæ¯\n\ngit branch åæ¯å\n\n\n\n# åæ¢åæ¯(checkout)\n\ngit checkout åæ¯å\n\n\nåå»ºå¹¶åæ¢ä¸ä¸ªåæ¯ï¼\n\ngit checkout -b åæ¯å\n\n\n\n# åå¹¶åæ¯(merge)\n\ngit merge åæ¯åç§°\n\n\n\n# å é¤åæ¯\n\nä¸è½å é¤å½ååæ¯ï¼åªè½å é¤å¶ä»åæ¯\n\n# å é¤åæ¯æ¶ï¼éè¦ååç§æ£æ¥\ngit branch -d åæ¯åç§°\n\n# ä¸åä»»ä½æ£æ¥ï¼å¼ºå¶å é¤\ngit branch -D åæ¯åç§°\n\n\n\n# è§£å³å²çª\n\nå½ä¸¤ä¸ªåæ¯ä¸å¯¹æä»¶çä¿®æ¹å¯è½ä¼å­å¨å²çªï¼ä¾å¦åæ¶ä¿®æ¹äºåä¸ä¸ªæä»¶çåä¸è¡ï¼è¿æ¶å°±éè¦æå¨è§£å³å²çªï¼è§£å³å²çªæ­¥éª¤å¦ä¸ï¼\n\n 1. å¤çæä»¶ä¸­å²çªçå°æ¹\n 2. å°è§£å³å®å²çªçæä»¶å å¥æå­åº(add)\n 3. æäº¤å°ä»åº(commit)\n\n\n\n\n# å¼åä¸­åæ¯ä½¿ç¨ååä¸æµç¨\n\nå ä¹ææççæ¬æ§å¶ç³»ç»é½ä»¥æç§å½¢å¼æ¯æåæ¯ã ä½¿ç¨åæ¯æå³çä½ å¯ä»¥æä½ çå·¥ä½ä»å¼åä¸»çº¿ä¸åç¦»å¼æ¥è¿è¡éå¤§çBugä¿®æ¹ãå¼åæ°çåè½ï¼ä»¥åå½±åå¼åä¸»çº¿ã\n\nå¨å¼åä¸­ï¼ä¸è¬æå¦ä¸åæ¯ä½¿ç¨ååä¸æµç¨ï¼\n\n\n# master ï¼çäº§ï¼åæ¯\n\nçº¿ä¸åæ¯ï¼ä¸»åæ¯ï¼ä¸­å°è§æ¨¡é¡¹ç®ä½ä¸ºçº¿ä¸è¿è¡çåºç¨å¯¹åºçåæ¯ï¼\n\n\n# developï¼å¼åï¼åæ¯\n\næ¯ä»masteråå»ºçåæ¯ï¼ä¸è¬ä½ä¸ºå¼åé¨é¨çä¸»è¦å¼ååæ¯ï¼å¦ææ²¡æå¶ä»å¹¶è¡å¼åä¸åæä¸çº¿è¦æ±ï¼é½å¯ä»¥å¨æ­¤çæ¬è¿è¡å¼åï¼é¶æ®µå¼åå®æåï¼éè¦æ¯åå¹¶å°masteråæ¯ï¼åå¤ä¸çº¿ã\n\n\n# feature/xxxxåæ¯\n\nä»developåå»ºçåæ¯ï¼ä¸è¬æ¯åæå¹¶è¡å¼åï¼ä½ä¸åæä¸çº¿æ¶åå»ºçåæ¯ï¼åæ¯ä¸çç åä»»å¡å®æååå¹¶å°developåæ¯ã\n\n\n# hotfifix/xxxxåæ¯\n\nä»masteræ´¾ççåæ¯ï¼ä¸è¬ä½ä¸ºçº¿ä¸bugä¿®å¤ä½¿ç¨ï¼ä¿®å¤å®æåéè¦åå¹¶å°masterãtestãdevelopåæ¯ã\n\nè¿æä¸äºå¶ä»åæ¯ï¼å¨æ­¤ä¸åè¯¦è¿°ï¼ä¾å¦teståæ¯ï¼ç¨äºä»£ç æµè¯ï¼ãpreåæ¯ï¼é¢ä¸çº¿åæ¯ï¼ç­ç­ã\n\n",normalizedContent:"å ä¹ææççæ¬æ§å¶ç³»ç»é½ä»¥æç§å½¢å¼æ¯æåæ¯ã ä½¿ç¨åæ¯æå³çå¯ä»¥æå·¥ä½ä»å¼åä¸»çº¿ä¸åç¦»å¼æ¥è¿è¡éå¤§çbugä¿®æ¹ãå¼åæ°çåè½ï¼ä»¥åå½±åå¼åä¸»çº¿ã\n\n\n# æ¥çæ¬å°åæ¯\n\ngit branch\n\n\n\n# åå»ºæ¬å°åæ¯\n\ngit branch åæ¯å\n\n\n\n# åæ¢åæ¯(checkout)\n\ngit checkout åæ¯å\n\n\nåå»ºå¹¶åæ¢ä¸ä¸ªåæ¯ï¼\n\ngit checkout -b åæ¯å\n\n\n\n# åå¹¶åæ¯(merge)\n\ngit merge åæ¯åç§°\n\n\n\n# å é¤åæ¯\n\nä¸è½å é¤å½ååæ¯ï¼åªè½å é¤å¶ä»åæ¯\n\n# å é¤åæ¯æ¶ï¼éè¦ååç§æ£æ¥\ngit branch -d åæ¯åç§°\n\n# ä¸åä»»ä½æ£æ¥ï¼å¼ºå¶å é¤\ngit branch -d åæ¯åç§°\n\n\n\n# è§£å³å²çª\n\nå½ä¸¤ä¸ªåæ¯ä¸å¯¹æä»¶çä¿®æ¹å¯è½ä¼å­å¨å²çªï¼ä¾å¦åæ¶ä¿®æ¹äºåä¸ä¸ªæä»¶çåä¸è¡ï¼è¿æ¶å°±éè¦æå¨è§£å³å²çªï¼è§£å³å²çªæ­¥éª¤å¦ä¸ï¼\n\n 1. å¤çæä»¶ä¸­å²çªçå°æ¹\n 2. å°è§£å³å®å²çªçæä»¶å å¥æå­åº(add)\n 3. æäº¤å°ä»åº(commit)\n\n\n\n\n# å¼åä¸­åæ¯ä½¿ç¨ååä¸æµç¨\n\nå ä¹ææççæ¬æ§å¶ç³»ç»é½ä»¥æç§å½¢å¼æ¯æåæ¯ã ä½¿ç¨åæ¯æå³çä½ å¯ä»¥æä½ çå·¥ä½ä»å¼åä¸»çº¿ä¸åç¦»å¼æ¥è¿è¡éå¤§çbugä¿®æ¹ãå¼åæ°çåè½ï¼ä»¥åå½±åå¼åä¸»çº¿ã\n\nå¨å¼åä¸­ï¼ä¸è¬æå¦ä¸åæ¯ä½¿ç¨ååä¸æµç¨ï¼\n\n\n# master ï¼çäº§ï¼åæ¯\n\nçº¿ä¸åæ¯ï¼ä¸»åæ¯ï¼ä¸­å°è§æ¨¡é¡¹ç®ä½ä¸ºçº¿ä¸è¿è¡çåºç¨å¯¹åºçåæ¯ï¼\n\n\n# developï¼å¼åï¼åæ¯\n\næ¯ä»masteråå»ºçåæ¯ï¼ä¸è¬ä½ä¸ºå¼åé¨é¨çä¸»è¦å¼ååæ¯ï¼å¦ææ²¡æå¶ä»å¹¶è¡å¼åä¸åæä¸çº¿è¦æ±ï¼é½å¯ä»¥å¨æ­¤çæ¬è¿è¡å¼åï¼é¶æ®µå¼åå®æåï¼éè¦æ¯åå¹¶å°masteråæ¯ï¼åå¤ä¸çº¿ã\n\n\n# feature/xxxxåæ¯\n\nä»developåå»ºçåæ¯ï¼ä¸è¬æ¯åæå¹¶è¡å¼åï¼ä½ä¸åæä¸çº¿æ¶åå»ºçåæ¯ï¼åæ¯ä¸çç åä»»å¡å®æååå¹¶å°developåæ¯ã\n\n\n# hotfifix/xxxxåæ¯\n\nä»masteræ´¾ççåæ¯ï¼ä¸è¬ä½ä¸ºçº¿ä¸bugä¿®å¤ä½¿ç¨ï¼ä¿®å¤å®æåéè¦åå¹¶å°masterãtestãdevelopåæ¯ã\n\nè¿æä¸äºå¶ä»åæ¯ï¼å¨æ­¤ä¸åè¯¦è¿°ï¼ä¾å¦teståæ¯ï¼ç¨äºä»£ç æµè¯ï¼ãpreåæ¯ï¼é¢ä¸çº¿åæ¯ï¼ç­ç­ã\n\n",charsets:{cjk:!0},lastUpdated:"2022/11/30, 16:24:57",lastUpdatedTimestamp:1669796697e3},{title:"Gitè¿ç¨ä»åº",frontmatter:{title:"Gitè¿ç¨ä»åº",date:"2022-12-18T13:05:49.000Z",permalink:"/pages/1cpd2f32/",categories:["å·¥å·"],tags:["Git"],author:{name:"ä¹æ¨åç"}},regularPath:"/06.%E5%B7%A5%E5%85%B7/01.Git/03.Git%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93.html",relativePath:"06.å·¥å·/01.Git/03.Gitè¿ç¨ä»åº.md",key:"v-2d4c79d3",path:"/pages/1cpd2f32/",headers:[{level:2,title:"éç½®SSHå¬é¥",slug:"éç½®sshå¬é¥",normalizedTitle:"éç½®sshå¬é¥",charIndex:276},{level:3,title:"çæSSHå¬é¥",slug:"çæsshå¬é¥",normalizedTitle:"çæsshå¬é¥",charIndex:288},{level:3,title:"è·åå¬é¥",slug:"è·åå¬é¥",normalizedTitle:"è·åå¬é¥",charIndex:341},{level:3,title:"éªè¯æ¯å¦éç½®æå",slug:"éªè¯æ¯å¦éç½®æå",normalizedTitle:"éªè¯æ¯å¦éç½®æå",charIndex:374},{level:2,title:"æä½è¿ç¨ä»åº",slug:"æä½è¿ç¨ä»åº",normalizedTitle:"æä½è¿ç¨ä»åº",charIndex:410},{level:3,title:"æ·»å è¿ç¨ä»åº",slug:"æ·»å è¿ç¨ä»åº",normalizedTitle:"æ·»å è¿ç¨ä»åº",charIndex:421},{level:3,title:"æ¥çè¿ç¨ä»åº",slug:"æ¥çè¿ç¨ä»åº",normalizedTitle:"æ¥çè¿ç¨ä»åº",charIndex:611},{level:3,title:"æ¨éå°è¿ç¨ä»åº",slug:"æ¨éå°è¿ç¨ä»åº",normalizedTitle:"æ¨éå°è¿ç¨ä»åº",charIndex:635},{level:3,title:"æ¬å°åæ¯ä¸è¿ç¨åæ¯çå³èå³ç³»",slug:"æ¬å°åæ¯ä¸è¿ç¨åæ¯çå³èå³ç³»",normalizedTitle:"æ¬å°åæ¯ä¸è¿ç¨åæ¯çå³èå³ç³»",charIndex:921},{level:3,title:"ä»è¿ç¨ä»åºåé",slug:"ä»è¿ç¨ä»åºåé",normalizedTitle:"ä»è¿ç¨ä»åºåé",charIndex:958},{level:3,title:"ä»è¿ç¨ä»åºä¸­æååæå",slug:"ä»è¿ç¨ä»åºä¸­æååæå",normalizedTitle:"ä»è¿ç¨ä»åºä¸­æååæå",charIndex:1044},{level:4,title:"æå",slug:"æå",normalizedTitle:"æå",charIndex:1050},{level:4,title:"æå",slug:"æå",normalizedTitle:"æå",charIndex:1053},{level:3,title:"è§£å³åå¹¶å²çª",slug:"è§£å³åå¹¶å²çª",normalizedTitle:"è§£å³åå¹¶å²çª",charIndex:1326}],excerpt:"<p>gitHubï¼ å°åï¼https://github.com/ ï¼æ¯ä¸ä¸ªé¢åå¼æºåç§æè½¯ä»¶é¡¹ç®çæç®¡å¹³å°ï¼å ä¸ºåªæ¯æ Git ä½ä¸ºå¯ä¸ççæ¬åºæ ¼å¼è¿è¡æç®¡ï¼æågitHubã</p>\n<p>ç äºï¼å°åï¼ https://gitee.com/ ï¼æ¯å½åçä¸ä¸ªä»£ç æç®¡å¹³å°ï¼ç±äºæå¡å¨å¨å½åï¼æä»¥ç¸æ¯äº GitHubï¼ç äºéåº¦ä¼æ´å¿«ã</p>\n<p>GitLab ï¼å°åï¼ https://about.gitlab.com/ ï¼æ¯ä¸ä¸ªç¨äºä»åºç®¡çç³»ç»çå¼æºé¡¹ç®ï¼ä½¿ç¨Gitä½ ä¸ºä»£ç ç®¡çå·¥å·ï¼å¹¶å¨æ­¤åºç¡ä¸æ­å»ºèµ·æ¥çwebæå¡,ä¸è¬ç¨äºå¨ä¼ä¸ãå­¦æ ¡ç­åé¨ç½ç»æ­å»ºgitç§æã</p>\n",headersStr:"éç½®SSHå¬é¥ çæSSHå¬é¥ è·åå¬é¥ éªè¯æ¯å¦éç½®æå æä½è¿ç¨ä»åº æ·»å è¿ç¨ä»åº æ¥çè¿ç¨ä»åº æ¨éå°è¿ç¨ä»åº æ¬å°åæ¯ä¸è¿ç¨åæ¯çå³èå³ç³» ä»è¿ç¨ä»åºåé ä»è¿ç¨ä»åºä¸­æååæå æå æå è§£å³åå¹¶å²çª",content:"gitHubï¼ å°åï¼https://github.com/ ï¼æ¯ä¸ä¸ªé¢åå¼æºåç§æè½¯ä»¶é¡¹ç®çæç®¡å¹³å°ï¼å ä¸ºåªæ¯æ Git ä½ä¸ºå¯ä¸ççæ¬åºæ ¼å¼è¿è¡æç®¡ï¼æågitHubã\n\nç äºï¼å°åï¼ https://gitee.com/ ï¼æ¯å½åçä¸ä¸ªä»£ç æç®¡å¹³å°ï¼ç±äºæå¡å¨å¨å½åï¼æä»¥ç¸æ¯äº GitHubï¼ç äºéåº¦ä¼æ´å¿«ã\n\nGitLab ï¼å°åï¼ https://about.gitlab.com/ ï¼æ¯ä¸ä¸ªç¨äºä»åºç®¡çç³»ç»çå¼æºé¡¹ç®ï¼ä½¿ç¨Gitä½ ä¸ºä»£ç ç®¡çå·¥å·ï¼å¹¶å¨æ­¤åºç¡ä¸æ­å»ºèµ·æ¥çwebæå¡,ä¸è¬ç¨äºå¨ä¼ä¸ãå­¦æ ¡ç­åé¨ç½ç»æ­å»ºgitç§æã\n\n\n# éç½®SSHå¬é¥\n\n\n# çæSSHå¬é¥\n\nssh-keygen -t rsa\n\n\nä¸æ­åè½¦ï¼å¦æå¬é¥å·²ç»å­å¨ï¼åèªå¨è¦ç\n\n\n# è·åå¬é¥\n\ncat ~/.ssh/id_rsa.pub\n\n\n\n# éªè¯æ¯å¦éç½®æå\n\nssh -T git@gitee.com\n\n\n\n# æä½è¿ç¨ä»åº\n\n\n# æ·»å è¿ç¨ä»åº\n\næ­¤æä½æ¯ååå§åæ¬å°åºï¼ç¶åä¸å·²åå»ºçè¿ç¨åºè¿è¡å¯¹æ¥ã\n\ngit remote add <è¿ç«¯åç§°> <ä»åºè·¯å¾>\n# è¿ç«¯åç§°ï¼é»è®¤æ¯originï¼åå³äºè¿ç«¯æå¡å¨è®¾ç½®\n# ä»åºè·¯å¾ï¼ä»è¿ç«¯æå¡å¨è·åæ­¤URL\n# ä¾å¦: git remote add origin git@gitee.com:czbk_zhang_meng/git_test.git\n\n\n\n# æ¥çè¿ç¨ä»åº\n\ngit remote\n\n\n\n# æ¨éå°è¿ç¨ä»åº\n\ngit push [-f] [--set-upstream] [è¿ç«¯åç§° [æ¬å°åæ¯å][:è¿ç«¯åæ¯å] ]\n\n# å¦æè¿ç¨åæ¯ååæ¬å°åæ¯åç§°ç¸åï¼åå¯ä»¥åªåæ¬å°åæ¯\n# git push origin master\n\n# -f è¡¨ç¤ºå¼ºå¶è¦ç\n\n# --set-upstream æ¨éå°è¿ç«¯çåæ¶å¹¶ä¸å»ºç«èµ·åè¿ç«¯åæ¯çå³èå³ç³»ã\n# git push --set-upstream origin master\n\n# å¦æå½ååæ¯å·²ç»åè¿ç«¯åæ¯å³èï¼åå¯ä»¥çç¥åæ¯ååè¿ç«¯åã\n# git push å°masteråæ¯æ¨éå°å·²å³èçè¿ç«¯åæ¯ã\n\n\n\n# æ¬å°åæ¯ä¸è¿ç¨åæ¯çå³èå³ç³»\n\n git branch -vv\n\n\n\n# ä»è¿ç¨ä»åºåé\n\nå¦æå·²ç»æä¸ä¸ªè¿ç«¯ä»åºï¼å¯ä»¥ç´æ¥cloneå°æ¬å°ã\n\ngit clone <ä»åºè·¯å¾> [æ¬å°ç®å½]\n# æ¬å°ç®å½å¯ä»¥çç¥ï¼ä¼èªå¨çæä¸ä¸ªç®å½\n\n\n\n# ä»è¿ç¨ä»åºä¸­æååæå\n\nè¿ç¨åæ¯åæ¬å°çåæ¯ä¸æ ·ï¼å¯ä»¥è¿è¡mergeæä½ï¼åªæ¯éè¦åæè¿ç«¯ä»åºéçæ´æ°é½ä¸è½½å°æ¬å°ï¼åè¿è¡æä½ã\n\n# æå\n\næåæä»¤å°±æ¯å°ä»åºéçæ´æ°é½æåå°æ¬å°ï¼ä¸ä¼è¿è¡åå¹¶ï¼å¦æä¸æå®è¿ç«¯åç§°ååæ¯åï¼åæåææåæ¯ã\n\ngit fetch [remote name] [branch name]\n\n\n# æå\n\næåæä»¤å°±æ¯å°è¿ç«¯ä»åºçä¿®æ¹æå°æ¬å°å¹¶èªå¨è¿è¡åå¹¶ï¼ç­åäºfetch+mergeï¼å¦æä¸æå®è¿ç«¯åç§°ååæ¯åï¼åæåææå¹¶æ´æ°å½ååæ¯ã\n\ngit pull [remote name] [branch name]\n\n\n\n# è§£å³åå¹¶å²çª\n\nè¿ç¨åæ¯ä¹æ¯åæ¯ï¼æä»¥åå¹¶æ¶å²çªçè§£å³æ¹å¼ä¹åè§£å³æ¬å°åæ¯å²çªç¸åç¸åã",normalizedContent:"githubï¼ å°åï¼https://github.com/ ï¼æ¯ä¸ä¸ªé¢åå¼æºåç§æè½¯ä»¶é¡¹ç®çæç®¡å¹³å°ï¼å ä¸ºåªæ¯æ git ä½ä¸ºå¯ä¸ççæ¬åºæ ¼å¼è¿è¡æç®¡ï¼æågithubã\n\nç äºï¼å°åï¼ https://gitee.com/ ï¼æ¯å½åçä¸ä¸ªä»£ç æç®¡å¹³å°ï¼ç±äºæå¡å¨å¨å½åï¼æä»¥ç¸æ¯äº githubï¼ç äºéåº¦ä¼æ´å¿«ã\n\ngitlab ï¼å°åï¼ https://about.gitlab.com/ ï¼æ¯ä¸ä¸ªç¨äºä»åºç®¡çç³»ç»çå¼æºé¡¹ç®ï¼ä½¿ç¨gitä½ ä¸ºä»£ç ç®¡çå·¥å·ï¼å¹¶å¨æ­¤åºç¡ä¸æ­å»ºèµ·æ¥çwebæå¡,ä¸è¬ç¨äºå¨ä¼ä¸ãå­¦æ ¡ç­åé¨ç½ç»æ­å»ºgitç§æã\n\n\n# éç½®sshå¬é¥\n\n\n# çæsshå¬é¥\n\nssh-keygen -t rsa\n\n\nä¸æ­åè½¦ï¼å¦æå¬é¥å·²ç»å­å¨ï¼åèªå¨è¦ç\n\n\n# è·åå¬é¥\n\ncat ~/.ssh/id_rsa.pub\n\n\n\n# éªè¯æ¯å¦éç½®æå\n\nssh -t git@gitee.com\n\n\n\n# æä½è¿ç¨ä»åº\n\n\n# æ·»å è¿ç¨ä»åº\n\næ­¤æä½æ¯ååå§åæ¬å°åºï¼ç¶åä¸å·²åå»ºçè¿ç¨åºè¿è¡å¯¹æ¥ã\n\ngit remote add <è¿ç«¯åç§°> <ä»åºè·¯å¾>\n# è¿ç«¯åç§°ï¼é»è®¤æ¯originï¼åå³äºè¿ç«¯æå¡å¨è®¾ç½®\n# ä»åºè·¯å¾ï¼ä»è¿ç«¯æå¡å¨è·åæ­¤url\n# ä¾å¦: git remote add origin git@gitee.com:czbk_zhang_meng/git_test.git\n\n\n\n# æ¥çè¿ç¨ä»åº\n\ngit remote\n\n\n\n# æ¨éå°è¿ç¨ä»åº\n\ngit push [-f] [--set-upstream] [è¿ç«¯åç§° [æ¬å°åæ¯å][:è¿ç«¯åæ¯å] ]\n\n# å¦æè¿ç¨åæ¯ååæ¬å°åæ¯åç§°ç¸åï¼åå¯ä»¥åªåæ¬å°åæ¯\n# git push origin master\n\n# -f è¡¨ç¤ºå¼ºå¶è¦ç\n\n# --set-upstream æ¨éå°è¿ç«¯çåæ¶å¹¶ä¸å»ºç«èµ·åè¿ç«¯åæ¯çå³èå³ç³»ã\n# git push --set-upstream origin master\n\n# å¦æå½ååæ¯å·²ç»åè¿ç«¯åæ¯å³èï¼åå¯ä»¥çç¥åæ¯ååè¿ç«¯åã\n# git push å°masteråæ¯æ¨éå°å·²å³èçè¿ç«¯åæ¯ã\n\n\n\n# æ¬å°åæ¯ä¸è¿ç¨åæ¯çå³èå³ç³»\n\n git branch -vv\n\n\n\n# ä»è¿ç¨ä»åºåé\n\nå¦æå·²ç»æä¸ä¸ªè¿ç«¯ä»åºï¼å¯ä»¥ç´æ¥cloneå°æ¬å°ã\n\ngit clone <ä»åºè·¯å¾> [æ¬å°ç®å½]\n# æ¬å°ç®å½å¯ä»¥çç¥ï¼ä¼èªå¨çæä¸ä¸ªç®å½\n\n\n\n# ä»è¿ç¨ä»åºä¸­æååæå\n\nè¿ç¨åæ¯åæ¬å°çåæ¯ä¸æ ·ï¼å¯ä»¥è¿è¡mergeæä½ï¼åªæ¯éè¦åæè¿ç«¯ä»åºéçæ´æ°é½ä¸è½½å°æ¬å°ï¼åè¿è¡æä½ã\n\n# æå\n\næåæä»¤å°±æ¯å°ä»åºéçæ´æ°é½æåå°æ¬å°ï¼ä¸ä¼è¿è¡åå¹¶ï¼å¦æä¸æå®è¿ç«¯åç§°ååæ¯åï¼åæåææåæ¯ã\n\ngit fetch [remote name] [branch name]\n\n\n# æå\n\næåæä»¤å°±æ¯å°è¿ç«¯ä»åºçä¿®æ¹æå°æ¬å°å¹¶èªå¨è¿è¡åå¹¶ï¼ç­åäºfetch+mergeï¼å¦æä¸æå®è¿ç«¯åç§°ååæ¯åï¼åæåææå¹¶æ´æ°å½ååæ¯ã\n\ngit pull [remote name] [branch name]\n\n\n\n# è§£å³åå¹¶å²çª\n\nè¿ç¨åæ¯ä¹æ¯åæ¯ï¼æä»¥åå¹¶æ¶å²çªçè§£å³æ¹å¼ä¹åè§£å³æ¬å°åæ¯å²çªç¸åç¸åã",charsets:{cjk:!0},lastUpdated:"2022/11/30, 16:24:57",lastUpdatedTimestamp:1669796697e3},{title:"MacOSå®è£Git",frontmatter:{title:"MacOSå®è£Git",date:"2022-12-19T11:44:19.000Z",permalink:"/pages/lp31htbk",categories:["å·¥å·"],tags:["Git","MacOS"],author:{name:"ä¹æ¨åç"}},regularPath:"/06.%E5%B7%A5%E5%85%B7/01.Git/04.MacOS%E5%AE%89%E8%A3%85Git.html",relativePath:"06.å·¥å·/01.Git/04.MacOSå®è£Git.md",key:"v-f3d5199e",path:"/pages/lp31htbk/",headersStr:null,content:"é¦åæ¥ççµèæ¯å¦å®è£Gitï¼ç»ç«¯è¾å¥ï¼\n\ngit\n\n\nå¦ææ²¡æGitçè¯ï¼ä¼æ¾ç¤ºæ¯å¦éè¦å®è£ï¼ç¶åç¹å»å®è£ï¼\n\n\n\nè¿éç¹åæï¼\n\n\n\nç­æ¢æ¢ä¸è½½ï¼\n\n\n\nç­å¾å®è£æåï¼å½ä»¤è¡çªå£è¾å¥git -v æ¥ççæ¬å·\n\n",normalizedContent:"é¦åæ¥ççµèæ¯å¦å®è£gitï¼ç»ç«¯è¾å¥ï¼\n\ngit\n\n\nå¦ææ²¡ægitçè¯ï¼ä¼æ¾ç¤ºæ¯å¦éè¦å®è£ï¼ç¶åç¹å»å®è£ï¼\n\n\n\nè¿éç¹åæï¼\n\n\n\nç­æ¢æ¢ä¸è½½ï¼\n\n\n\nç­å¾å®è£æåï¼å½ä»¤è¡çªå£è¾å¥git -v æ¥ççæ¬å·\n\n",charsets:{cjk:!0},lastUpdated:"2022/11/30, 16:24:57",lastUpdatedTimestamp:1669796697e3},{title:"å½æ¡£",frontmatter:{archivesPage:!0,title:"å½æ¡£",permalink:"/archives/",article:!1},regularPath:"/@pages/archivesPage.html",relativePath:"@pages/archivesPage.md",key:"v-452796f4",path:"/archives/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/11/25, 18:48:06",lastUpdatedTimestamp:1669373286e3},{title:"åç±»",frontmatter:{categoriesPage:!0,title:"åç±»",permalink:"/categories/",article:!1},regularPath:"/@pages/categoriesPage.html",relativePath:"@pages/categoriesPage.md",key:"v-cfdc7134",path:"/categories/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/11/25, 18:48:06",lastUpdatedTimestamp:1669373286e3},{title:"æ ç­¾",frontmatter:{tagsPage:!0,title:"æ ç­¾",permalink:"/tags/",article:!1},regularPath:"/@pages/tagsPage.html",relativePath:"@pages/tagsPage.md",key:"v-8d31a9f4",path:"/tags/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/11/25, 18:48:06",lastUpdatedTimestamp:1669373286e3},{title:"Home",frontmatter:{home:!0,heroImage:"/img/logo.png",heroText:"ä¹æ¨åç",tagline:"ðJavaåç«¯ææ¯åå®¢ï¼ç§¯è·¬æ­¥ä»¥è³åéï¼è´æ¬æ¯ä¸ªç±å­¦ä¹ çä½ ã",actionText:"ç°å¨éè¯» â",actionLink:"/categories/",bannerBg:"none",features:[{title:"Java",details:"JavaSEãJavaWebãJavaæ°ç¹æ§ç­Javaææ¯"},{title:"Springçæ",details:"SpringãSpringBootãSpringCloudç­Springçæ"},{title:"ææ¯",details:"ææ¯ææ¡£ãæç¨ãæå·§ãæ»ç»ç­æç« "}]},regularPath:"/",relativePath:"index.md",key:"v-25f34b1c",path:"/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/11/25, 18:48:06",lastUpdatedTimestamp:1669373286e3}],themeConfig:{nav:[{text:"é¦é¡µ",link:"/"},{text:"Java",items:[{text:"JavaSE",link:"/pages/kas755c4/"}]},{text:"Javaæ¡æ¶",items:[{text:"SpringCloud",link:"/pages/24j4ehty/"}]},{text:"æ°æ®åº",items:[{text:"NoSQL",items:[{text:"Redis",link:"/pages/bp3ikv4g/"}]}]},{text:"ä¸­é´ä»¶",items:[{text:"æ¶æ¯ä¸­é´ä»¶",items:[{text:"RabbitMQ",link:"/pages/vd45cpcf/"}]}]},{text:"è¿ç»´",items:[{text:"Linux",link:"/pages/e938xib2/"}]},{text:"å·¥å·",items:[{text:"Git",link:"/pages/eb9ks77i/"}]},{text:"ç´¢å¼",link:"/archives/",items:[{text:"åç±»",link:"/categories/"},{text:"æ ç­¾",link:"/tags/"},{text:"å½æ¡£",link:"/archives/"}]}],sidebarDepth:2,logo:"/img/logo.png",repo:"qaomuu",searchMaxSuggestions:10,lastUpdated:"ä¸æ¬¡æ´æ°",sidebar:{"/01.Java/":[{title:"JavaSE",collapsable:!0,children:[["01.JavaSE/01.Javaæ¦è¿°&ç¯å¢æ­å»º.md","Javaæ¦è¿°","/pages/kas755c4/"]]}],catalogue:{},"/02.Javaæ¡æ¶/":[{title:"SpringCloud",collapsable:!0,children:[["01.SpringCloud/01.SpringCloud Eureka.md","SpringCloud Eureka","/pages/24j4ehty/"],["01.SpringCloud/02.SpringCloud Zookeeper.md","SpringCloud Zookeeper","/pages/09kei4a8/"],["01.SpringCloud/03.SpringCloud Consul.md","SpringCloud Consul","/pages/yuu0dk4i/"]]}],"/03.æ°æ®åº/":[{title:"Redis",collapsable:!0,children:[["02.Redis/01.Redisæ¦è¿°&å®è£.md","Redisæ¦è¿°&å®è£","/pages/bp3ikv4g"],["02.Redis/02.Rediså¸¸ç¨å½ä»¤&æ°æ®ç±»å.md","Rediså¸¸ç¨å½ä»¤&æ°æ®ç±»å","/pages/0oaka83c"],["02.Redis/03.Rediséç½®æä»¶.md","Rediséç½®æä»¶","/pages/57aemd8k"],["02.Redis/04.Redisåå¸åè®¢é.md","Redisåå¸åè®¢é","/pages/3a16c7g6"],["02.Redis/05.Redisæ°æ°æ®ç±»å.md","Redisæ°æ°æ®ç±»å","/pages/wuy0993s/"],["02.Redis/06.Redis Javaå®¢æ·ç«¯Jedis.md","Redis Javaå®¢æ·ç«¯Jedis","/pages/a7v81744"],["02.Redis/07.SpringBootæ´åRedis.md","SpringBootæ´åRedis","/pages/jsf92i5m"]]}],"/04.ä¸­é´ä»¶/":[{title:"æ¶æ¯ä¸­é´ä»¶",collapsable:!0,children:[["01.æ¶æ¯ä¸­é´ä»¶/01.MQçç¸å³æ¦å¿µ.md","MQçç¸å³æ¦å¿µ","/pages/sm8jwpla"],{title:"RabbitMQ",collapsable:!0,children:[["01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/01.RabbitMQä»ç».md","RabbitMQä»ç»","/pages/vd45cpcf/"],["01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/02.RabbitMQå®è£&å¸¸ç¨å½ä»¤.md","RabbitMQå®è£&å¸¸ç¨å½ä»¤","/pages/kr5yv2xa/"],["01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/03.RabbitMQå¥é¨ç¨åº.md","RabbitMQå¥é¨ç¨åº","/pages/hs9by9nl/"],["01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/04.RabbitMQå·¥ä½éå.md","RabbitMQå·¥ä½éå","/pages/b2xtwkg7"],["01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/05.RabbitMQåå¸ç¡®è®¤.md","RabbitMQåå¸ç¡®è®¤","/pages/hf5rpdk0"],["01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/06.RabbitMQäº¤æ¢æº.md","RabbitMQäº¤æ¢æº","/pages/umb37yap"],["01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/07.RabbitMQæ­»ä¿¡éå.md","RabbitMQæ­»ä¿¡éå","/pages/l98puwie"],["01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/08.SpringBootæ´åRabbitMQ.md","SpringBootæ´åRabbitMQ","/pages/0dmo0ykv/"],["01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/09.RabbitMQå»¶æ¶éå.md","RabbitMQå»¶æ¶éå","/pages/8s5gukww"],["01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/10.RabbitMQåå¸ç¡®è®¤é«çº§.md","RabbitMQåå¸ç¡®è®¤é«çº§","/pages/mcht59cm"],["01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/11.RabbitMQå¶ä»ç¥è¯ç¹.md","RabbitMQå¶ä»ç¥è¯ç¹","/pages/5ctcr5a6/"],["01.æ¶æ¯ä¸­é´ä»¶/1001.RabbitMQ/12.RabbitMQéç¾¤.md","RabbitMQéç¾¤","/pages/1kma3r88/"]]}]}],"/05.è¿ç»´/":[{title:"Linux",collapsable:!0,children:[["01.Linux/01.Linuxèææºå®è£åè®¾ç½®ContOS7.6.md","Linuxèææºå®è£åè®¾ç½®ContOS7.6","/pages/e938xib2/"],["01.Linux/02.LinuxèææºVMwareToolså®è£+ä½¿ç¨è¯¦è§£.md","LinuxèææºVMwareToolså®è£+ä½¿ç¨è¯¦è§£","/pages/45rn88gi/"]]}],"/06.å·¥å·/":[{title:"Git",collapsable:!0,children:[["01.Git/01.Gitåºç¡å½ä»¤.md","Gitåºç¡å½ä»¤","/pages/eb9ks77i"],["01.Git/02.Gitåæ¯.md","Gitåæ¯","/pages/34mo4hjp"],["01.Git/03.Gitè¿ç¨ä»åº.md","Gitè¿ç¨ä»åº","/pages/1cpd2f32/"],["01.Git/04.MacOSå®è£Git.md","MacOSå®è£Git","/pages/lp31htbk"]]}]},pageStyle:"card",author:{name:"ä¹æ¨åç"},footer:{createYear:2022,copyrightInfo:'| <a href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank">æµICPå¤2022027766å·-1</a><br><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33011002016801" target="_blank">æµå¬ç½å®å¤ 33011002016801å·</a>'},extendFrontmatter:{author:{name:"ä¹æ¨åç"}}}};var cl=t(88),ul=t.n(cl),dl=t(95),pl=t(96),ml=t(11);var hl={computed:{$filterPosts(){return this.$site.pages.filter(n=>{const{frontmatter:{pageComponent:e,article:t,home:a}}=n;return!(e||!1===t||!0===a)})},$sortPosts(){return(n=this.$filterPosts).sort((n,e)=>{const t=n.frontmatter.sticky,a=e.frontmatter.sticky;return t&&a?t==a?Object(ml.a)(n,e):t-a:t&&!a?-1:!t&&a?1:Object(ml.a)(n,e)}),n;var n},$sortPostsByDate(){return(n=this.$filterPosts).sort((n,e)=>Object(ml.a)(n,e)),n;var n},$groupPosts(){return function(n){const e={},t={};for(let a=0,i=n.length;a<i;a++){const{frontmatter:{categories:i,tags:r}}=n[a];"array"===Object(ml.n)(i)&&i.forEach(t=>{t&&(e[t]||(e[t]=[]),e[t].push(n[a]))}),"array"===Object(ml.n)(r)&&r.forEach(e=>{e&&(t[e]||(t[e]=[]),t[e].push(n[a]))})}return{categories:e,tags:t}}(this.$sortPosts)},$categoriesAndTags(){return function(n){const e=[],t=[];for(let t in n.categories)e.push({key:t,length:n.categories[t].length});for(let e in n.tags)t.push({key:e,length:n.tags[e].length});return{categories:e,tags:t}}(this.$groupPosts)}}};Gt.component(dl.default),Gt.component(pl.default);function gl(n){return n.toString().padStart(2,"0")}t(242);Gt.component("Badge",()=>Promise.all([t.e(0),t.e(3)]).then(t.bind(null,362))),Gt.component("CodeGroup",()=>Promise.resolve().then(t.bind(null,96))),Gt.component("CodeBlock",()=>Promise.resolve().then(t.bind(null,95)));t(243);var fl=[ul.a,({Vue:n,options:e,router:t,siteData:a})=>{a.pages.map(n=>{const{frontmatter:{date:e,author:t}}=n;"string"==typeof e&&"Z"===e.charAt(e.length-1)&&(n.frontmatter.date=function(n){n instanceof Date||(n=new Date(n));return`${n.getUTCFullYear()}-${gl(n.getUTCMonth()+1)}-${gl(n.getUTCDate())} ${gl(n.getUTCHours())}:${gl(n.getUTCMinutes())}:${gl(n.getUTCSeconds())}`}(e)),t?n.author=t:a.themeConfig.author&&(n.author=a.themeConfig.author)}),n.mixin(hl)},{},({Vue:n})=>{n.mixin({computed:{$dataBlock(){return this.$options.__data__block__}}})},{},{},()=>{"undefined"!=typeof window&&function(n,e,t){function a(n){var t=e.createElement("div");t.className="heart",i.push({el:t,x:n.clientX-5,y:n.clientY-5,scale:1,alpha:1,color:"#11a8cd"}),e.body.appendChild(t)}var i=[];n.requestAnimationFrame=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(n){setTimeout(n,1e3/60)},function(n){var t=e.createElement("style");t.type="text/css";try{t.appendChild(e.createTextNode(n))}catch(e){t.styleSheet.cssText=n}e.getElementsByTagName("head")[0].appendChild(t)}(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"),function(){var e="function"==typeof n.onclick&&n.onclick;n.onclick=function(n){let t=!0;n.path&&n.path.forEach(n=>{1===n.nodeType&&"string"==typeof n.className&&n.className.indexOf("theme-vdoing-content")>-1&&(t=!1)}),t&&(e&&e(),a(n))}}(),function n(){for(var t=0;t<i.length;t++)i[t].alpha<=0?(e.body.removeChild(i[t].el),i.splice(t,1)):(i[t].y--,i[t].scale+=.004,i[t].alpha-=.013,i[t].el.style.cssText="left:"+i[t].x+"px;top:"+i[t].y+"px;opacity:"+i[t].alpha+";transform:scale("+i[t].scale+","+i[t].scale+") rotate(45deg);background:"+i[t].color+";z-index:99999");requestAnimationFrame(n)}()}(window,document)},({router:n})=>{"undefined"!=typeof window&&(window._hmt=window._hmt||[],function(){var n=document.createElement("script");n.src="https://hm.baidu.com/hm.js?72351396489bd466647ea26769f98b4a";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)}(),n.afterEach((function(n){_hmt.push(["_trackPageview",n.fullPath])})))}],bl=[];class vl extends class{constructor(){this.store=new Gt({data:{state:{}}})}$get(n){return this.store.state[n]}$set(n,e){Gt.set(this.store.state,n,e)}$emit(...n){this.store.$emit(...n)}$on(...n){this.store.$on(...n)}}{}Object.assign(vl.prototype,{getPageAsyncComponent:ro,getLayoutAsyncComponent:so,getAsyncComponent:oo,getVueComponent:lo});var yl={install(n){const e=new vl;n.$vuepress=e,n.prototype.$vuepress=e}};function kl(n,e){const t=e.toLowerCase();return n.options.routes.some(n=>n.path.toLowerCase()===t)}var xl={props:{pageKey:String,slotKey:{type:String,default:"default"}},render(n){const e=this.pageKey||this.$parent.$page.key;return uo("pageKey",e),Gt.component(e)||Gt.component(e,ro(e)),Gt.component(e)?n(e):n("")}},wl={functional:!0,props:{slotKey:String,required:!0},render:(n,{props:e,slots:t})=>n("div",{class:["content__"+e.slotKey]},t()[e.slotKey])},El={computed:{openInNewWindowTitle(){return this.$themeLocaleConfig.openNewWindowText||"(opens new window)"}}},_l=(t(244),t(245),Object(rl.a)(El,(function(){var n=this._self._c;return n("span",[n("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[n("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),this._v(" "),n("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})]),this._v(" "),n("span",{staticClass:"sr-only"},[this._v(this._s(this.openInNewWindowTitle))])])}),[],!1,null,null,null).exports),Sl={functional:!0,render(n,{parent:e,children:t}){if(e._isMounted)return t;e.$once("hook:mounted",()=>{e.$forceUpdate()})}};Gt.config.productionTip=!1,Gt.use($s),Gt.use(yl),Gt.mixin(function(n,e,t=Gt){!function(n){n.locales&&Object.keys(n.locales).forEach(e=>{n.locales[e].path=e});Object.freeze(n)}(e),t.$vuepress.$set("siteData",e);const a=new(n(t.$vuepress.$get("siteData"))),i=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(a)),r={};return Object.keys(i).reduce((n,e)=>(e.startsWith("$")&&(n[e]=i[e].get),n),r),{computed:r}}(n=>class{setPage(n){this.__page=n}get $site(){return n}get $themeConfig(){return this.$site.themeConfig}get $frontmatter(){return this.$page.frontmatter}get $localeConfig(){const{locales:n={}}=this.$site;let e,t;for(const a in n)"/"===a?t=n[a]:0===this.$page.path.indexOf(a)&&(e=n[a]);return e||t||{}}get $siteTitle(){return this.$localeConfig.title||this.$site.title||""}get $canonicalUrl(){const{canonicalUrl:n}=this.$page.frontmatter;return"string"==typeof n&&n}get $title(){const n=this.$page,{metaTitle:e}=this.$page.frontmatter;if("string"==typeof e)return e;const t=this.$siteTitle,a=n.frontmatter.home?null:n.frontmatter.title||n.title;return t?a?a+" | "+t:t:a||"VuePress"}get $description(){const n=function(n){if(n){const e=n.filter(n=>"description"===n.name)[0];if(e)return e.content}}(this.$page.frontmatter.meta);return n||(this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||"")}get $lang(){return this.$page.frontmatter.lang||this.$localeConfig.lang||"en-US"}get $localePath(){return this.$localeConfig.path||"/"}get $themeLocaleConfig(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}get $page(){return this.__page?this.__page:function(n,e){for(let t=0;t<n.length;t++){const a=n[t];if(a.path.toLowerCase()===e.toLowerCase())return a}return{path:"",frontmatter:{}}}(this.$site.pages,this.$route.path)}},ll)),Gt.component("Content",xl),Gt.component("ContentSlotsDistributor",wl),Gt.component("OutboundLink",_l),Gt.component("ClientOnly",Sl),Gt.component("Layout",so("Layout")),Gt.component("NotFound",so("NotFound")),Gt.prototype.$withBase=function(n){const e=this.$site.base;return"/"===n.charAt(0)?e+n.slice(1):n},window.__VUEPRESS__={version:"1.9.5",hash:"ff6c460"},async function(n){const e="undefined"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:ll.routerBase||ll.base,t=new $s({base:e,mode:"history",fallback:!1,routes:ol,scrollBehavior:(n,e,t)=>t||(n.hash?!Gt.$vuepress.$get("disableScrollBehavior")&&{selector:decodeURIComponent(n.hash)}:{x:0,y:0})});!function(n){n.beforeEach((e,t,a)=>{if(kl(n,e.path))a();else if(/(\/|\.html)$/.test(e.path))if(/\/$/.test(e.path)){const t=e.path.replace(/\/$/,"")+".html";kl(n,t)?a(t):a()}else a();else{const t=e.path+"/",i=e.path+".html";kl(n,i)?a(i):kl(n,t)?a(t):a()}})}(t);const a={};try{await Promise.all(fl.filter(n=>"function"==typeof n).map(e=>e({Vue:Gt,options:a,router:t,siteData:ll,isServer:n})))}catch(n){console.error(n)}return{app:new Gt(Object.assign(a,{router:t,render:n=>n("div",{attrs:{id:"app"}},[n("RouterView",{ref:"layout"}),n("div",{class:"global-ui"},bl.map(e=>n(e)))])})),router:t}}(!1).then(({app:n,router:e})=>{e.onReady(()=>{n.$mount("#app")})})}]);